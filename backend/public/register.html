<!DOCTYPE html><!DOCTYPE html><!DOCTYPE html>

<html lang="pt-BR">

<head><html lang="pt-BR"><html lang="pt-BR">

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"><head><head>

    <title>Cadastro - TemDeTudo</title>

        <meta charset="UTF-8">    <meta charset="UTF-8">

    <!-- Meta Tags -->

    <meta name="description" content="Cadastre-se no TemDeTudo e ganhe pontos em suas compras">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="theme-color" content="#4c1d95">

        <title>Cadastro - TemDeTudo</title>    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">

    <!-- Fonts -->

    <link rel="preconnect" href="https://fonts.googleapis.com">        <meta http-equiv="Pragma" content="no-cache">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">    <!-- Meta Tags -->    <meta http-equiv="Expires" content="0">

    

    <!-- Font Awesome Icons -->    <meta name="description" content="Cadastre-se no TemDeTudo e ganhe pontos em suas compras">    <title>Cadastro - Tem de Tudo</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

        <meta name="theme-color" content="#4c1d95">    

    <!-- Icons -->

    <link rel="icon" type="image/png" href="/img/logo.png">        <!-- Meta Tags PWA -->

    

    <!-- Stylesheets -->    <!-- Fonts -->    <meta name="description" content="Cadastre-se no Tem de Tudo e comece a acumular pontos e recompensas">

    <link rel="stylesheet" href="/css/modern-theme.css">

</head>    <link rel="preconnect" href="https://fonts.googleapis.com">    <meta name="theme-color" content="#4c1d95">

<body style="background: linear-gradient(135deg, #1f2937 0%, #374151 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center;">

        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Register Container -->

    <div class="register-container" style="width: 100%; max-width: 500px; margin: 2rem;">    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">    <meta name="apple-mobile-web-app-status-bar-style" content="default">

        <div class="card" style="border: none; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">

            <!-- Header -->        <meta name="apple-mobile-web-app-title" content="Cadastro - Tem de Tudo">

            <div class="card-header text-center" style="background: var(--gradient-primary); padding: var(--space-8);">

                <div style="margin-bottom: 1.5rem;">    <!-- Font Awesome Icons -->    

                    <img src="/img/logo.png" alt="TemDeTudo" style="width: 64px; height: 64px; border-radius: var(--radius-full); border: 3px solid white;">

                </div>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">    <!-- Fonts -->

                <h1 style="color: white; font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem;">Criar conta</h1>

                <p style="color: rgba(255,255,255,0.9); font-size: 0.875rem;">Cadastre-se e ganhe 100 pontos de bônus!</p>        <link rel="preconnect" href="https://fonts.googleapis.com">

            </div>

                <!-- Icons -->    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

            <!-- Register Form -->

            <div class="card-body" style="padding: var(--space-8);">    <link rel="icon" type="image/png" href="/img/logo.png">    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

                <form id="registerForm" onsubmit="handleRegister(event)">

                    <!-- Name -->        

                    <div class="form-group" style="margin-bottom: var(--space-6);">

                        <label for="name" class="form-label">    <!-- Stylesheets -->    <!-- Font Awesome Icons -->

                            <i class="fas fa-user icon-sm"></i> Nome completo

                        </label>    <link rel="stylesheet" href="/css/modern-theme.css">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">

                        <input 

                            type="text" </head>    <!-- Fallback Font Awesome -->

                            id="name" 

                            name="name" <body style="background: linear-gradient(135deg, #1f2937 0%, #374151 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center;">    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" crossorigin="anonymous">

                            class="form-control" 

                            placeholder="Seu nome completo"        

                            required

                            autocomplete="name"    <!-- Register Container -->    <!-- Icons -->

                        >

                    </div>    <div class="register-container" style="width: 100%; max-width: 500px; margin: 2rem;">    <link rel="icon" type="image/png" href="/img/logo.png">

                    

                    <!-- Email -->        <div class="card" style="border: none; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">    <link rel="apple-touch-icon" href="/img/logo.png">

                    <div class="form-group" style="margin-bottom: var(--space-6);">

                        <label for="email" class="form-label">            <!-- Header -->    

                            <i class="fas fa-envelope icon-sm"></i> Email

                        </label>            <div class="card-header text-center" style="background: var(--gradient-primary); padding: var(--space-8);">    <!-- Stylesheets -->

                        <input 

                            type="email"                 <div style="margin-bottom: 1.5rem;">    <link rel="stylesheet" href="/css/modern-theme.css">

                            id="email" 

                            name="email"                     <img src="/img/logo.png" alt="TemDeTudo" style="width: 64px; height: 64px; border-radius: var(--radius-full); border: 3px solid white;">    

                            class="form-control" 

                            placeholder="seu@email.com"                </div>    <style>

                            required

                            autocomplete="username"                <h1 style="color: white; font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem;">Criar conta</h1>        :root {

                        >

                    </div>                <p style="color: rgba(255,255,255,0.9); font-size: 0.875rem;">Cadastre-se e ganhe 100 pontos de bônus!</p>            --primary-color: #6366f1;

                    

                    <!-- Phone -->            </div>            --primary-dark: #4f46e5;

                    <div class="form-group" style="margin-bottom: var(--space-6);">

                        <label for="phone" class="form-label">                        --secondary-color: #8b5cf6;

                            <i class="fas fa-phone icon-sm"></i> Telefone (opcional)

                        </label>            <!-- Register Form -->            --success-color: #10b981;

                        <input 

                            type="tel"             <div class="card-body" style="padding: var(--space-8);">            --danger-color: #ef4444;

                            id="phone" 

                            name="phone"                 <form id="registerForm" onsubmit="handleRegister(event)">            --warning-color: #f59e0b;

                            class="form-control" 

                            placeholder="(11) 99999-9999"                    <!-- Name -->            --info-color: #3b82f6;

                            autocomplete="tel"

                        >                    <div class="form-group" style="margin-bottom: var(--space-6);">            --light: #f8fafc;

                    </div>

                                            <label for="name" class="form-label">            --dark: #1e293b;

                    <!-- Password -->

                    <div class="form-group" style="margin-bottom: var(--space-6);">                            <i class="fas fa-user icon-sm"></i> Nome completo            --gray-100: #f1f5f9;

                        <label for="password" class="form-label">

                            <i class="fas fa-lock icon-sm"></i> Senha                        </label>            --gray-200: #e2e8f0;

                        </label>

                        <div style="position: relative;">                        <input             --gray-300: #cbd5e1;

                            <input 

                                type="password"                             type="text"             --gray-400: #94a3b8;

                                id="password" 

                                name="password"                             id="name"             --gray-500: #64748b;

                                class="form-control" 

                                placeholder="••••••••"                            name="name"             --gray-600: #475569;

                                required

                                autocomplete="new-password"                            class="form-control"             --gray-700: #334155;

                                minlength="8"

                            >                            placeholder="Seu nome completo"            --gray-800: #1e293b;

                            <button 

                                type="button"                             required            --gray-900: #0f172a;

                                onclick="togglePasswordVisibility('password')" 

                                style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray-500); cursor: pointer;"                            autocomplete="name"            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);

                            >

                                <i id="passwordToggleIcon" class="fas fa-eye"></i>                        >            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);

                            </button>

                        </div>                    </div>            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);

                        <small style="color: var(--gray-600); font-size: 0.75rem; margin-top: 0.25rem; display: block;">

                            Mínimo de 8 caracteres                                --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

                        </small>

                    </div>                    <!-- Email -->            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);



                    <!-- Terms and Conditions -->                    <div class="form-group" style="margin-bottom: var(--space-6);">            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

                    <div class="form-group" style="margin-bottom: var(--space-6);">

                        <label style="display: flex; align-items: flex-start; cursor: pointer; font-size: 0.875rem; color: var(--gray-600);">                        <label for="email" class="form-label">            --border-radius: 0.5rem;

                            <input 

                                type="checkbox"                             <i class="fas fa-envelope icon-sm"></i> Email            --space-1: 0.25rem;

                                id="terms" 

                                name="terms"                         </label>            --space-2: 0.5rem;

                                required

                                style="margin-right: 0.75rem; margin-top: 0.125rem; flex-shrink: 0;"                        <input             --space-3: 0.75rem;

                            >

                            <span>                            type="email"             --space-4: 1rem;

                                Eu concordo com os 

                                <a href="/privacidade.html" target="_blank" style="color: var(--primary-color); text-decoration: none;">                            id="email"             --space-5: 1.25rem;

                                    termos de uso e política de privacidade

                                </a>                            name="email"             --space-6: 1.5rem;

                            </span>

                        </label>                            class="form-control"             --space-8: 2rem;

                    </div>

                            placeholder="seu@email.com"            --space-10: 2.5rem;

                    <!-- Submit Button -->

                    <button                             required            --space-12: 3rem;

                        type="submit" 

                        class="btn btn-primary"                             autocomplete="username"        }

                        id="registerBtn"

                        style="width: 100%; padding: 0.875rem; font-weight: 600; border-radius: var(--border-radius); margin-bottom: var(--space-4);"                        >

                    >

                        <i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>                    </div>        * {

                        Criar conta

                    </button>                                margin: 0;



                    <!-- Divider -->                    <!-- Phone -->            padding: 0;

                    <div style="text-align: center; margin: var(--space-6) 0;">

                        <span style="color: var(--gray-500); font-size: 0.875rem; background: white; padding: 0 1rem; position: relative;">                    <div class="form-group" style="margin-bottom: var(--space-6);">            box-sizing: border-box;

                            ou

                        </span>                        <label for="phone" class="form-label">        }

                        <hr style="border: none; height: 1px; background: var(--gray-200); margin-top: -0.6rem; z-index: -1;">

                    </div>                            <i class="fas fa-phone icon-sm"></i> Telefone (opcional)



                    <!-- Login Link -->                        </label>        body {

                    <div style="text-align: center;">

                        <p style="color: var(--gray-600); font-size: 0.875rem; margin-bottom: var(--space-4);">                        <input             font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

                            Já tem uma conta?

                        </p>                            type="tel"             line-height: 1.6;

                        <a 

                            href="/login.html"                             id="phone"             color: var(--gray-800);

                            class="btn btn-outline-primary" 

                            style="width: 100%; padding: 0.875rem; font-weight: 600; border-radius: var(--border-radius);"                            name="phone"             background: var(--gray-100);

                        >

                            <i class="fas fa-sign-in-alt" style="margin-right: 0.5rem;"></i>                            class="form-control"         }

                            Fazer login

                        </a>                            placeholder="(11) 99999-9999"

                    </div>

                </form>                            autocomplete="tel"        .app-container {

            </div>

        </div>                        >            min-height: 100vh;



        <!-- Back to Home -->                    </div>            display: flex;

        <div style="text-align: center; margin-top: var(--space-6);">

            <a href="/index.html" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 0.875rem;">                                flex-direction: column;

                <i class="fas fa-arrow-left" style="margin-right: 0.5rem;"></i>

                Voltar ao início                    <!-- Password -->        }

            </a>

        </div>                    <div class="form-group" style="margin-bottom: var(--space-6);">

    </div>

                        <label for="password" class="form-label">        .app-header {

    <!-- Loading Overlay -->

    <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;">                            <i class="fas fa-lock icon-sm"></i> Senha            background: white;

        <div style="background: white; padding: 2rem; border-radius: var(--border-radius); text-align: center;">

            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>                        </label>            box-shadow: var(--shadow);

            <p>Criando sua conta...</p>

        </div>                        <div style="position: relative;">            padding: 1rem 0;

    </div>

                            <input             position: sticky;

    <!-- Success/Error Messages -->

    <div id="messageContainer" style="position: fixed; top: 20px; right: 20px; z-index: 10000;"></div>                                type="password"             top: 0;



    <script>                                id="password"             z-index: 100;

        // Toggle password visibility

        function togglePasswordVisibility(fieldId) {                                name="password"         }

            const passwordInput = document.getElementById(fieldId);

            const toggleIcon = document.getElementById('passwordToggleIcon');                                class="form-control" 

            

            if (passwordInput.type === 'password') {                                placeholder="••••••••"        .header-container {

                passwordInput.type = 'text';

                toggleIcon.className = 'fas fa-eye-slash';                                required            max-width: 1200px;

            } else {

                passwordInput.type = 'password';                                autocomplete="new-password"            margin: 0 auto;

                toggleIcon.className = 'fas fa-eye';

            }                                minlength="8"            padding: 0 1rem;

        }

                            >            display: flex;

        // Handle register form submission

        async function handleRegister(event) {                            <button             justify-content: space-between;

            event.preventDefault();

                                            type="button"             align-items: center;

            const form = event.target;

            const formData = new FormData(form);                                onclick="togglePasswordVisibility('password')"         }

            const registerBtn = document.getElementById('registerBtn');

            const loadingOverlay = document.getElementById('loadingOverlay');                                style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray-500); cursor: pointer;"

            

            // Show loading                            >        .logo {

            registerBtn.disabled = true;

            registerBtn.innerHTML = '<i class="fas fa-spinner fa-spin" style="margin-right: 0.5rem;"></i>Criando conta...';                                <i id="passwordToggleIcon" class="fas fa-eye"></i>            display: flex;

            loadingOverlay.style.display = 'flex';

                                        </button>            align-items: center;

            try {

                const response = await fetch('/api/auth/register', {                        </div>            text-decoration: none;

                    method: 'POST',

                    headers: {                        <small style="color: var(--gray-600); font-size: 0.75rem; margin-top: 0.25rem; display: block;">            font-size: 1.25rem;

                        'Content-Type': 'application/json',

                        'Accept': 'application/json',                            Mínimo de 8 caracteres            font-weight: 700;

                        'X-Requested-With': 'XMLHttpRequest'

                    },                        </small>            color: var(--gray-900);

                    body: JSON.stringify({

                        name: formData.get('name'),                    </div>        }

                        email: formData.get('email'),

                        phone: formData.get('phone'),

                        password: formData.get('password'),

                        terms: formData.get('terms') ? true : false                    <!-- Terms and Conditions -->        .logo-image {

                    })

                });                    <div class="form-group" style="margin-bottom: var(--space-6);">            width: 40px;



                const data = await response.json();                        <label style="display: flex; align-items: flex-start; cursor: pointer; font-size: 0.875rem; color: var(--gray-600);">            height: 40px;



                if (response.ok && data.success) {                            <input             border-radius: 50%;

                    // Save token if provided

                    if (data.data && data.data.token) {                                type="checkbox"         }

                        localStorage.setItem('token', data.data.token);

                        localStorage.setItem('user', JSON.stringify(data.data.user));                                id="terms" 

                    }

                                                    name="terms"         .nav-menu {

                    showMessage(data.message || 'Conta criada com sucesso! Você ganhou 100 pontos de bônus!', 'success');

                                                    required            display: flex;

                    // Redirect after short delay

                    setTimeout(() => {                                style="margin-right: 0.75rem; margin-top: 0.125rem; flex-shrink: 0;"            gap: 1rem;

                        window.location.href = data.data && data.data.token ? '/pontos.html' : '/login.html';

                    }, 2000);                            >        }

                } else {

                    throw new Error(data.message || 'Erro ao criar conta');                            <span>

                }

            } catch (error) {                                Eu concordo com os         .nav-menu a {

                console.error('Erro no cadastro:', error);

                showMessage(error.message || 'Erro ao criar conta. Tente novamente.', 'error');                                <a href="/privacidade.html" target="_blank" style="color: var(--primary-color); text-decoration: none;">            padding: 0.5rem 1rem;

            } finally {

                // Hide loading                                    termos de uso e política de privacidade            text-decoration: none;

                registerBtn.disabled = false;

                registerBtn.innerHTML = '<i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>Criar conta';                                </a>            color: var(--gray-600);

                loadingOverlay.style.display = 'none';

            }                            </span>            border-radius: var(--border-radius);

        }

                        </label>            transition: all 0.2s ease;

        // Show message function

        function showMessage(message, type = 'info') {                    </div>            font-weight: 500;

            const container = document.getElementById('messageContainer');

            const messageDiv = document.createElement('div');        }

            

            const bgColor = type === 'success' ? 'var(--success-color)' :                     <!-- Marketing consent -->

                           type === 'error' ? 'var(--danger-color)' : 'var(--info-color)';

                                <div class="form-group" style="margin-bottom: var(--space-6);">        .nav-menu a:hover,

            messageDiv.style.cssText = `

                background: ${bgColor};                        <label style="display: flex; align-items: flex-start; cursor: pointer; font-size: 0.875rem; color: var(--gray-600);">        .nav-menu a.active {

                color: white;

                padding: 1rem 1.5rem;                            <input             background: var(--primary-color);

                border-radius: var(--border-radius);

                margin-bottom: 0.5rem;                                type="checkbox"             color: white;

                box-shadow: var(--shadow-lg);

                animation: slideIn 0.3s ease;                                id="marketing"         }

            `;

                                            name="marketing"

            messageDiv.innerHTML = `

                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}" style="margin-right: 0.5rem;"></i>                                style="margin-right: 0.75rem; margin-top: 0.125rem; flex-shrink: 0;"        .icon-sm {

                ${message}

            `;                            >            width: 1rem;

            

            container.appendChild(messageDiv);                            <span>            height: 1rem;

            

            // Remove message after 5 seconds                                Quero receber ofertas e novidades por email            margin-right: 0.5rem;

            setTimeout(() => {

                messageDiv.remove();                            </span>        }

            }, 5000);

        }                        </label>



        // Format phone number as user types                    </div>        .main-content {

        document.getElementById('phone').addEventListener('input', function(e) {

            let value = e.target.value.replace(/\D/g, '');            flex: 1;

            if (value.length >= 11) {

                value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');                    <!-- Submit Button -->            display: flex;

            } else if (value.length >= 7) {

                value = value.replace(/(\d{2})(\d{4})(\d{0,4})/, '($1) $2-$3');                    <button             align-items: center;

            } else if (value.length >= 3) {

                value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');                        type="submit"             justify-content: center;

            }

            e.target.value = value;                        class="btn btn-primary"             padding: 2rem 1rem;

        });

                        id="registerBtn"        }

        // Add CSS animation

        const style = document.createElement('style');                        style="width: 100%; padding: 0.875rem; font-weight: 600; border-radius: var(--border-radius); margin-bottom: var(--space-4);"

        style.textContent = `

            @keyframes slideIn {                    >        .card {

                from { transform: translateX(100%); opacity: 0; }

                to { transform: translateX(0); opacity: 1; }                        <i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>            background: white;

            }

        `;                        Criar conta            border-radius: var(--border-radius);

        document.head.appendChild(style);

    </script>                    </button>            box-shadow: var(--shadow-xl);

</body>

</html>            overflow: hidden;

                    <!-- Divider -->            width: 100%;

                    <div style="text-align: center; margin: var(--space-6) 0;">            max-width: 450px;

                        <span style="color: var(--gray-500); font-size: 0.875rem; background: white; padding: 0 1rem; position: relative;">        }

                            ou

                        </span>        .card-header {

                        <hr style="border: none; height: 1px; background: var(--gray-200); margin-top: -0.6rem; z-index: -1;">            background: var(--gradient-primary);

                    </div>            padding: var(--space-8);

            text-align: center;

                    <!-- Login Link -->            color: white;

                    <div style="text-align: center;">        }

                        <p style="color: var(--gray-600); font-size: 0.875rem; margin-bottom: var(--space-4);">

                            Já tem uma conta?        .card-body {

                        </p>            padding: var(--space-8);

                        <a         }

                            href="/login.html" 

                            class="btn btn-outline-primary"         .form-group {

                            style="width: 100%; padding: 0.875rem; font-weight: 600; border-radius: var(--border-radius);"            margin-bottom: var(--space-6);

                        >        }

                            <i class="fas fa-sign-in-alt" style="margin-right: 0.5rem;"></i>

                            Fazer login        .form-label {

                        </a>            display: block;

                    </div>            margin-bottom: var(--space-2);

                </form>            font-weight: 600;

            </div>            color: var(--gray-700);

        </div>            font-size: 0.875rem;

        }

        <!-- Back to Home -->

        <div style="text-align: center; margin-top: var(--space-6);">        .form-control {

            <a href="/index.html" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 0.875rem;">            width: 100%;

                <i class="fas fa-arrow-left" style="margin-right: 0.5rem;"></i>            padding: 0.75rem 1rem;

                Voltar ao início            border: 2px solid var(--gray-300);

            </a>            border-radius: var(--border-radius);

        </div>            font-size: 1rem;

    </div>            transition: all 0.2s ease;

            background: white;

    <!-- Loading Overlay -->        }

    <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;">

        <div style="background: white; padding: 2rem; border-radius: var(--border-radius); text-align: center;">        .form-control:focus {

            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>            outline: none;

            <p>Criando sua conta...</p>            border-color: var(--primary-color);

        </div>            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);

    </div>        }



    <!-- Success/Error Messages -->        .btn {

    <div id="messageContainer" style="position: fixed; top: 20px; right: 20px; z-index: 10000;"></div>            display: inline-flex;

            align-items: center;

    <script>            justify-content: center;

        // Toggle password visibility            gap: 0.5rem;

        function togglePasswordVisibility(fieldId) {            padding: 0.75rem 1.5rem;

            const passwordInput = document.getElementById(fieldId);            border: none;

            const toggleIcon = document.getElementById('passwordToggleIcon');            border-radius: var(--border-radius);

                        font-weight: 600;

            if (passwordInput.type === 'password') {            font-size: 1rem;

                passwordInput.type = 'text';            cursor: pointer;

                toggleIcon.className = 'fas fa-eye-slash';            transition: all 0.2s ease;

            } else {            text-decoration: none;

                passwordInput.type = 'password';            width: 100%;

                toggleIcon.className = 'fas fa-eye';        }

            }

        }        .btn-primary {

            background: var(--gradient-primary);

        // Handle register form submission            color: white;

        async function handleRegister(event) {        }

            event.preventDefault();

                    .btn-primary:hover {

            const form = event.target;            transform: translateY(-1px);

            const formData = new FormData(form);            box-shadow: var(--shadow-lg);

            const registerBtn = document.getElementById('registerBtn');        }

            const loadingOverlay = document.getElementById('loadingOverlay');

                    .btn:disabled {

            // Show loading            opacity: 0.6;

            registerBtn.disabled = true;            cursor: not-allowed;

            registerBtn.innerHTML = '<i class="fas fa-spinner fa-spin" style="margin-right: 0.5rem;"></i>Criando conta...';            transform: none !important;

            loadingOverlay.style.display = 'flex';        }

            

            try {        .alert {

                const response = await fetch('/api/auth/register', {            padding: 1rem;

                    method: 'POST',            border-radius: var(--border-radius);

                    headers: {            margin-bottom: 1rem;

                        'Content-Type': 'application/json',            font-size: 0.875rem;

                        'Accept': 'application/json',        }

                        'X-Requested-With': 'XMLHttpRequest'

                    },        .alert-danger {

                    body: JSON.stringify({            background-color: #fef2f2;

                        name: formData.get('name'),            color: #dc2626;

                        email: formData.get('email'),            border: 1px solid #fecaca;

                        phone: formData.get('phone'),        }

                        password: formData.get('password'),

                        terms: formData.get('terms') ? true : false,        .alert-success {

                        marketing: formData.get('marketing') ? true : false            background-color: #f0fdf4;

                    })            color: #16a34a;

                });            border: 1px solid #bbf7d0;

        }

                const data = await response.json();

        .text-center { text-align: center; }

                if (response.ok && data.success) {        .text-sm { font-size: 0.875rem; }

                    // Save token if provided        .mt-4 { margin-top: 1rem; }

                    if (data.data && data.data.token) {        .mb-0 { margin-bottom: 0; }

                        localStorage.setItem('token', data.data.token);

                        localStorage.setItem('user', JSON.stringify(data.data.user));        @media (max-width: 768px) {

                    }            .nav-menu {

                                    display: none;

                    showMessage(data.message || 'Conta criada com sucesso! Você ganhou 100 pontos de bônus!', 'success');            }

                            }

                    // Redirect after short delay    </style>

                    setTimeout(() => {    

                        window.location.href = data.data && data.data.token ? '/pontos.html' : '/login.html';    <!-- Manifest PWA -->

                    }, 2000);    <link rel="manifest" href="/manifest.json">

                } else {</head>

                    throw new Error(data.message || 'Erro ao criar conta');<body>

                }    <div class="app-container">

            } catch (error) {        <!-- Header -->

                console.error('Erro no cadastro:', error);        <header class="app-header">

                showMessage(error.message || 'Erro ao criar conta. Tente novamente.', 'error');            <div class="header-container">

            } finally {                <a href="/" class="logo">

                // Hide loading                    <img src="/img/logo.png" alt="Tem de Tudo" class="logo-image">

                registerBtn.disabled = false;                </a>

                registerBtn.innerHTML = '<i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>Criar conta';                

                loadingOverlay.style.display = 'none';                <nav class="nav-menu">

            }                    <a href="/"><i class="fas fa-home icon-sm"></i> Início</a>

        }                    <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>

                    <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>

        // Show message function                    <a href="/login.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>

        function showMessage(message, type = 'info') {                    <a href="/register.html" class="active"><i class="fas fa-user-plus icon-sm"></i> Cadastro</a>

            const container = document.getElementById('messageContainer');                </nav>

            const messageDiv = document.createElement('div');                

                            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">

            const bgColor = type === 'success' ? 'var(--success-color)' :                     <span></span>

                           type === 'error' ? 'var(--danger-color)' : 'var(--info-color)';                    <span></span>

                                <span></span>

            messageDiv.style.cssText = `                </button>

                background: ${bgColor};            </div>

                color: white;        </header>

                padding: 1rem 1.5rem;

                border-radius: var(--border-radius);        <!-- Mobile Navigation -->

                margin-bottom: 0.5rem;        <div class="mobile-nav" id="mobileNav">

                box-shadow: var(--shadow-lg);            <div class="mobile-nav-menu">

                animation: slideIn 0.3s ease;                <a href="/"><i class="fas fa-home icon-sm"></i> Início</a>

            `;                <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>

                            <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>

            messageDiv.innerHTML = `                <a href="/login.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>

                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}" style="margin-right: 0.5rem;"></i>                <a href="/register.html" class="active"><i class="fas fa-user-plus icon-sm"></i> Cadastro</a>

                ${message}            </div>

            `;        </div>

            

            container.appendChild(messageDiv);        <!-- Main Content -->

                    <main class="app-main">

            // Remove message after 5 seconds            <div class="container" style="max-width: 500px; margin: 0 auto; padding: var(--space-6);">

            setTimeout(() => {                

                messageDiv.remove();                <div class="card">

            }, 5000);                    <div class="card-header text-center" style="background: white; color: var(--gray-900);">

        }                        <svg style="width: 24px; height: 24px; color: #6366f1; margin-bottom: 1rem;" viewBox="0 0 24 24" fill="currentColor">

                            <path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>

        // Format phone number as user types                        </svg>

        document.getElementById('phone').addEventListener('input', function(e) {                        <h1 style="color: var(--gray-900); margin-bottom: 0.5rem;">Criar Conta</h1>

            let value = e.target.value.replace(/\D/g, '');                        <p style="color: var(--gray-600);">Cadastre-se gratuitamente e comece a acumular pontos em estabelecimentos parceiros. É rápido, fácil e você já sai com seu QR Code personalizado!</p>

            if (value.length >= 11) {                    </div>

                value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');                    

            } else if (value.length >= 7) {                    <form id="registerForm" class="card-body" style="padding: 10px;">

                value = value.replace(/(\d{2})(\d{4})(\d{0,4})/, '($1) $2-$3');                        

            } else if (value.length >= 3) {                        <!-- Tipo de Conta -->

                value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');                        <div class="form-group">

            }                            <label class="form-label">

            e.target.value = value;                                <svg style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="currentColor">

        });                                    <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A3.002 3.002 0 0 0 17.5 7H14c-.8 0-1.5.7-1.5 1.5v6c0 1.1.9 2 2 2h2V22h3zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4z"/>

                                </svg>Tipo de Conta

        // Add CSS animation                            </label>

        const style = document.createElement('style');                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2);">

        style.textContent = `                                <label class="account-type-option">

            @keyframes slideIn {                                    <input type="radio" name="tipo_conta" value="cliente" checked>

                from { transform: translateX(100%); opacity: 0; }                                    <div class="account-type-card">

                to { transform: translateX(0); opacity: 1; }                                        <i class="fas fa-user"></i>

            }                                        <span>Cliente</span>

        `;                                    </div>

        document.head.appendChild(style);                                </label>

    </script>                                <label class="account-type-option">

</body>                                    <input type="radio" name="tipo_conta" value="empresa">

</html>                                    <div class="account-type-card">
                                        <i class="fas fa-building"></i>
                                        <span>Empresa</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="nome" class="form-label">
                                <i class="fas fa-user icon-sm"></i> Nome Completo
                            </label>
                            <input 
                                type="text" 
                                id="nome" 
                                name="nome" 
                                class="form-control" 
                                placeholder="Seu nome completo" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="telefone" class="form-label">
                                <svg style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                                </svg>Telefone
                            </label>
                            <input 
                                type="tel" 
                                id="telefone" 
                                name="telefone" 
                                class="form-control" 
                                placeholder="(11) 99999-9999" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="email" class="form-label">
                                <svg style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                                </svg>Email
                            </label>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                class="form-control" 
                                placeholder="seu@email.com" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="password" class="form-label">
                                <svg style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                                </svg>Senha
                            </label>
                            <input 
                                type="password" 
                                id="password" 
                                name="password" 
                                class="form-control" 
                                placeholder="Crie uma senha forte" 
                                required
                                minlength="6"
                            >
                        </div>

                        <div class="form-group">
                            <label for="password_confirmation" class="form-label">
                                <svg style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                                </svg>Confirmar Senha
                            </label>
                            <input 
                                type="password" 
                                id="password_confirmation" 
                                name="password_confirmation" 
                                class="form-control" 
                                placeholder="Confirme sua senha" 
                                required
                            >
                        </div>

                        <!-- Campos adicionais para empresas -->
                        <div id="camposEmpresa" style="display: none;">
                            <div class="form-group">
                                <label for="cnpj" class="form-label">
                                    <i class="fas fa-building icon-sm"></i> CNPJ
                                </label>
                                <input 
                                    type="text" 
                                    id="cnpj" 
                                    name="cnpj" 
                                    class="form-control" 
                                    placeholder="00.000.000/0000-00"
                                >
                            </div>

                            <div class="form-group">
                                <label for="categoria" class="form-label">
                                    <i class="fas fa-tags icon-sm"></i> Categoria
                                </label>
                                <select id="categoria" name="categoria" class="form-control">
                                    <option value="">Selecione uma categoria</option>
                                    <option value="alimentacao">Alimentação</option>
                                    <option value="varejo">Varejo</option>
                                    <option value="saude">Saúde</option>
                                    <option value="servicos">Serviços</option>
                                    <option value="entretenimento">Entretenimento</option>
                                </select>
                            </div>

                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Atenção:</strong> Contas de empresa precisam ser aprovadas pelo administrador antes de ficarem ativas.
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary w-full btn-lg">
                            <i class="fas fa-user-plus icon-sm"></i>
                            Criar minha conta grátis
                        </button>

                        <!-- Aceite de Termos -->
                        <div style="margin-top: 20px; padding: 10px;">
                            <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer; font-size: 0.875rem; color: #4b5563; line-height: 1.5;">
                                <input type="checkbox" required style="margin-top: 2px; flex-shrink: 0; width: 16px; height: 16px;">
                                <span style="flex: 1;">
                                    Aceito os 
                                    <a href="/privacidade.html" target="_blank" style="color: #6366f1; text-decoration: underline; font-weight: 500;">Termos de Uso</a> 
                                    e 
                                    <a href="/privacidade.html" target="_blank" style="color: #6366f1; text-decoration: underline; font-weight: 500;">Política de Privacidade</a>
                                    do Tem de Tudo
                                </span>
                            </label>
                        </div>
                    </form>

                    <div class="card-footer text-center">
                        <p>Já tem uma conta? <a href="/login.html" style="color: var(--primary-purple); font-weight: 600;">Entre agora</a></p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div>Criando sua conta...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/app-fixed.js"></script>
    <script>
        let formSubmitted = false; // Previne submissão dupla

        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const btn = document.querySelector('.mobile-menu-btn');
            mobileNav.classList.toggle('active');
            btn.classList.toggle('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            
            // Toggle campos empresa
            const tipoContaInputs = document.querySelectorAll('input[name="tipo_conta"]');
            const camposEmpresa = document.getElementById('camposEmpresa');
            
            tipoContaInputs.forEach(input => {
                input.addEventListener('change', function() {
                    if (this.value === 'empresa') {
                        camposEmpresa.style.display = 'block';
                        document.getElementById('cnpj').required = true;
                        document.getElementById('categoria').required = true;
                    } else {
                        camposEmpresa.style.display = 'none';
                        document.getElementById('cnpj').required = false;
                        document.getElementById('categoria').required = false;
                    }
                });
            });

            // Máscara para telefone
            const telefoneInput = document.getElementById('telefone');
            if (telefoneInput) {
                telefoneInput.addEventListener('input', function() {
                    let value = this.value.replace(/\D/g, '');
                    if (value.length <= 11) {
                        if (value.length <= 10) {
                            value = value.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3');
                        } else {
                            value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
                        }
                        this.value = value;
                    }
                });
            }

            // Máscara para CNPJ
            const cnpjInput = document.getElementById('cnpj');
            if (cnpjInput) {
                cnpjInput.addEventListener('input', function() {
                    let value = this.value.replace(/\D/g, '');
                    if (value.length <= 14) {
                        value = value.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, '$1.$2.$3/$4-$5');
                        this.value = value;
                    }
                });
            }

            // Validação de confirmação de senha
            const passwordConfirm = document.getElementById('password_confirmation');
            const password = document.getElementById('password');
            
            function validarSenhas() {
                if (passwordConfirm.value && passwordConfirm.value !== password.value) {
                    passwordConfirm.setCustomValidity('As senhas não coincidem');
                    passwordConfirm.classList.add('error');
                } else {
                    passwordConfirm.setCustomValidity('');
                    passwordConfirm.classList.remove('error');
                }
            }
            
            if (passwordConfirm && password) {
                passwordConfirm.addEventListener('input', validarSenhas);
                password.addEventListener('input', validarSenhas);
            }

            // Submissão do formulário (SEM DUPLICAÇÃO)
            const registerForm = document.getElementById('registerForm');
            if (registerForm) {
                registerForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    if (formSubmitted) return; // Previne submissão dupla
                    formSubmitted = true;
                    
                    const loadingOverlay = document.getElementById('loadingOverlay');
                    loadingOverlay.style.display = 'flex';

                    try {
                        const formData = new FormData(this);
                        const data = Object.fromEntries(formData);
                        
                        // Simulação de registro
                        await new Promise(resolve => setTimeout(resolve, 2000));
                        
                        if (data.tipo_conta === 'empresa') {
                            // Para empresas - aguardar aprovação
                            alert('Solicitação de cadastro enviada!\n\nSua conta empresarial será analisada pelo nosso time e você receberá um email em até 24h com o resultado da aprovação.');
                            window.location.href = '/login.html';
                        } else {
                            // Para clientes - acesso direto
                            localStorage.setItem('user', JSON.stringify({
                                id: Date.now(),
                                nome: data.nome,
                                email: data.email,
                                telefone: data.telefone,
                                pontos: 100, // Bônus de boas-vindas
                                nivel: 'Bronze',
                                tipo: 'cliente'
                            }));

                            alert('Conta criada com sucesso!\n\nVocê ganhou 100 pontos de bônus de boas-vindas! 🎉');
                            window.location.href = '/profile-client.html';
                        }
                        
                    } catch (error) {
                        console.error('Erro ao criar conta:', error);
                        alert('Erro ao criar conta. Tente novamente.');
                        formSubmitted = false;
                    } finally {
                        loadingOverlay.style.display = 'none';
                    }
                });
            }
        });
    </script>

    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-spinner {
            border: 3px solid var(--primary-purple);
            border-top: 3px solid transparent;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .account-type-option {
            cursor: pointer;
        }

        .account-type-option input {
            display: none;
        }

        .account-type-card {
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
            transition: all 0.3s ease;
            background: var(--gray-50);
        }

        .account-type-card i {
            font-size: 2rem;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
            display: block;
        }

        .account-type-option input:checked + .account-type-card {
            border-color: var(--primary-purple);
            background: var(--primary-purple);
            color: white;
        }

        .account-type-option input:checked + .account-type-card i {
            color: white;
        }

        .form-control.error {
            border-color: var(--error-red);
            box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
        }

        .alert {
            padding: var(--space-3);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: flex-start;
            gap: var(--space-2);
        }

        .alert-info {
            background: rgba(76, 29, 149, 0.1);
            color: var(--primary-purple);
            border: 1px solid rgba(76, 29, 149, 0.2);
        }

        .container {
            animation: fadeIn 0.6s ease forwards;
        }

        @media (max-width: 768px) {
            .container {
                padding: var(--space-4) !important;
            }
        }
        
        /* Força a exibição dos ícones */
        .fas, .far, .fab {
            font-family: "Font Awesome 6 Free", "Font Awesome 6 Pro", "FontAwesome" !important;
            font-weight: 900 !important;
            display: inline-block !important;
            font-style: normal !important;
            font-variant: normal !important;
            text-rendering: auto !important;
            -webkit-font-smoothing: antialiased !important;
        }
        
        i[class*="fa-"] {
            display: inline-block !important;
            font-style: normal !important;
        }
    </style>
</body>
</html>