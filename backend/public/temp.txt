<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sistema de Fidelidade - Acessos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 30px;
            padding: 60px 40px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.3);
            max-width: 1000px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            font-size: 42px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #666;
            font-size: 18px;
            margin-bottom: 50px;
        }

        .access-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .access-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 40px 30px;
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .access-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .access-card.cliente {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }

        .access-card.empresa {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .access-card.admin {
            background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
            color: white;
        }

        .icon {
            font-size: 60px;
            margin-bottom: 20px;
        }

        .access-card h2 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .access-card p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .btn {
            background: rgba(255,255,255,0.3);
            color: inherit;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid rgba(255,255,255,0.5);
        }

        .btn:hover {
            background: rgba(255,255,255,0.5);
            transform: scale(1.05);
        }

        .credentials {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 30px;
            margin-top: 40px;
        }

        .credentials h3 {
            color: #856404;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .cred-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            text-align: left;
        }

        .cred-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
        }

        .cred-section h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .cred-section p {
            color: #666;
            font-size: 14px;
            margin: 5px 0;
            font-family: 'Courier New', monospace;
        }

        .cred-section .senha {
            color: #dc3545;
            font-weight: bold;
        }

        .test-link {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 30px;
            transition: all 0.3s;
        }

        .test-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);
            padding: 20px;
            border-radius: 15px;
        }

        .stat-box .number {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
        }

        .stat-box .label {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
                border-radius: 20px;
            }

            h1 {
                font-size: 28px;
                margin-bottom: 15px;
                line-height: 1.3;
            }

            .subtitle {
                font-size: 15px;
                margin-bottom: 30px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                margin: 20px 0;
            }

            .stat-box {
                padding: 15px 10px;
            }

            .stat-box .number {
                font-size: 24px;
            }

            .stat-box .label {
                font-size: 12px;
            }

            .access-types {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .access-card {
                padding: 30px 20px;
            }

            .icon {
                font-size: 50px;
            }

            .access-card h2 {
                font-size: 22px;
            }

            .access-card p {
                font-size: 14px;
            }

            .credentials {
                margin-top: 30px;
            }

            .cred-section {
                margin-bottom: 20px;
            }

            .cred-section h4 {
                font-size: 16px;
            }

            .cred-section p {
                font-size: 13px;
            }

            .test-link {
                padding: 12px 30px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 25px 15px;
            }

            h1 {
                font-size: 24px;
            }

            .subtitle {
                font-size: 14px;
                margin-bottom: 25px;
            }

            .stat-box .number {
                font-size: 20px;
            }

            .stat-box .label {
                font-size: 11px;
            }

            .access-card {
                padding: 25px 15px;
            }

            .icon {
                font-size: 40px;
            }

            .access-card h2 {
                font-size: 20px;
            }

            .access-card p {
                font-size: 13px;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <h1>?? Sistema de Fidelidade</h1>
        <p class="subtitle">Escolha seu tipo de acesso para entrar no sistema</p>

        <div class="stats">
            <div class="stat-box">
                <div class="number">3</div>
                <div class="label">Administradores</div>
            </div>
            <div class="stat-box">
                <div class="number">50</div>
                <div class="label">Clientes</div>
            </div>
            <div class="stat-box">
                <div class="number">20</div>
                <div class="label">Empresas</div>
            </div>
            <div class="stat-box">
                <div class="number">3.400+</div>
                <div class="label">Transa??es</div>
            </div>
        </div>

        <div class="access-types">
            <a href="login.html" class="access-card cliente">
                <div class="icon">??</div>
                <h2>Cliente</h2>
                <p>Acumule pontos, resgate promo??es e avalie empresas</p>
                <span class="btn">Entrar como Cliente</span>
            </a>

            <a href="login.html" class="access-card empresa">
                <div class="icon">??</div>
                <h2>Empresa</h2>
                <p>Gerencie clientes, crie promo??es e acompanhe estat?sticas</p>
                <span class="btn">Entrar como Empresa</span>
            </a>

            <a href="admin-login.html" class="access-card admin">
                <div class="icon">??</div>
                <h2>Admin</h2>
                <p>Gerencie todo o sistema, usu?rios e relat?rios</p>
                <span class="btn">Entrar como Admin</span>
            </a>
        </div>

        <div class="credentials">
            <h3>?? Credenciais de Teste</h3>
            
            <div class="cred-grid">
                <div class="cred-section">
                    <h4>????? Administradores</h4>
                    <p>admin@sistema.com</p>
                    <p>suporte@sistema.com</p>
                    <p>gestor@sistema.com</p>
                    <p class="senha">Senha: admin123</p>
                </div>

                <div class="cred-section">
                    <h4>?? Clientes</h4>
                    <p>cliente1@email.com</p>
                    <p>cliente2@email.com</p>
                    <p>... at? cliente50@email.com</p>
                    <p class="senha">Senha: senha123</p>
                </div>

                <div class="cred-section">
                    <h4>?? Empresas</h4>
                    <p>empresa1@email.com</p>
                    <p>empresa2@email.com</p>
                    <p>... at? empresa20@email.com</p>
                    <p class="senha">Senha: senha123</p>
                </div>
            </div>

            <a href="test-login.html" class="test-link">?? P?gina de Testes Autom?ticos</a>
        </div>

        <div style="margin-top: 30px; color: #666; font-size: 14px;">
            <p>? Sistema 100% funcional com dados reais</p>
            <p>? 3.400+ transa??es | 476 avalia??es | 67 promo??es ativas</p>
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Configurações do Sistema - Admin - Tem de Tudo</title>
    
    <!-- Meta Tags PWA -->
    <meta name="description" content="Painel de configurações administrativas do sistema Tem de Tudo">
    <meta name="theme-color" content="#667eea">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/frontend/img/logo.png">
    <link rel="apple-touch-icon" href="/frontend/img/logo.png">
    
    <!-- Stylesheets -->
    
    
    <!-- Manifest PWA -->
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-admin></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="app-container">
        <!-- Admin Header -->
        <header class="app-header">
            <div class="header-container">
                <a href="/admin.html" class="logo">
                    <img src="/frontend/img/logo.png" alt="Admin - Tem de Tudo" class="logo-image">
                    <span style="color: var(--accent-orange); margin-left: 8px; font-weight: 600;">ADMIN</span>
                </a>
                
                <nav class="nav-menu">
                    <a href="/admin.html"><i class="fas fa-tachometer-alt icon-sm"></i> Dashboard</a>
                    <a href="/profile-company.html"><i class="fas fa-building icon-sm"></i> Empresas</a>
                    <a href="/admin-relatorios.html"><i class="fas fa-chart-line icon-sm"></i> Relatórios</a>
                    <a href="#" class="active"><i class="fas fa-cogs icon-sm"></i> Configurações</a>
                    <a href="/entrar.html"><i class="fas fa-sign-out-alt icon-sm"></i> Sair</a>
                </nav>
                
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-menu">
                <a href="/admin.html"><i class="fas fa-tachometer-alt icon-sm"></i> Dashboard</a>
                <a href="/profile-company.html"><i class="fas fa-building icon-sm"></i> Empresas</a>
                <a href="/admin-relatorios.html"><i class="fas fa-chart-line icon-sm"></i> Relatórios</a>
                <a href="#" class="active"><i class="fas fa-cogs icon-sm"></i> Configurações</a>
                <a href="/entrar.html"><i class="fas fa-sign-out-alt icon-sm"></i> Sair</a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="app-main">
            <div style="max-width: 1000px; margin: 0 auto; padding: var(--space-6);">
                
                <!-- Page Header -->
                <div class="card mb-4">
                    <div class="card-header text-center">
                        <i class="fas fa-cogs icon-lg" style="color: white; font-size: 3rem; margin-bottom: 1rem;"></i>
                        <h1 style="color: white; margin-bottom: 0.5rem;">Configurações do Sistema</h1>
                        <p style="color: rgba(255,255,255,0.9);">Gerenciar configurações globais e parâmetros do sistema</p>
                    </div>
                </div>

                <!-- Settings Navigation -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div style="display: flex; gap: var(--space-2); overflow-x: auto; padding-bottom: var(--space-2);">
                            <button class="btn btn-primary setting-tab active" onclick="showSettingSection('pontos')" data-section="pontos">
                                <i class="fas fa-coins icon-sm"></i> Sistema de Pontos
                            </button>
                            <button class="btn btn-outline setting-tab" onclick="showSettingSection('usuarios')" data-section="usuarios">
                                <i class="fas fa-users icon-sm"></i> Usuórios
                            </button>
                            <button class="btn btn-outline setting-tab" onclick="showSettingSection('estabelecimentos')" data-section="estabelecimentos">
                                <i class="fas fa-store icon-sm"></i> Estabelecimentos
                            </button>
                            <button class="btn btn-outline setting-tab" onclick="showSettingSection('notificacoes')" data-section="notificacoes">
                                <i class="fas fa-bell icon-sm"></i> Notificações
                            </button>
                            <button class="btn btn-outline setting-tab" onclick="showSettingSection('seguranca')" data-section="seguranca">
                                <i class="fas fa-shield-alt icon-sm"></i> Segurança
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Points System Settings -->
                <div id="pontos-section" class="setting-section">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-coins icon-sm"></i> Configurações do Sistema de Pontos
                            </h3>
                        </div>
                        <div class="card-body">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-4);">
                                
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Convers?o de Pontos</label>
                                    <div style="display: flex; align-items: center; gap: var(--space-2);">
                                        <span style="color: var(--gray-600);">R$</span>
                                        <input type="number" class="form-control" value="1.00" step="0.01" style="width: 100px;">
                                        <span style="color: var(--gray-600);">=</span>
                                        <input type="number" class="form-control" value="1" style="width: 80px;">
                                        <span style="color: var(--gray-600);">ponto</span>
                                    </div>
                                    <p style="color: var(--gray-600); font-size: 0.875rem; margin-top: 0.5rem;">Defina quantos pontos o usuório ganha por real gasto</p>
                                </div>

                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Validade dos Pontos (meses)</label>
                                    <input type="number" class="form-control" value="12" min="1" max="60">
                                    <p style="color: var(--gray-600); font-size: 0.875rem; margin-top: 0.5rem;">Pontos expiram apís este per?odo</p>
                                </div>
                            </div>

                            <div style="margin-top: var(--space-6);">
                                <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Níveis de Fidelidade</h4>
                                <div style="display: grid; gap: var(--space-3);">
                                    
                                    <div style="background: var(--gray-50); padding: var(--space-3); border-radius: var(--radius-lg); display: grid; grid-template-columns: 150px 150px 100px 1fr 80px; gap: var(--space-2); align-items: center;">
                                        <input type="text" class="form-control" value="Bronze" placeholder="Nome do nível">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="0" min="0" style="width: 70px;">
                                            <span style="color: var(--gray-600);">-</span>
                                            <input type="number" class="form-control" value="249" min="0" style="width: 70px;">
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="1.0" step="0.1" style="width: 60px;">
                                            <span style="color: var(--gray-600); font-size: 0.875rem;">x</span>
                                        </div>
                                        <input type="text" class="form-control" value="Benef?cios bísicos" placeholder="Descriçõo dos benef?cios">
                                        <button class="btn btn-sm btn-outline" onclick="removeLevel(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>

                                    <div style="background: var(--gray-50); padding: var(--space-3); border-radius: var(--radius-lg); display: grid; grid-template-columns: 150px 150px 100px 1fr 80px; gap: var(--space-2); align-items: center;">
                                        <input type="text" class="form-control" value="Silver" placeholder="Nome do nível">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="250" min="0" style="width: 70px;">
                                            <span style="color: var(--gray-600);">-</span>
                                            <input type="number" class="form-control" value="499" min="0" style="width: 70px;">
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="1.2" step="0.1" style="width: 60px;">
                                            <span style="color: var(--gray-600); font-size: 0.875rem;">x</span>
                                        </div>
                                        <input type="text" class="form-control" value="Pontos 1.2x + ofertas semanais" placeholder="Descriçõo dos benef?cios">
                                        <button class="btn btn-sm btn-outline" onclick="removeLevel(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>

                                    <div style="background: var(--gray-50); padding: var(--space-3); border-radius: var(--radius-lg); display: grid; grid-template-columns: 150px 150px 100px 1fr 80px; gap: var(--space-2); align-items: center;">
                                        <input type="text" class="form-control" value="Gold" placeholder="Nome do nível">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="500" min="0" style="width: 70px;">
                                            <span style="color: var(--gray-600);">-</span>
                                            <input type="number" class="form-control" value="999" min="0" style="width: 70px;">
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="number" class="form-control" value="1.5" step="0.1" style="width: 60px;">
                                            <span style="color: var(--gray-600); font-size: 0.875rem;">x</span>
                                        </div>
                                        <input type="text" class="form-control" value="Pontos 1.5x + frete gr?tis" placeholder="Descriçõo dos benef?cios">
                                        <button class="btn btn-sm btn-outline" onclick="removeLevel(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <button class="btn btn-outline" onclick="addLevel()" style="margin-top: var(--space-3);">
                                    <i class="fas fa-plus"></i> Adicionar Nível
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- User Settings -->
                <div id="usuarios-section" class="setting-section" style="display: none;">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-users icon-sm"></i> Configurações de Usuórios
                            </h3>
                        </div>
                        <div class="card-body">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-6);">
                                
                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Cadastro de Usuórios</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Permitir auto-cadastro</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Exigir validaçõo de email</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Exigir validaçõo de celular</span>
                                        </label>
                                    </div>

                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Idade mênima para cadastro</label>
                                        <input type="number" class="form-control" value="16" min="13" max="21" style="width: 100px;">
                                    </div>
                                </div>

                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Pol?tica de Senha</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Comprimento mênimo</label>
                                        <input type="number" class="form-control" value="8" min="6" max="20" style="width: 100px;">
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Exigir letras maiísculas</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Exigir n?meros</span>
                                        </label>
                                    </div>

                                    <div>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Exigir caracteres especiais</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Store Settings -->
                <div id="estabelecimentos-section" class="setting-section" style="display: none;">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-store icon-sm"></i> Configurações de Estabelecimentos
                            </h3>
                        </div>
                        <div class="card-body">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-6);">
                                
                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Aprovaçõo de Estabelecimentos</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Exigir aprovaçõo manual</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Validar documentos</span>
                                        </label>
                                    </div>

                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Taxa de comiss?o padr?o (%)</label>
                                        <input type="number" class="form-control" value="2.5" step="0.1" min="0" max="10" style="width: 120px;">
                                    </div>
                                </div>

                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Categorias Permitidas</h4>
                                    
                                    <div style="display: grid; gap: var(--space-2);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Alimentaçõo</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Varejo</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Sa?de e Bem-estar</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Serviços</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Entretenimento</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Educaçõo</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Settings -->
                <div id="notificacoes-section" class="setting-section" style="display: none;">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-bell icon-sm"></i> Configurações de Notificações
                            </h3>
                        </div>
                        <div class="card-body">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-6);">
                                
                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Notificações Push</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Pontos acumulados</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Novas ofertas</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Pontos pr?ximos ao vencimento</span>
                                        </label>
                                    </div>

                                    <div>
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox">
                                            <span>Lembretes de atividade</span>
                                        </label>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Emails Autom?ticos</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Servidor SMTP</label>
                                        <input type="text" class="form-control" value="smtp.gmail.com" placeholder="smtp.exemplo.com">
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Porta</label>
                                        <input type="number" class="form-control" value="587" style="width: 100px;">
                                    </div>

                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Email remetente</label>
                                        <input type="email" class="form-control" value="noreply@temdeTudo.com" placeholder="email@empresa.com">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Settings -->
                <div id="seguranca-section" class="setting-section" style="display: none;">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-shield-alt icon-sm"></i> Configurações de Segurança
                            </h3>
                        </div>
                        <div class="card-body">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-6);">
                                
                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Autenticaçõo</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Autenticaçõo de dois fatores (2FA)</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Tempo de sess?o (minutos)</label>
                                        <input type="number" class="form-control" value="120" min="30" max="480" style="width: 120px;">
                                    </div>

                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Tentativas de login</label>
                                        <input type="number" class="form-control" value="3" min="3" max="10" style="width: 100px;">
                                        <p style="color: var(--gray-600); font-size: 0.875rem; margin-top: 0.5rem;">Bloqueio apís tentativas falhadas</p>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="color: var(--gray-800); margin-bottom: var(--space-3);">Logs e Auditoria</h4>
                                    
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Log de acessos</span>
                                        </label>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
                                            <input type="checkbox" checked>
                                            <span>Log de transações</span>
                                        </label>
                                    </div>

                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Retençõo de logs (dias)</label>
                                        <input type="number" class="form-control" value="90" min="30" max="365" style="width: 120px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Button -->
                <div class="card">
                    <div class="card-body text-center">
                        <button class="btn btn-primary btn-lg" onclick="saveSettings()" style="min-width: 200px;">
                            <i class="fas fa-save"></i> Salvar Configurações
                        </button>
                        <button class="btn btn-outline btn-lg" onclick="resetSettings()" style="min-width: 200px; margin-left: var(--space-3);">
                            <i class="fas fa-undo"></i> Restaurar Padr?o
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/js/app-mobile.js"></script>
    <script>
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const btn = document.querySelector('.mobile-menu-btn');
            mobileNav.classList.toggle('active');
            btn.classList.toggle('active');
        }

        function showSettingSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.setting-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show target section
            document.getElementById(sectionName + '-section').style.display = 'block';

            // Update tab buttons
            document.querySelectorAll('.setting-tab').forEach(tab => {
                tab.className = tab.className.replace('btn-primary', 'btn-outline');
            });

            // Activate current tab
            const currentTab = document.querySelector(`[data-section="${sectionName}"]`);
            currentTab.className = currentTab.className.replace('btn-outline', 'btn-primary');
        }

        function addLevel() {
            const levelContainer = document.querySelector('#pontos-section .card-body > div:last-child > div');
            const newLevel = document.createElement('div');
            newLevel.style.cssText = 'background: var(--gray-50); padding: var(--space-3); border-radius: var(--radius-lg); display: grid; grid-template-columns: 150px 150px 100px 1fr 80px; gap: var(--space-2); align-items: center;';
            
            newLevel.innerHTML = `
                <input type="text" class="form-control" value="Novo Nível" placeholder="Nome do nível">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="number" class="form-control" value="1000" min="0" style="width: 70px;">
                    <span style="color: var(--gray-600);">-</span>
                    <input type="number" class="form-control" value="1999" min="0" style="width: 70px;">
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="number" class="form-control" value="2.0" step="0.1" style="width: 60px;">
                    <span style="color: var(--gray-600); font-size: 0.875rem;">x</span>
                </div>
                <input type="text" class="form-control" value="Benef?cios exclusivos" placeholder="Descriçõo dos benef?cios">
                <button class="btn btn-sm btn-outline" onclick="removeLevel(this)">
                    <i class="fas fa-trash"></i>
                </button>
            `;
            
            levelContainer.appendChild(newLevel);
        }

        function removeLevel(button) {
            if (confirm('Deseja realmente remover este nível?')) {
                button.parentElement.remove();
            }
        }

        function saveSettings() {
            // Simulate saving settings
            const currentSection = document.querySelector('.setting-tab.btn-primary').dataset.section;
            
            // Show loading state
            const saveBtn = event.target;
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Salvando...';
            saveBtn.disabled = true;
            
            setTimeout(() => {
                saveBtn.innerHTML = '<i class="fas fa-check"></i> Salvo com Sucesso!';
                saveBtn.className = saveBtn.className.replace('btn-primary', 'btn-success');
                
                setTimeout(() => {
                    saveBtn.innerHTML = originalText;
                    saveBtn.className = saveBtn.className.replace('btn-success', 'btn-primary');
                    saveBtn.disabled = false;
                }, 2000);
                
                alert('Configurações salvas com sucesso!\n\nAs alterações j? est?o ativas no sistema.');
            }, 1500);
        }

        function resetSettings() {
            if (confirm('Deseja restaurar todas as configurações para os valores padr?o?\n\nEsta açõo n?o pode ser desfeita.')) {
                // Simulate reset
                alert('Configurações restauradas para os valores padr?o!\n\nRecarregue a p?gina para ver as alterações.');
                location.reload();
            }
        }

        // Auto-save form changes
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox' || e.target.type === 'number' || e.target.type === 'text' || e.target.type === 'email') {
                // Show unsaved changes indicator
                const saveBtn = document.querySelector('.btn-primary.btn-lg');
                if (!saveBtn.innerHTML.includes('*')) {
                    saveBtn.innerHTML = saveBtn.innerHTML.replace('Salvar', 'Salvar*');
                    saveBtn.style.boxShadow = '0 0 0 2px var(--warning-yellow)';
                }
            }
        });
    </script><script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Criar Novo Administrador - Tem de Ponto</title>
    <meta name="description" content="órea restrita para criaçõo de novos administradores">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <!-- Modern Theme CSS -->
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-admin></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-6); padding-bottom: var(--space-4); border-bottom: 1px solid rgba(255,255,255,0.2);">
            <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-crown" style="font-size: 1.5rem;"></i>
            </div>
            <div>
                <h3 style="margin: 0; font-size: 1.1rem;">Painel Admin</h3>
                <p style="margin: 0; opacity: 0.8; font-size: 0.875rem;" id="adminNameDisplay">Administrador</p>
            </div>
        </div>

        <nav>
            <a href="/admin.html" style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); color: rgba(255,255,255,0.8); text-decoration: none; border-radius: var(--radius-lg); margin-bottom: var(--space-2); transition: all 0.3s ease;">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); color: white; text-decoration: none; border-radius: var(--radius-lg); margin-bottom: var(--space-2); background: rgba(255,255,255,0.2);">
                <i class="fas fa-user-plus"></i>
                <span>Criar Administrador</span>
            </a>
            <a href="/admin-configuracoes.html" style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); color: rgba(255,255,255,0.8); text-decoration: none; border-radius: var(--radius-lg); margin-bottom: var(--space-2); transition: all 0.3s ease;">
                <i class="fas fa-cogs"></i>
                <span>Configurações</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="/admin.html" style="color: var(--primary-600); text-decoration: none;">
                <i class="fas fa-home"></i> Dashboard
            </a>
            <i class="fas fa-chevron-right" style="font-size: 0.75rem;"></i>
            <span>Criar Administrador</span>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary-500), var(--primary-700)); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: white;">
                <i class="fas fa-user-shield" style="font-size: 1.5rem;"></i>
            </div>
            <div>
                <h1 style="margin: 0; color: var(--gray-900); font-size: 1.875rem;">Criar Novo Administrador</h1>
                <p style="margin: var(--space-1) 0 0; color: var(--gray-600);">Adicione um novo administrador ao sistema com permissóes específicas</p>
            </div>
        </div>

        <!-- Success Message -->
        <div id="successAlert" style="display: none; background: linear-gradient(135deg, #d1fae5, #a7f3d0); border: 1px solid #10b981; border-radius: var(--radius-lg); padding: var(--space-4); margin-bottom: var(--space-6);">
            <div style="display: flex; align-items: center; gap: var(--space-3);">
                <i class="fas fa-check-circle" style="color: #059669; font-size: 1.5rem;"></i>
                <div>
                    <h4 style="margin: 0; color: #065f46;">Administrador Criado com Sucesso!</h4>
                    <p style="margin: var(--space-1) 0 0; color: #047857; font-size: 0.875rem;">O novo administrador pode agora fazer login no sistema.</p>
                </div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <form id="createAdminForm">
                <!-- Basic Information -->
                <div style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-6);">
                    <i class="fas fa-user-circle" style="color: var(--primary-600); font-size: 1.25rem;"></i>
                    <h3 style="margin: 0; color: var(--gray-900);">Informações Bísicas</h3>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-4);">
                    <div class="form-group">
                        <label class="form-label">Nome Completo *</label>
                        <input type="text" id="adminName" class="form-control" placeholder="Nome do administrador" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Email *</label>
                        <input type="email" id="adminEmail" class="form-control" placeholder="admin@empresa.com" required>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                    <div class="form-group">
                        <label class="form-label">Telefone *</label>
                        <input type="tel" id="adminPhone" class="form-control" placeholder="(11) 99999-9999" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Senha Temporória *</label>
                        <div style="position: relative;">
                            <input type="password" id="adminPassword" class="form-control" placeholder="Senha inicial" required>
                            <button type="button" onclick="generatePassword()" style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--primary-600); padding: var(--space-2);" title="Gerar senha aleatória">
                                <i class="fas fa-random"></i>
                            </button>
                        </div>
                        <small style="color: var(--gray-500);">O administrador pode alterar apís o primeiro login</small>
                    </div>
                </div>

                <!-- Company Information -->
                <div class="section-divider" data-title="Informações da Empresa (Opcional)"></div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                    <div class="form-group">
                        <label class="form-label">Nome da Empresa</label>
                        <input type="text" id="companyName" class="form-control" placeholder="Nome da empresa">
                    </div>

                    <div class="form-group">
                        <label class="form-label">CNPJ</label>
                        <input type="text" id="companyCnpj" class="form-control" placeholder="00.000.000/0000-00">
                    </div>
                </div>

                <!-- Permissions -->
                <div class="section-divider" data-title="Nível de Permissóes"></div>

                <div class="permission-grid">
                    <div class="permission-card" onclick="selectPermissionLevel('master')" data-level="master">
                        <div style="display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2);">
                            <i class="fas fa-crown" style="color: #f59e0b; font-size: 1.25rem;"></i>
                            <h4 style="margin: 0; color: var(--gray-900);">Master Admin</h4>
                        </div>
                        <p style="margin: 0; color: var(--gray-600); font-size: 0.875rem;">Acesso completo ao sistema, pode criar outros administradores</p>
                        <div style="margin-top: var(--space-3); font-size: 0.75rem; color: var(--gray-500);">
                            ? Gerenciar empresas &nbsp; ? Relatórios financeiros<br>
                            ? Configurações sistema &nbsp; ? Criar administradores
                        </div>
                    </div>

                    <div class="permission-card" onclick="selectPermissionLevel('admin')" data-level="admin">
                        <div style="display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2);">
                            <i class="fas fa-user-shield" style="color: #667eea; font-size: 1.25rem;"></i>
                            <h4 style="margin: 0; color: var(--gray-900);">Administrador</h4>
                        </div>
                        <p style="margin: 0; color: var(--gray-600); font-size: 0.875rem;">Gerenciamento de empresas e relatórios, sem criaçõo de admins</p>
                        <div style="margin-top: var(--space-3); font-size: 0.75rem; color: var(--gray-500);">
                            ? Gerenciar empresas &nbsp; ? Relatórios financeiros<br>
                            ? Configurações sistema &nbsp; ? Criar administradores
                        </div>
                    </div>

                    <div class="permission-card" onclick="selectPermissionLevel('moderator')" data-level="moderator">
                        <div style="display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2);">
                            <i class="fas fa-eye" style="color: #10b981; font-size: 1.25rem;"></i>
                            <h4 style="margin: 0; color: var(--gray-900);">Moderador</h4>
                        </div>
                        <p style="margin: 0; color: var(--gray-600); font-size: 0.875rem;">Apenas visualizaçõo de dados e suporte bísico</p>
                        <div style="margin-top: var(--space-3); font-size: 0.75rem; color: var(--gray-500);">
                            ? Visualizar relatórios &nbsp; ? Suporte clientes<br>
                            ? Gerenciar empresas &nbsp; ? Criar administradores
                        </div>
                    </div>
                </div>

                <input type="hidden" id="selectedLevel" value="admin">

                <!-- Action Buttons -->
                <div style="display: flex; gap: var(--space-3); justify-content: flex-end; margin-top: var(--space-8);">
                    <button type="button" class="btn btn-ghost" onclick="cancelCreate()">
                        <i class="fas fa-times icon-sm"></i> Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-user-plus icon-sm"></i> Criar Administrador
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); z-index: 1000; align-items: center; justify-content: center;">
        <div style="text-align: center; color: white;">
            <div style="width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: white; animation: spin 1s ease-in-out infinite; margin: 0 auto var(--space-4);"></div>
            <p>Criando administrador...</p>
        </div>
    </div>

    <script>
        // Check if user is logged in and has admin permissions
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
            
            if (!user.tipo || user.tipo !== 'admin') {
                alert('Acesso negado. Apenas administradores podem acessar esta órea.');
                window.location.href = '/entrar.html';
                return;
            }

            if (!user.permissoes || !user.permissoes.includes('criar_administradores')) {
                alert('Voc? n?o tem permiss?o para criar novos administradores.');
                window.location.href = '/admin.html';
                return;
            }

            // Display admin name
            document.getElementById('adminNameDisplay').textContent = user.nome || 'Administrador';
        });

        let selectedPermissionLevel = 'admin';

        // Format inputs
        document.getElementById('adminPhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/, '($1) $2');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });

        document.getElementById('companyCnpj').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/, '$1.$2');
            value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
            value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
            value = value.replace(/(\d{4})(\d)/, '$1-$2');
            e.target.value = value;
        });

        function selectPermissionLevel(level) {
            // Remove selection from all cards
            document.querySelectorAll('.permission-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked card
            document.querySelector(`[data-level="${level}"]`).classList.add('selected');
            selectedPermissionLevel = level;
            document.getElementById('selectedLevel').value = level;
        }

        function generatePassword() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let password = '';
            for (let i = 0; i < 8; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('adminPassword').value = password;
        }

        function cancelCreate() {
            if (confirm('Deseja cancelar a criaçõo do administrador?')) {
                window.location.href = '/admin.html';
            }
        }

        // Form submission
        document.getElementById('createAdminForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const currentUser = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
            
            // Get form data
            const formData = {
                nome: document.getElementById('adminName').value,
                email: document.getElementById('adminEmail').value,
                telefone: document.getElementById('adminPhone').value,
                senha: document.getElementById('adminPassword').value,
                empresa: document.getElementById('companyName').value,
                cnpj: document.getElementById('companyCnpj').value,
                nivel: selectedPermissionLevel
            };

            // Validations
            if (!formData.nome || !formData.email || !formData.telefone || !formData.senha) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }

            if (formData.senha.length < 6) {
                alert('A senha deve ter pelo menos 6 caracteres.');
                return;
            }

            // Check if email already exists
            const existingAdmins = JSON.parse(localStorage.getItem('systemAdmins') || '[]');
            if (existingAdmins.find(admin => admin.email === formData.email)) {
                alert('J? existe um administrador com este email.');
                return;
            }

            // Show loading
            document.getElementById('loadingOverlay').style.display = 'flex';

            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));

                // Define permissions based on level
                let permissoes = [];
                switch(selectedPermissionLevel) {
                    case 'master':
                        permissoes = ['gerenciar_empresas', 'relatorios_financeiros', 'configuracoes_sistema', 'criar_administradores'];
                        break;
                    case 'admin':
                        permissoes = ['gerenciar_empresas', 'relatorios_financeiros', 'configuracoes_sistema'];
                        break;
                    case 'moderator':
                        permissoes = ['visualizar_relatorios', 'suporte_clientes'];
                        break;
                }

                // Create new admin
                const newAdmin = {
                    id: Date.now(),
                    nome: formData.nome,
                    email: formData.email,
                    telefone: formData.telefone,
                    tipo: 'admin',
                    nivel: selectedPermissionLevel === 'master' ? 'Master' : selectedPermissionLevel === 'admin' ? 'Admin' : 'Moderador',
                    empresa: formData.empresa || 'Sistema Tem de Ponto',
                    cnpj: formData.cnpj || null,
                    permissoes: permissoes,
                    criadoPor: currentUser.nome,
                    criadoEm: new Date().toISOString(),
                    status: 'ativo',
                    senhaTemporaria: true
                };

                // Save to localStorage
                existingAdmins.push(newAdmin);
                localStorage.setItem('systemAdmins', JSON.stringify(existingAdmins));

                // Hide loading
                document.getElementById('loadingOverlay').style.display = 'none';

                // Show success
                document.getElementById('successAlert').style.display = 'block';
                document.getElementById('createAdminForm').reset();
                
                // Reset permission selection
                document.querySelectorAll('.permission-card').forEach(card => {
                    card.classList.remove('selected');
                });
                document.querySelector('[data-level="admin"]').classList.add('selected');
                selectedPermissionLevel = 'admin';

                // Scroll to top
                window.scrollTo(0, 0);

            } catch (error) {
                document.getElementById('loadingOverlay').style.display = 'none';
                alert('Erro ao criar administrador. Tente novamente.');
            }
        });

        // Select default permission level
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                selectPermissionLevel('admin');
            }, 100);
        });
    </script><script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <title>Dashboard Admin - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; padding-bottom: 40px; }
        
        .header { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 20px; 
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .header h1 { font-size: 24px; font-weight: 900; }
        .header p { font-size: 13px; color: #b0b0b0; margin-top: 4px; }
        
        .logout-btn {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            border-radius: 10px;
            padding: 10px 16px;
            color: #f44336;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .content { padding: 20px; max-width: 1200px; margin: 0 auto; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px;
            padding: 24px;
        }
        .stat-label {
            font-size: 12px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .stat-label i { color: #667eea; }
        .stat-value {
            font-size: 32px;
            font-weight: 900;
            color: #667eea;
            margin-bottom: 8px;
        }
        .stat-subtitle {
            font-size: 12px;
            color: #b0b0b0;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .section-title i { color: #667eea; }
        
        .nav-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 32px;
        }
        
        .nav-btn {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 20px;
            color: #fff;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            gap: 8px;
            transition: all 0.3s;
        }
        .nav-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        .nav-btn i {
            font-size: 24px;
            color: #667eea;
        }
        .nav-btn-title {
            font-size: 15px;
            font-weight: 700;
        }
        .nav-btn-desc {
            font-size: 12px;
            color: #666;
        }
        
        .activity-list {
            display: grid;
            gap: 12px;
        }
        
        .activity-item {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 16px;
        }
        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        .activity-title {
            font-size: 14px;
            font-weight: 700;
        }
        .activity-time {
            font-size: 11px;
            color: #666;
        }
        .activity-desc {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        .loading i {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 20px; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-admin></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-top">
            <div>
                <h1>Dashboard Administrativo</h1>
                <p id="adminInfo">Carregando...</p>
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Sair
            </button>
        </div>
    </div>
    
    <div class="content">
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando estatísticas...</p>
        </div>
        
        <div id="mainContent" style="display: none;">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-store"></i> Empresas</div>
                    <div class="stat-value" id="totalEmpresas">0</div>
                    <div class="stat-subtitle">Total cadastradas</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-users"></i> Clientes</div>
                    <div class="stat-value" id="totalClientes">0</div>
                    <div class="stat-subtitle">Usuários registrados</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-user-shield"></i> Admins</div>
                    <div class="stat-value" id="totalAdmins">0</div>
                    <div class="stat-subtitle">Administradores</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-exchange-alt"></i> Transações</div>
                    <div class="stat-value" id="totalTransacoes">0</div>
                    <div class="stat-subtitle">Total de pontos</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-coins"></i> Pontos em Circulação</div>
                    <div class="stat-value" id="pontosCirculacao">0</div>
                    <div class="stat-subtitle">Sistema completo</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label"><i class="fas fa-chart-line"></i> Empresas Ativas</div>
                    <div class="stat-value" id="empresasAtivas">0</div>
                    <div class="stat-subtitle">Com transações</div>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <h2 class="section-title">
                <i class="fas fa-cog"></i> Gerenciamento
            </h2>
            <div class="nav-buttons">
                <a href="admin-usuarios.html" class="nav-btn">
                    <i class="fas fa-users-cog"></i>
                    <span class="nav-btn-title">Gerenciar Usuários</span>
                    <span class="nav-btn-desc">Criar, editar e excluir usuários</span>
                </a>
                
                <a href="admin-empresas.html" class="nav-btn">
                    <i class="fas fa-store"></i>
                    <span class="nav-btn-title">Gerenciar Empresas</span>
                    <span class="nav-btn-desc">Listar e aprovar empresas</span>
                </a>
                
                <a href="admin-relatorios.html" class="nav-btn">
                    <i class="fas fa-chart-bar"></i>
                    <span class="nav-btn-title">Relatórios</span>
                    <span class="nav-btn-desc">Visualizar estatísticas detalhadas</span>
                </a>
                
                <a href="admin-configuracoes.html" class="nav-btn">
                    <i class="fas fa-cog"></i>
                    <span class="nav-btn-title">Configurações</span>
                    <span class="nav-btn-desc">Configurar sistema</span>
                </a>
            </div>
            
            <!-- Recent Activity -->
            <h2 class="section-title" id="activityTitle" style="display: none;">
                <i class="fas fa-history"></i> Atividades Recentes
            </h2>
            <div id="activityList" class="activity-list"></div>
        </div>
    </div>
    
    <script>
        let dashboardData = null;
        
        function checkAuth() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/admin-login.html';
                return false;
            }
            return token;
        }
        
        async function loadDashboard() {
            const token = checkAuth();
            if (!token) return;

            try {
                const response = await fetch('/api/admin/dashboard-stats', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    dashboardData = result.data;
                    
                    renderDashboard();
                    
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                } else if (response.status === 401) {
                    window.location.href = '/admin-login.html';
                } else {
                    console.error('Erro na resposta:', response.status);
                    document.getElementById('loading').innerHTML = 
                        '<i class="fas fa-exclamation-triangle"></i><p>Erro ao carregar dados</p>';
                }
            } catch (error) {
                console.error('Erro ao carregar dashboard:', error);
                document.getElementById('loading').innerHTML = 
                    '<i class="fas fa-exclamation-triangle"></i><p>Erro ao conectar com servidor</p>';
            }
        }
        
        function renderDashboard() {
            if (!dashboardData) return;
            
            const { 
                total_empresas, 
                total_clientes, 
                total_admins,
                total_transacoes,
                pontos_circulacao,
                empresas_ativas,
                clientes_ativos_mes,
                recent_activity
            } = dashboardData;
            
            // Update header
            document.getElementById('adminInfo').textContent = 
                'Sistema de Gestão - Tem de Tudo';
            
            // Update stats
            document.getElementById('totalEmpresas').textContent = total_empresas || 0;
            document.getElementById('totalClientes').textContent = total_clientes || 0;
            document.getElementById('totalAdmins').textContent = total_admins || 0;
            document.getElementById('totalTransacoes').textContent = 
                (total_transacoes || 0).toLocaleString('pt-BR');
            document.getElementById('pontosCirculacao').textContent = 
                (pontos_circulacao || 0).toLocaleString('pt-BR');
            document.getElementById('empresasAtivas').textContent = empresas_ativas || 0;
            
            // Render recent activity if available
            if (recent_activity && recent_activity.length > 0) {
                document.getElementById('activityTitle').style.display = 'flex';
                renderActivity(recent_activity);
            }
        }
        
        function renderActivity(activities) {
            const list = document.getElementById('activityList');
            
            list.innerHTML = activities.slice(0, 10).map(activity => {
                const date = new Date(activity.created_at);
                const timeAgo = getTimeAgo(date);
                
                return `
                    <div class="activity-item">
                        <div class="activity-header">
                            <div class="activity-title">${activity.title || 'Atividade'}</div>
                            <div class="activity-time">${timeAgo}</div>
                        </div>
                        <div class="activity-desc">${activity.description || ''}</div>
                    </div>
                `;
            }).join('');
        }
        
        function getTimeAgo(date) {
            const now = new Date();
            const diff = Math.floor((now - date) / 1000); // segundos
            
            if (diff < 60) return 'Agora';
            if (diff < 3600) return `${Math.floor(diff / 60)} min atrás`;
            if (diff < 86400) return `${Math.floor(diff / 3600)} h atrás`;
            if (diff < 604800) return `${Math.floor(diff / 86400)} d atrás`;
            
            return date.toLocaleDateString('pt-BR');
        }
        
        function logout() {
            authManager.adminLogout();
        }
        
        document.addEventListener('DOMContentLoaded', loadDashboard);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0f172a;
            color: #f1f5f9;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            padding: 20px 24px;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left h1 {
            font-size: 24px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }
        
        .header-left p {
            font-size: 13px;
            color: #94a3b8;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .user-info {
            text-align: right;
            margin-right: 12px;
        }
        
        .user-info .name {
            font-size: 14px;
            font-weight: 600;
            color: #f1f5f9;
        }
        
        .user-info .role {
            font-size: 12px;
            color: #64748b;
        }
        
        .btn-logout {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: translateY(-1px);
        }
        
        /* Main Content */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(102, 126, 234, 0.15);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            border-color: rgba(102, 126, 234, 0.3);
            box-shadow: 0 12px 24px rgba(102, 126, 234, 0.1);
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .stat-icon.purple {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
        }
        
        .stat-icon.green {
            background: rgba(34, 197, 94, 0.15);
            color: #22c55e;
        }
        
        .stat-icon.orange {
            background: rgba(249, 115, 22, 0.15);
            color: #f97316;
        }
        
        .stat-icon.blue {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-change {
            font-size: 12px;
            color: #22c55e;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .stat-change.negative {
            color: #ef4444;
        }
        
        /* Section */
        .section {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(102, 126, 234, 0.15);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #f1f5f9;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        /* Table */
        .table-wrapper {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background: rgba(102, 126, 234, 0.1);
        }
        
        th {
            padding: 12px 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            color: #94a3b8;
            letter-spacing: 0.5px;
        }
        
        td {
            padding: 16px;
            border-top: 1px solid rgba(100, 116, 139, 0.1);
            font-size: 14px;
        }
        
        tbody tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge.active {
            background: rgba(34, 197, 94, 0.15);
            color: #22c55e;
        }
        
        .badge.inactive {
            background: rgba(100, 116, 139, 0.15);
            color: #64748b;
        }
        
        .badge.admin {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
        }
        
        .badge.empresa {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
        }
        
        .badge.cliente {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #64748b;
        }
        
        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Painel de AdministraÃ§Ã£o</h1>
                <p>Bem-vindo ao sistema de gestÃ£o</p>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <div class="name" id="userName">Carregando...</div>
                    <div class="role">Administrador</div>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de UsuÃ¡rios</span>
                    <div class="stat-icon purple">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>12% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Empresas Ativas</span>
                    <div class="stat-icon green">
                        <i class="fas fa-store"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalEmpresas">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>8% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Clientes Ativos</span>
                    <div class="stat-icon orange">
                        <i class="fas fa-user-friends"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalClientes">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>15% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de Pontos</span>
                    <div class="stat-icon blue">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPontos">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>22% este mÃªs</span>
                </div>
            </div>
        </div>
        
        <!-- UsuÃ¡rios Recentes -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">UsuÃ¡rios Recentes</h2>
                <button class="btn-primary" onclick="window.location.href='/admin-create-user.html'">
                    <i class="fas fa-plus"></i> Novo UsuÃ¡rio
                </button>
            </div>
            
            <div id="usersTable">
                <div class="loading">
                    <div class="spinner"></div>
                    <p style="margin-top: 16px;">Carregando usuÃ¡rios...</p>
                </div>
            </div>
        </div>
        
        <!-- Empresas -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">Empresas Cadastradas</h2>
            </div>
            
            <div id="empresasTable">
                <div class="loading">
                    <div class="spinner"></div>
                    <p style="margin-top: 16px;">Carregando empresas...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'admin') {
            window.location.href = '/admin-login.html';
        }
        
        // Exibir nome do usuÃ¡rio
        document.getElementById('userName').textContent = user.name || user.email;
        
        // FunÃ§Ã£o de logout
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/admin-login.html';
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar usuÃ¡rios
                const usersResponse = await fetch(`${API_URL}/admin/users`, { headers });
                const usersData = await usersResponse.json();
                
                if (usersData.users) {
                    const users = usersData.users;
                    
                    // Atualizar contadores
                    document.getElementById('totalUsers').textContent = users.length;
                    
                    const empresas = users.filter(u => u.tipo === 'empresa');
                    const clientes = users.filter(u => u.tipo === 'cliente');
                    
                    document.getElementById('totalEmpresas').textContent = empresas.length;
                    document.getElementById('totalClientes').textContent = clientes.length;
                    
                    // Calcular total de pontos
                    const pontosResponse = await fetch(`${API_URL}/admin/pontos/total`, { headers });
                    const pontosData = await pontosResponse.json();
                    document.getElementById('totalPontos').textContent = pontosData.total || 0;
                    
                    // Renderizar tabela de usuÃ¡rios
                    renderUsersTable(users.slice(0, 10));
                    renderEmpresasTable(empresas);
                }
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }
        
        function renderUsersTable(users) {
            const html = `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Tipo</th>
                                <th>Status</th>
                                <th>Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${users.map(user => `
                                <tr>
                                    <td style="font-weight: 600;">${user.name}</td>
                                    <td style="color: #94a3b8;">${user.email}</td>
                                    <td><span class="badge ${user.tipo}">${user.tipo}</span></td>
                                    <td><span class="badge ${user.ativo ? 'active' : 'inactive'}">${user.ativo ? 'Ativo' : 'Inativo'}</span></td>
                                    <td style="color: #64748b;">${new Date(user.created_at).toLocaleDateString('pt-BR')}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
            document.getElementById('usersTable').innerHTML = html;
        }
        
        function renderEmpresasTable(empresas) {
            const html = `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Status</th>
                                <th>Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${empresas.map(emp => `
                                <tr>
                                    <td style="font-weight: 600;">${emp.name}</td>
                                    <td style="color: #94a3b8;">${emp.email}</td>
                                    <td><span class="badge ${emp.ativo ? 'active' : 'inactive'}">${emp.ativo ? 'Ativa' : 'Inativa'}</span></td>
                                    <td style="color: #64748b;">${new Date(emp.created_at).toLocaleDateString('pt-BR')}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
            document.getElementById('empresasTable').innerHTML = html;
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0f172a;
            color: #f1f5f9;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            padding: 20px 24px;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left h1 {
            font-size: 24px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }
        
        .header-left p {
            font-size: 13px;
            color: #94a3b8;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .user-info {
            text-align: right;
            margin-right: 12px;
        }
        
        .user-info .name {
            font-size: 14px;
            font-weight: 600;
            color: #f1f5f9;
        }
        
        .user-info .role {
            font-size: 12px;
            color: #64748b;
        }
        
        .btn-logout {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: translateY(-1px);
        }
        
        /* Main Content */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(102, 126, 234, 0.15);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            border-color: rgba(102, 126, 234, 0.3);
            box-shadow: 0 12px 24px rgba(102, 126, 234, 0.1);
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .stat-icon.purple {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
        }
        
        .stat-icon.green {
            background: rgba(34, 197, 94, 0.15);
            color: #22c55e;
        }
        
        .stat-icon.orange {
            background: rgba(249, 115, 22, 0.15);
            color: #f97316;
        }
        
        .stat-icon.blue {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-change {
            font-size: 12px;
            color: #22c55e;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .stat-change.negative {
            color: #ef4444;
        }
        
        /* Section */
        .section {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(102, 126, 234, 0.15);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #f1f5f9;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        /* Table */
        .table-wrapper {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background: rgba(102, 126, 234, 0.1);
        }
        
        th {
            padding: 12px 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            color: #94a3b8;
            letter-spacing: 0.5px;
        }
        
        td {
            padding: 16px;
            border-top: 1px solid rgba(100, 116, 139, 0.1);
            font-size: 14px;
        }
        
        tbody tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge.active {
            background: rgba(34, 197, 94, 0.15);
            color: #22c55e;
        }
        
        .badge.inactive {
            background: rgba(100, 116, 139, 0.15);
            color: #64748b;
        }
        
        .badge.admin {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
        }
        
        .badge.empresa {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
        }
        
        .badge.cliente {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #64748b;
        }
        
        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Painel de AdministraÃ§Ã£o</h1>
                <p>Bem-vindo ao sistema de gestÃ£o</p>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <div class="name" id="userName">Carregando...</div>
                    <div class="role">Administrador</div>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de UsuÃ¡rios</span>
                    <div class="stat-icon purple">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>12% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Empresas Ativas</span>
                    <div class="stat-icon green">
                        <i class="fas fa-store"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalEmpresas">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>8% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Clientes Ativos</span>
                    <div class="stat-icon orange">
                        <i class="fas fa-user-friends"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalClientes">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>15% este mÃªs</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de Pontos</span>
                    <div class="stat-icon blue">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPontos">0</div>
                <div class="stat-change">
                    <i class="fas fa-arrow-up"></i>
                    <span>22% este mÃªs</span>
                </div>
            </div>
        </div>
        
        <!-- UsuÃ¡rios Recentes -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">UsuÃ¡rios Recentes</h2>
                <button class="btn-primary" onclick="window.location.href='/admin-create-user.html'">
                    <i class="fas fa-plus"></i> Novo UsuÃ¡rio
                </button>
            </div>
            
            <div id="usersTable">
                <div class="loading">
                    <div class="spinner"></div>
                    <p style="margin-top: 16px;">Carregando usuÃ¡rios...</p>
                </div>
            </div>
        </div>
        
        <!-- Empresas -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">Empresas Cadastradas</h2>
            </div>
            
            <div id="empresasTable">
                <div class="loading">
                    <div class="spinner"></div>
                    <p style="margin-top: 16px;">Carregando empresas...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'admin') {
            window.location.href = '/admin-login.html';
        }
        
        // Exibir nome do usuÃ¡rio
        document.getElementById('userName').textContent = user.name || user.email;
        
        // FunÃ§Ã£o de logout
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/admin-login.html';
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar usuÃ¡rios
                const usersResponse = await fetch(`${API_URL}/admin/users`, { headers });
                const usersData = await usersResponse.json();
                
                if (usersData.users) {
                    const users = usersData.users;
                    
                    // Atualizar contadores
                    document.getElementById('totalUsers').textContent = users.length;
                    
                    const empresas = users.filter(u => u.tipo === 'empresa');
                    const clientes = users.filter(u => u.tipo === 'cliente');
                    
                    document.getElementById('totalEmpresas').textContent = empresas.length;
                    document.getElementById('totalClientes').textContent = clientes.length;
                    
                    // Calcular total de pontos
                    const pontosResponse = await fetch(`${API_URL}/admin/pontos/total`, { headers });
                    const pontosData = await pontosResponse.json();
                    document.getElementById('totalPontos').textContent = pontosData.total || 0;
                    
                    // Renderizar tabela de usuÃ¡rios
                    renderUsersTable(users.slice(0, 10));
                    renderEmpresasTable(empresas);
                }
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }
        
        function renderUsersTable(users) {
            const html = `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Tipo</th>
                                <th>Status</th>
                                <th>Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${users.map(user => `
                                <tr>
                                    <td style="font-weight: 600;">${user.name}</td>
                                    <td style="color: #94a3b8;">${user.email}</td>
                                    <td><span class="badge ${user.tipo}">${user.tipo}</span></td>
                                    <td><span class="badge ${user.ativo ? 'active' : 'inactive'}">${user.ativo ? 'Ativo' : 'Inativo'}</span></td>
                                    <td style="color: #64748b;">${new Date(user.created_at).toLocaleDateString('pt-BR')}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
            document.getElementById('usersTable').innerHTML = html;
        }
        
        function renderEmpresasTable(empresas) {
            const html = `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Status</th>
                                <th>Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${empresas.map(emp => `
                                <tr>
                                    <td style="font-weight: 600;">${emp.name}</td>
                                    <td style="color: #94a3b8;">${emp.email}</td>
                                    <td><span class="badge ${emp.ativo ? 'active' : 'inactive'}">${emp.ativo ? 'Ativa' : 'Inativa'}</span></td>
                                    <td style="color: #64748b;">${new Date(emp.created_at).toLocaleDateString('pt-BR')}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
            document.getElementById('empresasTable').innerHTML = html;
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Administração - TemDeTudo</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="Acesso restrito - Administração TemDeTudo">
    <meta name="theme-color" content="#667eea">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/img/logo.png">
    
    <!-- Stylesheets -->
    
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center;">
    
    <!-- Admin Login Container -->
    <div class="form-container" style="width: 100%; max-width: 450px; margin: 2rem;">
        <div class="card" style="border: none; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">
            <!-- Header -->
            <div class="card-header text-center" style="background: var(--gradient-primary); padding: var(--space-8);">
                <div style="margin-bottom: 1.5rem;">
                    <img src="/img/logo.png" alt="TemDeTudo" style="width: 64px; height: 64px; border-radius: var(--radius-full); border: 3px solid white;">
                </div>
                <h1 style="color: white; font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem;">Administração</h1>
                <p style="color: rgba(255,255,255,0.9); font-size: 0.875rem;">Sistema de Gestão TemDeTudo</p>
            </div>
            
            <!-- Login Form -->
            <div class="card-body" style="padding: var(--space-8);">
                <form id="adminLoginForm" onsubmit="handleAdminLogin(event)">
                    <!-- Email -->
                    <div class="form-group" style="margin-bottom: var(--space-6);">
                        <label for="adminEmail" class="form-label">
                            <i class="fas fa-envelope icon-sm"></i> Email Administrativo
                        </label>
                        <input 
                            type="email" 
                            id="adminEmail" 
                            name="email" 
                            class="form-control" 
                            placeholder="admin@temdetudo.com"
                            required
                            autocomplete="username"
                        >
                    </div>
                    
                    <!-- Password -->
                    <div class="form-group" style="margin-bottom: var(--space-6);">
                        <label for="adminPassword" class="form-label">
                            <i class="fas fa-lock icon-sm"></i> Senha
                        </label>
                        <div style="position: relative;">
                            <input 
                                type="password" 
                                id="adminPassword" 
                                name="password" 
                                class="form-control" 
                                placeholder="Digite sua senha"
                                required
                                autocomplete="current-password"
                            >
                            <button 
                                type="button" 
                                onclick="togglePasswordVisibility()" 
                                style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray-500); cursor: pointer;"
                            >
                                <i id="passwordToggleIcon" class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Security Code (2FA simulation) -->
                    <div class="form-group" style="margin-bottom: var(--space-6);">
                        <label for="securityCode" class="form-label">
                            <i class="fas fa-shield-alt icon-sm"></i> Código de Segurança
                        </label>
                        <input 
                            type="text" 
                            id="securityCode" 
                            name="security_code" 
                            class="form-control" 
                            placeholder="000000"
                            maxlength="6"
                            pattern="[0-9]{6}"
                            title="Digite um código de 6 dàgitos"
                        >
                        <small style="color: var(--gray-600); font-size: 0.75rem; margin-top: 0.25rem; display: block;">
                            <i class="fas fa-info-circle"></i> Para demonstraàào, use: 123456
                        </small>
                    </div>
                    
                    <!-- Remember Me -->
                    <div class="form-group" style="margin-bottom: var(--space-6);">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="rememberMe" name="remember" style="margin: 0;">
                            <span style="font-size: 0.875rem; color: var(--gray-600);">Manter conectado por 30 dias</span>
                        </label>
                    </div>
                    
                    <!-- Login Button -->
                    <button type="submit" class="btn btn-primary w-full btn-lg" id="adminLoginBtn">
                        <i class="fas fa-sign-in-alt icon-sm"></i>
                        <span id="loginBtnText">Acessar Sistema</span>
                    </button>
                </form>
                
                <!-- Error/Success Messages -->
                <div id="loginMessage" style="margin-top: var(--space-4); padding: var(--space-4); border-radius: var(--radius-md); display: none;"></div>
                
                <!-- Security Info -->
                <div style="margin-top: var(--space-6); padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-md); border-left: 4px solid var(--primary-purple);">
                    <div style="display: flex; align-items: start; gap: 0.75rem;">
                        <i class="fas fa-shield-alt" style="color: var(--primary-purple); margin-top: 0.25rem;"></i>
                        <div>
                            <h4 style="font-size: 0.875rem; font-weight: 600; color: var(--gray-900); margin-bottom: 0.5rem;">Acesso Seguro</h4>
                            <p style="font-size: 0.75rem; color: var(--gray-600); line-height: 1.4;">
                                ã Todas as ações são registradas<br>
                                ã Conexão criptografada SSL<br>
                                à Monitoramento de Segurança ativo
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="text-align: center; margin-top: var(--space-6); color: rgba(255,255,255,0.7);">
            <p style="font-size: 0.75rem;">
                <i class="fas fa-lock icon-sm"></i>
                Sistema Administrativo TemDeTudo &copy; 2025
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Configurações da API
        const API_BASE = window.location.origin;
        
        // Toggle password visibility
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('adminPassword');
            const toggleIcon = document.getElementById('passwordToggleIcon');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        }
        
        // Show message
        function showMessage(message, type = 'error') {
            const messageEl = document.getElementById('loginMessage');
            messageEl.style.display = 'block';
            messageEl.innerHTML = message;
            
            if (type === 'success') {
                messageEl.style.background = 'var(--success-green)';
                messageEl.style.color = 'white';
                messageEl.innerHTML = '<i class="fas fa-check-circle"></i> ' + message;
            } else if (type === 'error') {
                messageEl.style.background = 'var(--error-red)';
                messageEl.style.color = 'white';
                messageEl.innerHTML = '<i class="fas fa-exclamation-circle"></i> ' + message;
            } else if (type === 'warning') {
                messageEl.style.background = 'var(--warning-yellow)';
                messageEl.style.color = 'var(--gray-900)';
                messageEl.innerHTML = '<i class="fas fa-exclamation-triangle"></i> ' + message;
            }
            
            // Auto hide after 5 seconds for non-error messages
            if (type !== 'error') {
                setTimeout(() => {
                    messageEl.style.display = 'none';
                }, 5000);
            }
        }
        
        // Handle admin login
        async function handleAdminLogin(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const loginData = {
                email: formData.get('email').trim(),
                password: formData.get('password'),
                security_code: formData.get('security_code') || '123456',
                remember: formData.get('remember') ? true : false
            };
            
            // Validações
            if (!Validators.email(loginData.email)) {
                showMessage('Email inválido.', 'error');
                return;
            }
            
            if (!Validators.password(loginData.password)) {
                showMessage('Senha deve ter no mínimo 6 caracteres.', 'error');
                return;
            }
            
            // UI Loading state
            const loginBtn = document.getElementById('adminLoginBtn');
            const btnText = document.getElementById('loginBtnText');
            
            setLoading(loginBtn, true);
            if (btnText) btnText.textContent = 'Verificando...';
            
            try {
                const result = await authManager.adminLogin(loginData);
                
                if (result.success) {
                    if (loginData.remember) {
                        localStorage.setItem('admin_remember', 'true');
                    }
                    
                    showMessage('Login administrativo realizado com sucesso!', 'success');
                    
                    // Redirecionar usando o redirect do AuthManager
                    setTimeout(() => {
                        window.location.href = result.redirect;
                    }, 1000);
                } else {
                    throw new Error(result.message);
                }
                
            } catch (error) {
                console.error('? Login error:', error);
                showMessage(error.message || 'Erro ao fazer login. Verifique suas credenciais.', 'error');
                setLoading(loginBtn, false);
                if (btnText) btnText.textContent = 'Entrar como Admin';
            }
        }
        
        // Check if already logged in
        window.addEventListener('DOMContentLoaded', function() {
            const adminToken = localStorage.getItem('admin_token');
            if (adminToken) {
                showMessage('Você jà está logado. Redirecionando...', 'success');
                setTimeout(() => {
                    window.location.href = '/admin.html';
                }, 2000);
            }
        });
        
        // Security: Clear form on page unload
        window.addEventListener('beforeunload', function() {
            document.getElementById('adminLoginForm').reset();
        });
    </script>
    <script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdministraÃ§Ã£o - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 440px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 16px;
        }
        
        .logo .badge-admin {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .welcome h1 {
            color: #1a1a2e;
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .welcome p {
            color: #6b7280;
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            color: #374151;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        .input-wrapper i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            font-size: 16px;
        }
        
        .input-wrapper input {
            width: 100%;
            padding: 14px 16px 14px 48px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }
        
        .input-wrapper input:focus {
            outline: none;
            border-color: #667eea;
            background: #f9fafb;
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 24px;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
        }
        
        .btn-submit:active {
            transform: translateY(0);
        }
        
        .alert {
            padding: 12px 16px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }
        
        .alert-error {
            background: #fef2f2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
        
        .alert-success {
            background: #f0fdf4;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .back-link {
            text-align: center;
            margin-top: 24px;
        }
        
        .back-link a {
            color: #667eea;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
        }
        
        .back-link a:hover {
            text-decoration: underline;
        }
    </style>
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
            <div class="badge-admin">
                <i class="fas fa-shield-alt"></i> Administrador
            </div>
        </div>
        
        <div class="welcome">
            <h1>Acesso Administrativo</h1>
            <p>Ãrea restrita - apenas administradores</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="loginForm">
            <div class="form-group">
                <label for="email">E-mail Administrativo</label>
                <div class="input-wrapper">
                    <i class="fas fa-user-shield"></i>
                    <input type="email" id="email" placeholder="admin@temdetudo.com" required autocomplete="username">
                </div>
            </div>
            
            <div class="form-group">
                <label for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" placeholder="Digite sua senha" required autocomplete="current-password">
                </div>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                ENTRAR NO PAINEL
            </button>
        </form>
        
        <div class="back-link">
            <a href="/entrar.html">
                <i class="fas fa-arrow-left"></i> Voltar para login normal
            </a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('loginForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 2000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading"></span>VERIFICANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'ENTRAR NO PAINEL';
            }
        }
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Erro ao fazer login');
                }
                
                // Verificar se Ã© admin
                if (data.user.tipo !== 'admin') {
                    throw new Error('Acesso negado. Apenas administradores podem acessar esta Ã¡rea.');
                }
                
                // Salvar token e dados do usuÃ¡rio
                localStorage.setItem('token', data.token);
                localStorage.setItem('user', JSON.stringify(data.user));
                
                showAlert('Login realizado com sucesso!', 'success');
                
                // Redirecionar para o painel admin
                setTimeout(() => {
                    window.location.href = '/admin-dashboard.html';
                }, 1000);
                
            } catch (error) {
                setLoading(false);
                showAlert(error.message || 'Erro ao fazer login. Tente novamente.');
            }
        });
        
        // Verificar se jÃ¡ estÃ¡ logado como admin
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (token && user.tipo === 'admin') {
            window.location.href = '/admin-dashboard.html';
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdministraÃ§Ã£o - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 440px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 16px;
        }
        
        .logo .badge-admin {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .welcome h1 {
            color: #1a1a2e;
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .welcome p {
            color: #6b7280;
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            color: #374151;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        .input-wrapper i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            font-size: 16px;
        }
        
        .input-wrapper input {
            width: 100%;
            padding: 14px 16px 14px 48px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }
        
        .input-wrapper input:focus {
            outline: none;
            border-color: #667eea;
            background: #f9fafb;
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 24px;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
        }
        
        .btn-submit:active {
            transform: translateY(0);
        }
        
        .alert {
            padding: 12px 16px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }
        
        .alert-error {
            background: #fef2f2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
        
        .alert-success {
            background: #f0fdf4;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .back-link {
            text-align: center;
            margin-top: 24px;
        }
        
        .back-link a {
            color: #667eea;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
        }
        
        .back-link a:hover {
            text-decoration: underline;
        }
    </style>
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
            <div class="badge-admin">
                <i class="fas fa-shield-alt"></i> Administrador
            </div>
        </div>
        
        <div class="welcome">
            <h1>Acesso Administrativo</h1>
            <p>Ãrea restrita - apenas administradores</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="loginForm">
            <div class="form-group">
                <label for="email">E-mail Administrativo</label>
                <div class="input-wrapper">
                    <i class="fas fa-user-shield"></i>
                    <input type="email" id="email" placeholder="admin@temdetudo.com" required autocomplete="username">
                </div>
            </div>
            
            <div class="form-group">
                <label for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" placeholder="Digite sua senha" required autocomplete="current-password">
                </div>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                ENTRAR NO PAINEL
            </button>
        </form>
        
        <div class="back-link">
            <a href="/entrar.html">
                <i class="fas fa-arrow-left"></i> Voltar para login normal
            </a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('loginForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 2000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading"></span>VERIFICANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'ENTRAR NO PAINEL';
            }
        }
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Erro ao fazer login');
                }
                
                // Verificar se Ã© admin
                if (data.user.tipo !== 'admin') {
                    throw new Error('Acesso negado. Apenas administradores podem acessar esta Ã¡rea.');
                }
                
                // Salvar token e dados do usuÃ¡rio
                localStorage.setItem('token', data.token);
                localStorage.setItem('user', JSON.stringify(data.user));
                
                showAlert('Login realizado com sucesso!', 'success');
                
                // Redirecionar para o painel admin
                setTimeout(() => {
                    window.location.href = '/admin-dashboard.html';
                }, 1000);
                
            } catch (error) {
                setLoading(false);
                showAlert(error.message || 'Erro ao fazer login. Tente novamente.');
            }
        });
        
        // Verificar se jÃ¡ estÃ¡ logado como admin
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (token && user.tipo === 'admin') {
            window.location.href = '/admin-dashboard.html';
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Painel Admin - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-admin></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;"><div style="max-width:1400px;margin:0 auto;"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;"><div style="display:flex;align-items:center;gap:16px;"><div style="width:60px;height:60px;background:rgba(255,255,255,0.2);border-radius:16px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-sparkles" style="font-size:30px;"></i></div><div><div style="font-size:14px;opacity:0.9;">Painel do</div><div style="font-size:32px;font-weight:900;">Administrador</div></div></div><button onclick="logout()" style="background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.2);color:white;padding:12px 24px;border-radius:50px;cursor:pointer;font-weight:700;"><i class="fas fa-sign-out-alt"></i> Sair</button></div></div></header>
<div style="max-width:1400px;margin:-40px auto 0;padding:0 20px 40px;"><div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:32px;"><div style="background:white;border-radius:20px;padding:28px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;"><div style="width:64px;height:64px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(102,126,234,0.3);"><i class="fas fa-building" style="font-size:28px;color:white;"></i></div><div><div style="font-size:36px;font-weight:900;color:#1a1a2e;" id="totalEmpresas">0</div><div style="font-size:13px;color:#7c8db0;font-weight:600;">Empresas</div></div></div></div><div style="background:white;border-radius:20px;padding:28px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;"><div style="width:64px;height:64px;background:linear-gradient(135deg,#10b981,#059669);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(16,185,129,0.3);"><i class="fas fa-users" style="font-size:28px;color:white;"></i></div><div><div style="font-size:36px;font-weight:900;color:#1a1a2e;" id="totalClientes">0</div><div style="font-size:13px;color:#7c8db0;font-weight:600;">Clientes</div></div></div></div><div style="background:white;border-radius:20px;padding:28px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;"><div style="width:64px;height:64px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(245,158,11,0.3);"><i class="fas fa-star" style="font-size:28px;color:white;"></i></div><div><div style="font-size:36px;font-weight:900;color:#1a1a2e;" id="totalPontos">0</div><div style="font-size:13px;color:#7c8db0;font-weight:600;">Pontos Distribuídos</div></div></div></div></div>
<div style="background:white;border-radius:24px;padding:32px;box-shadow:0 12px 40px rgba(102,126,234,0.08);"><h2 style="font-size:24px;font-weight:900;color:#1a1a2e;margin:0 0 24px;"><i class="fas fa-bolt" style="color:#667eea;"></i> Ações Rápidas</h2><div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;"><a href="/admin/empresas" style="background:rgba(102,126,234,0.05);border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;transition:all 0.3s;border:1px solid rgba(102,126,234,0.1);"><div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-building" style="font-size:20px;color:white;"></i></div><div style="font-weight:700;font-size:15px;">Gerenciar Empresas</div></a><a href="/admin/clientes" style="background:rgba(16,185,129,0.05);border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;transition:all 0.3s;border:1px solid rgba(16,185,129,0.1);"><div style="width:48px;height:48px;background:linear-gradient(135deg,#10b981,#059669);border-radius:12px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-users" style="font-size:20px;color:white;"></i></div><div style="font-weight:700;font-size:15px;">Gerenciar Clientes</div></a><a href="/admin/relatorios" style="background:rgba(245,158,11,0.05);border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;transition:all 0.3s;border:1px solid rgba(245,158,11,0.1);"><div style="width:48px;height:48px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-chart-bar" style="font-size:20px;color:white;"></i></div><div style="font-weight:700;font-size:15px;">Relatórios</div></a><a href="/admin/configuracoes" style="background:rgba(102,126,234,0.05);border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;transition:all 0.3s;border:1px solid rgba(102,126,234,0.1);"><div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-cog" style="font-size:20px;color:white;"></i></div><div style="font-weight:700;font-size:15px;">Configurações</div></a></div></div></div>
<script>async function load(){const token=localStorage.getItem('token');try{const r=await fetch('/api/admin/dashboard',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('totalEmpresas').textContent=d.empresas||0;document.getElementById('totalClientes').textContent=d.clientes||0;document.getElementById('totalPontos').textContent=d.pontos||0;}}catch(e){}}function logout(){if(confirm('Deseja sair?')){localStorage.clear();window.location.href='/entrar';}}load();</script>
</body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Estatísticas e Relatórios - Admin - Tem de Tudo</title>
    
    <!-- Meta Tags PWA -->
    <meta name="description" content="Dashboard administrativo com estatísticas e relatórios do sistema Tem de Tudo">
    <meta name="theme-color" content="#667eea">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/frontend/img/logo.png">
    <link rel="apple-touch-icon" href="/frontend/img/logo.png">
    
    <!-- Stylesheets -->
    
    
    <!-- Manifest PWA -->
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-admin></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="app-container">
        <!-- Admin Header -->
        <header class="app-header">
            <div class="header-container">
                <a href="/admin.html" class="logo">
                    <img src="/frontend/img/logo.png" alt="Admin - Tem de Tudo" class="logo-image">
                    <span style="color: var(--accent-orange); margin-left: 8px; font-weight: 600;">ADMIN</span>
                </a>
                
                <nav class="nav-menu">
                    <a href="/admin.html"><i class="fas fa-tachometer-alt icon-sm"></i> Dashboard</a>
                    <a href="/profile-company.html"><i class="fas fa-building icon-sm"></i> Empresas</a>
                    <a href="#" class="active"><i class="fas fa-chart-line icon-sm"></i> Relatórios</a>
                    <a href="/profile-client.html"><i class="fas fa-users icon-sm"></i> Usuórios</a>
                    <a href="/entrar.html"><i class="fas fa-sign-out-alt icon-sm"></i> Sair</a>
                </nav>
                
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-menu">
                <a href="/admin.html"><i class="fas fa-tachometer-alt icon-sm"></i> Dashboard</a>
                <a href="/profile-company.html"><i class="fas fa-building icon-sm"></i> Empresas</a>
                <a href="#" class="active"><i class="fas fa-chart-line icon-sm"></i> Relatórios</a>
                <a href="/profile-client.html"><i class="fas fa-users icon-sm"></i> Usuórios</a>
                <a href="/entrar.html"><i class="fas fa-sign-out-alt icon-sm"></i> Sair</a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="app-main">
            <div style="max-width: 1400px; margin: 0 auto; padding: var(--space-6);">
                
                <!-- Page Header -->
                <div class="card mb-4">
                    <div class="card-header text-center">
                        <i class="fas fa-chart-line icon-lg" style="color: white; font-size: 3rem; margin-bottom: 1rem;"></i>
                        <h1 style="color: white; margin-bottom: 0.5rem;">Estatísticas e Relatórios</h1>
                        <p style="color: rgba(255,255,255,0.9);">Análise completa de dados e desempenho do sistema</p>
                    </div>
                </div>

                <!-- Filter Controls -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-4); align-items: end;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Período</label>
                                <select id="periodFilter" class="form-control" onchange="updateCharts()">
                                    <option value="7">Últimos 7 dias</option>
                                    <option value="30" selected>Últimos 30 dias</option>
                                    <option value="90">Últimos 90 dias</option>
                                    <option value="365">Últimos 12 meses</option>
                                    <option value="custom">Período personalizado</option>
                                </select>
                            </div>
                            
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Categoria</label>
                                <select id="categoryFilter" class="form-control" onchange="updateCharts()">
                                    <option value="all">Todas as categorias</option>
                                    <option value="alimentacao">Alimentaçõo</option>
                                    <option value="varejo">Varejo</option>
                                    <option value="servicos">Serviços</option>
                                    <option value="saude">Sa?de</option>
                                    <option value="entretenimento">Entretenimento</option>
                                </select>
                            </div>

                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-700);">Regi?o</label>
                                <select id="regionFilter" class="form-control" onchange="updateCharts()">
                                    <option value="all">Todas as regióes</option>
                                    <option value="centro">Centro</option>
                                    <option value="zona-norte">Zona Norte</option>
                                    <option value="zona-sul">Zona Sul</option>
                                    <option value="zona-leste">Zona Leste</option>
                                    <option value="zona-oeste">Zona Oeste</option>
                                </select>
                            </div>

                            <button class="btn btn-primary" onclick="exportReport()">
                                <i class="fas fa-download"></i> Exportar Relatório
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Key Metrics -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-4); margin-bottom: var(--space-6);">
                    
                    <div class="card">
                        <div class="card-body">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div>
                                    <p style="color: var(--gray-600); margin-bottom: 0.5rem; font-size: 0.875rem;">Total de Usuórios</p>
                                    <h3 style="color: var(--gray-900); margin: 0;" id="totalUsers">12,547</h3>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                        <span style="color: var(--success-green); font-size: 0.875rem;">
                                            <i class="fas fa-arrow-up"></i> +12.5%
                                        </span>
                                        <span style="color: var(--gray-600); font-size: 0.75rem;">vs. mís anterior</span>
                                    </div>
                                </div>
                                <div style="background: var(--primary-blue); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-users" style="font-size: 1.5rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div>
                                    <p style="color: var(--gray-600); margin-bottom: 0.5rem; font-size: 0.875rem;">Pontos Distribu?dos</p>
                                    <h3 style="color: var(--gray-900); margin: 0;" id="totalPoints">2,847,369</h3>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                        <span style="color: var(--success-green); font-size: 0.875rem;">
                                            <i class="fas fa-arrow-up"></i> +24.8%
                                        </span>
                                        <span style="color: var(--gray-600); font-size: 0.75rem;">vs. mís anterior</span>
                                    </div>
                                </div>
                                <div style="background: var(--accent-orange); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-coins" style="font-size: 1.5rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div>
                                    <p style="color: var(--gray-600); margin-bottom: 0.5rem; font-size: 0.875rem;">Estabelecimentos Ativos</p>
                                    <h3 style="color: var(--gray-900); margin: 0;" id="activeStores">1,247</h3>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                        <span style="color: var(--success-green); font-size: 0.875rem;">
                                            <i class="fas fa-arrow-up"></i> +8.3%
                                        </span>
                                        <span style="color: var(--gray-600); font-size: 0.75rem;">vs. mís anterior</span>
                                    </div>
                                </div>
                                <div style="background: var(--success-green); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-store" style="font-size: 1.5rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div>
                                    <p style="color: var(--gray-600); margin-bottom: 0.5rem; font-size: 0.875rem;">Transações/Mís</p>
                                    <h3 style="color: var(--gray-900); margin: 0;" id="monthlyTransactions">89,634</h3>
                                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                        <span style="color: var(--success-green); font-size: 0.875rem;">
                                            <i class="fas fa-arrow-up"></i> +18.7%
                                        </span>
                                        <span style="color: var(--gray-600); font-size: 0.75rem;">vs. mís anterior</span>
                                    </div>
                                </div>
                                <div style="background: var(--warning-yellow); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-exchange-alt" style="font-size: 1.5rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row 1 -->
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6);">
                    
                    <!-- Growth Trend Chart -->
                    <div class="card">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-chart-line icon-sm"></i> Crescimento de Usuórios
                            </h3>
                        </div>
                        <div class="card-body">
                            <canvas id="growthChart" height="300"></canvas>
                        </div>
                    </div>

                    <!-- Category Distribution -->
                    <div class="card">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-chart-pie icon-sm"></i> Distribuiçõo por Categoria
                            </h3>
                        </div>
                        <div class="card-body">
                            <canvas id="categoryChart" height="300"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Charts Row 2 -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6);">
                    
                    <!-- Points Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-coins icon-sm"></i> Atividade de Pontos
                            </h3>
                        </div>
                        <div class="card-body">
                            <canvas id="pointsChart" height="250"></canvas>
                        </div>
                    </div>

                    <!-- Regional Performance -->
                    <div class="card">
                        <div class="card-header">
                            <h3 style="color: white; margin: 0;">
                                <i class="fas fa-map-marker-alt icon-sm"></i> Performance por Regi?o
                            </h3>
                        </div>
                        <div class="card-body">
                            <canvas id="regionChart" height="250"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Detailed Reports Table -->
                <div class="card">
                    <div class="card-header">
                        <h3 style="color: white; margin: 0;">
                            <i class="fas fa-table icon-sm"></i> Relatório Detalhado de Estabelecimentos
                        </h3>
                    </div>
                    <div class="card-body" style="padding: 0;">
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead style="background: var(--gray-100);">
                                    <tr>
                                        <th style="padding: var(--space-3); text-align: left; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Estabelecimento</th>
                                        <th style="padding: var(--space-3); text-align: left; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Categoria</th>
                                        <th style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Usuórios Ativos</th>
                                        <th style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Pontos Distribu?dos</th>
                                        <th style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Transações</th>
                                        <th style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Status</th>
                                        <th style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900); border-bottom: 1px solid var(--gray-200);">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="storeReportsTable">
                                    <tr style="border-bottom: 1px solid var(--gray-200);">
                                        <td style="padding: var(--space-3);">
                                            <div style="display: flex; align-items: center; gap: var(--space-2);">
                                                <div style="width: 40px; height: 40px; background: var(--primary-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.875rem;">MC</div>
                                                <div>
                                                    <div style="font-weight: 600; color: var(--gray-900);">McDonald's Centro</div>
                                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Rua das Flores, 123</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="padding: var(--space-3); color: var(--gray-700);">Alimentaçõo</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">2,847</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--accent-orange);">147,329</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">8,642</td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <span style="background: var(--success-green); color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 500;">Ativo</span>
                                        </td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <button class="btn btn-sm btn-outline" onclick="viewStoreDetails('mc-centro')" style="margin-right: 0.5rem;">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="exportStoreReport('mc-centro')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>

                                    <tr style="border-bottom: 1px solid var(--gray-200);">
                                        <td style="padding: var(--space-3);">
                                            <div style="display: flex; align-items: center; gap: var(--space-2);">
                                                <div style="width: 40px; height: 40px; background: var(--success-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.875rem;">SB</div>
                                                <div>
                                                    <div style="font-weight: 600; color: var(--gray-900);">Starbucks Shopping</div>
                                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Shopping Center Norte</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="padding: var(--space-3); color: var(--gray-700);">Alimentaçõo</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">1,923</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--accent-orange);">98,247</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">5,431</td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <span style="background: var(--success-green); color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 500;">Ativo</span>
                                        </td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <button class="btn btn-sm btn-outline" onclick="viewStoreDetails('sb-shopping')" style="margin-right: 0.5rem;">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="exportStoreReport('sb-shopping')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>

                                    <tr style="border-bottom: 1px solid var(--gray-200);">
                                        <td style="padding: var(--space-3);">
                                            <div style="display: flex; align-items: center; gap: var(--space-2);">
                                                <div style="width: 40px; height: 40px; background: var(--accent-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.875rem;">FM</div>
                                                <div>
                                                    <div style="font-weight: 600; color: var(--gray-900);">Farm?cia S?o Paulo</div>
                                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Av. Paulista, 1000</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="padding: var(--space-3); color: var(--gray-700);">Sa?de</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">3,145</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--accent-orange);">203,847</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">12,398</td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <span style="background: var(--success-green); color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 500;">Ativo</span>
                                        </td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <button class="btn btn-sm btn-outline" onclick="viewStoreDetails('farmacia-sp')" style="margin-right: 0.5rem;">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="exportStoreReport('farmacia-sp')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>

                                    <tr style="border-bottom: 1px solid var(--gray-200);">
                                        <td style="padding: var(--space-3);">
                                            <div style="display: flex; align-items: center; gap: var(--space-2);">
                                                <div style="width: 40px; height: 40px; background: var(--warning-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.875rem;">CV</div>
                                                <div>
                                                    <div style="font-weight: 600; color: var(--gray-900);">Cinema Village</div>
                                                    <div style="font-size: 0.875rem; color: var(--gray-600);">Shopping Villa Lobos</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="padding: var(--space-3); color: var(--gray-700);">Entretenimento</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">892</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--accent-orange);">45,892</td>
                                        <td style="padding: var(--space-3); text-align: center; font-weight: 600; color: var(--gray-900);">2,847</td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <span style="background: var(--warning-yellow); color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 500;">Inativo</span>
                                        </td>
                                        <td style="padding: var(--space-3); text-align: center;">
                                            <button class="btn btn-sm btn-outline" onclick="viewStoreDetails('cinema-village')" style="margin-right: 0.5rem;">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="exportStoreReport('cinema-village')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div style="padding: var(--space-4); border-top: 1px solid var(--gray-200); display: flex; justify-content: between; align-items: center;">
                            <p style="color: var(--gray-600); margin: 0;">Mostrando 4 de 1,247 estabelecimentos</p>
                            <button class="btn btn-outline" onclick="loadMoreStores()">
                                <i class="fas fa-plus"></i> Carregar mais
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/js/app-mobile.js"></script>
    <script>
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const btn = document.querySelector('.mobile-menu-btn');
            mobileNav.classList.toggle('active');
            btn.classList.toggle('active');
        }

        // Chart instances
        let charts = {};

        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            updateMetrics();
        });

        function initializeCharts() {
            // Growth Chart
            const growthCtx = document.getElementById('growthChart').getContext('2d');
            charts.growth = new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                    datasets: [{
                        label: 'Novos Usuórios',
                        data: [845, 1203, 1456, 1678, 1892, 2134, 2387, 2645, 2834, 3012, 3247, 3456],
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Usuórios Ativos',
                        data: [7234, 8456, 9123, 9876, 10234, 10987, 11456, 11789, 12034, 12287, 12456, 12547],
                        borderColor: '#059669',
                        backgroundColor: 'rgba(5, 150, 105, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });

            // Category Chart
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            charts.category = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Alimentaçõo', 'Varejo', 'Sa?de', 'Serviços', 'Entretenimento'],
                    datasets: [{
                        data: [35, 25, 20, 12, 8],
                        backgroundColor: [
                            '#764ba2',
                            '#059669',
                            '#ea580c',
                            '#7c3aed',
                            '#dc2626'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Points Chart
            const pointsCtx = document.getElementById('pointsChart').getContext('2d');
            charts.points = new Chart(pointsCtx, {
                type: 'bar',
                data: {
                    labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S?b', 'Dom'],
                    datasets: [{
                        label: 'Pontos Distribu?dos',
                        data: [45230, 52140, 48930, 51020, 62340, 78420, 69230],
                        backgroundColor: '#ea580c',
                        borderRadius: 4
                    }, {
                        label: 'Pontos Resgatados',
                        data: [12340, 15230, 13890, 16420, 18340, 22140, 19850],
                        backgroundColor: '#7c3aed',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top'
                        }
                    }
                }
            });

            // Region Chart
            const regionCtx = document.getElementById('regionChart').getContext('2d');
            charts.region = new Chart(regionCtx, {
                type: 'radar',
                data: {
                    labels: ['Centro', 'Zona Norte', 'Zona Sul', 'Zona Leste', 'Zona Oeste'],
                    datasets: [{
                        label: 'Usuórios Ativos',
                        data: [85, 78, 92, 67, 73],
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(30, 64, 175, 0.2)',
                        pointBackgroundColor: '#764ba2'
                    }, {
                        label: 'Estabelecimentos',
                        data: [78, 65, 88, 59, 71],
                        borderColor: '#059669',
                        backgroundColor: 'rgba(5, 150, 105, 0.2)',
                        pointBackgroundColor: '#059669'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function updateCharts() {
            const period = document.getElementById('periodFilter').value;
            const category = document.getElementById('categoryFilter').value;
            const region = document.getElementById('regionFilter').value;

            console.log('Atualizando charts para:', { period, category, region });
            
            // Simulate data update based on filters
            updateMetrics();
        }

        function updateMetrics() {
            // Simulate real-time metric updates
            const metrics = {
                totalUsers: Math.floor(Math.random() * 1000) + 12000,
                totalPoints: Math.floor(Math.random() * 100000) + 2800000,
                activeStores: Math.floor(Math.random() * 50) + 1200,
                monthlyTransactions: Math.floor(Math.random() * 10000) + 85000
            };

            document.getElementById('totalUsers').textContent = metrics.totalUsers.toLocaleString();
            document.getElementById('totalPoints').textContent = metrics.totalPoints.toLocaleString();
            document.getElementById('activeStores').textContent = metrics.activeStores.toLocaleString();
            document.getElementById('monthlyTransactions').textContent = metrics.monthlyTransactions.toLocaleString();
        }

        function exportReport() {
            const period = document.getElementById('periodFilter').value;
            const category = document.getElementById('categoryFilter').value;
            const region = document.getElementById('regionFilter').value;

            alert(`Exportando relatório...\n\nPeríodo: ${period} dias\nCategoria: ${category}\nRegi?o: ${region}\n\nO arquivo ser? enviado para seu email em alguns minutos.`);
        }

        function viewStoreDetails(storeId) {
            alert(`Visualizando detalhes do estabelecimento: ${storeId}\n\nEsta funcionalidade abrir? uma nova p?gina com an?lise completa do estabelecimento.`);
        }

        function exportStoreReport(storeId) {
            alert(`Exportando relatório individual do estabelecimento: ${storeId}\n\nO arquivo ser? gerado e baixado automaticamente.`);
        }

        function loadMoreStores() {
            alert('Carregando mais estabelecimentos...\n\nEsta funcionalidade carregar? os pr?ximos 10 estabelecimentos da lista.');
        }

        // Update metrics every 30 seconds
        setInterval(updateMetrics, 30000);
    </script><script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Admin - Tem de Tudo</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">

    <!-- Stylesheets -->
    
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-container">
                <a href="/admin.html" class="logo">
                    <img src="/img/logo.png" alt="Tem de Tudo" class="logo-image">
                    <span>Tem de Tudo</span>
                </a>

                <nav class="nav-menu">
                    <a href="/admin.html" class="active">
                        <i class="fas fa-home icon-sm"></i> Dashboard
                    </a>
                    <a href="/admin/usuarios.html">
                        <i class="fas fa-users icon-sm"></i> Usuários
                    </a>
                    <a href="/admin/empresas.html">
                        <i class="fas fa-building icon-sm"></i> Empresas
                    </a>
                    <a href="/admin/relatorios.html">
                        <i class="fas fa-chart-bar icon-sm"></i> Relatórios
                    </a>
                    <a href="/admin/configuracoes.html">
                        <i class="fas fa-cog icon-sm"></i> Configurações
                    </a>
                    <a href="#" onclick="logout()">
                        <i class="fas fa-sign-out-alt icon-sm"></i> Sair
                    </a>
                </nav>

                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-menu">
                <a href="/admin.html" class="active">
                    <i class="fas fa-home icon-sm"></i> Dashboard
                </a>
                <a href="/admin/usuarios.html">
                    <i class="fas fa-users icon-sm"></i> Usuários
                </a>
                <a href="/admin/empresas.html">
                    <i class="fas fa-building icon-sm"></i> Empresas
                </a>
                <a href="/admin/relatorios.html">
                    <i class="fas fa-chart-bar icon-sm"></i> Relatórios
                </a>
                <a href="/admin/configuracoes.html">
                    <i class="fas fa-cog icon-sm"></i> Configurações
                </a>
                <a href="#" onclick="logout()">
                    <i class="fas fa-sign-out-alt icon-sm"></i> Sair
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="app-main">
            <div style="max-width: 1200px; margin: 0 auto; padding: var(--space-6);">
                <!-- Welcome Section -->
                <div class="glass-container" style="margin-bottom: var(--space-8);">
                    <div style="display: flex; align-items: center; gap: var(--space-4);">
                        <div style="background: var(--gradient-primary); width: 64px; height: 64px; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-shield-alt" style="font-size: 24px; color: white;"></i>
                        </div>
                        <div>
                            <h1 style="margin: 0; font-size: 1.5rem; color: var(--gray-900);">
                                Painel Administrativo
                            </h1>
                            <p style="margin: 0; color: var(--gray-600);">
                                Bem-vindo(a), <span id="adminName">Administrador</span>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="grid grid-cols-4" style="gap: var(--space-6); margin-bottom: var(--space-8);">
                    <div class="stat-card">
                        <i class="fas fa-users" style="font-size: 2rem; color: var(--primary-purple); margin-bottom: var(--space-2);"></i>
                        <div class="stat-value" id="totalUsers">0</div>
                        <div class="stat-label">Total de Usuários</div>
                    </div>

                    <div class="stat-card">
                        <i class="fas fa-building" style="font-size: 2rem; color: var(--accent-orange); margin-bottom: var(--space-2);"></i>
                        <div class="stat-value" id="totalEmpresas">0</div>
                        <div class="stat-label">Empresas Ativas</div>
                    </div>

                    <div class="stat-card">
                        <i class="fas fa-chart-line" style="font-size: 2rem; color: var(--accent-green); margin-bottom: var(--space-2);"></i>
                        <div class="stat-value" id="totalPontos">0</div>
                        <div class="stat-label">Pontos Distribuídos</div>
                    </div>

                    <div class="stat-card">
                        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: var(--accent-pink); margin-bottom: var(--space-2);"></i>
                        <div class="stat-value" id="alertas">0</div>
                        <div class="stat-label">Alertas do Sistema</div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card" style="margin-bottom: var(--space-8);">
                    <div class="card-body">
                        <h2 style="margin: 0 0 var(--space-6); color: var(--primary-purple); display: flex; align-items: center; gap: var(--space-2);">
                            <i class="fas fa-clock"></i>
                            Atividade Recente
                        </h2>

                        <div id="recentActivity" style="display: flex; flex-direction: column; gap: var(--space-4);">
                            <!-- Activity items will be loaded here -->
                            <div style="text-align: center; color: var(--gray-500); padding: var(--space-8);">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: var(--space-4);"></i>
                                <p>Carregando atividades...</p>
                            </div>
                        </div>

                        <div style="margin-top: var(--space-6); text-align: center;">
                            <a href="/admin/relatorios.html" class="btn btn-outline">
                                <i class="fas fa-history"></i>
                                Ver Relatório Completo
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-3" style="gap: var(--space-6);">
                    <div class="card">
                        <div class="card-body text-center">
                            <i class="fas fa-user-plus" style="font-size: 3rem; color: var(--primary-purple); margin-bottom: var(--space-4);"></i>
                            <h3 style="margin: 0 0 var(--space-2); color: var(--gray-900);">Criar Usuário</h3>
                            <p style="margin: 0 0 var(--space-4); color: var(--gray-600); font-size: 0.875rem;">
                                Adicionar novo usuário ao sistema
                            </p>
                            <a href="/admin/usuarios.html?action=create" class="btn btn-primary btn-sm">
                                <i class="fas fa-plus"></i>
                                Criar
                            </a>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body text-center">
                            <i class="fas fa-building" style="font-size: 3rem; color: var(--accent-orange); margin-bottom: var(--space-4);"></i>
                            <h3 style="margin: 0 0 var(--space-2); color: var(--gray-900);">Gerenciar Empresas</h3>
                            <p style="margin: 0 0 var(--space-4); color: var(--gray-600); font-size: 0.875rem;">
                                Aprovar e configurar estabelecimentos
                            </p>
                            <a href="/admin/empresas.html" class="btn btn-primary btn-sm">
                                <i class="fas fa-cog"></i>
                                Gerenciar
                            </a>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body text-center">
                            <i class="fas fa-chart-bar" style="font-size: 3rem; color: var(--accent-green); margin-bottom: var(--space-4);"></i>
                            <h3 style="margin: 0 0 var(--space-2); color: var(--gray-900);">Relatórios</h3>
                            <p style="margin: 0 0 var(--space-4); color: var(--gray-600); font-size: 0.875rem;">
                                Análise de dados e estatísticas
                            </p>
                            <a href="/admin/relatorios.html" class="btn btn-primary btn-sm">
                                <i class="fas fa-chart-line"></i>
                                Ver Relatórios
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/js/global.js"></script>
    <script src="/js/auth-middleware.js"></script>
    <script src="/js/auth.js"></script>
    <script>
        // Verificar autenticação de admin
        document.addEventListener('DOMContentLoaded', async function() {
            // Verificar se está autenticado
            if (!authMiddleware.isAuthenticated()) {
                window.location.href = '/admin-login.html';
                return;
            }

            // Validar token com o servidor
            const tokenValid = await authMiddleware.validateToken();
            if (!tokenValid) {
                return; // Já foi redirecionado pelo validateToken
            }

            // Verificar se tem acesso à rota
            if (!authMiddleware.hasAccessToCurrentRoute()) {
                authMiddleware.redirectToCorrectRoute();
                return;
            }

            // Verificar se é admin
            const user = authMiddleware.getCurrentUser();
            if (!user || user.perfil !== 'admin') {
                alert('Acesso negado. Você não tem permissões administrativas.');
                authMiddleware.logout();
                return;
            }

            // Carregar dados do dashboard
            loadDashboardData();
            loadRecentActivity();
        });

        async function loadDashboardData() {
            try {
                const token = localStorage.getItem('tem_de_tudo_token') || sessionStorage.getItem('tem_de_tudo_token');
                const response = await fetch('/api/admin/dashboard-stats', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        document.getElementById('totalUsers').textContent = data.data.total_users || 0;
                        document.getElementById('totalEmpresas').textContent = data.data.total_empresas || 0;
                        document.getElementById('totalPontos').textContent = data.data.total_pontos || 0;
                        document.getElementById('alertas').textContent = data.data.alertas || 0;

                        // Atualizar nome do admin
                        const user = authMiddleware.getCurrentUser();
                        if (user && user.name) {
                            document.getElementById('adminName').textContent = user.name;
                        }
                    }
                } else if (response.status === 401) {
                    // Token inv?lido, fazer logout
                    authMiddleware.logout();
                }
            } catch (error) {
                console.error('Erro ao carregar dados do dashboard:', error);
            }
        }

        async function loadRecentActivity() {
            try {
                const response = await fetch('/api/admin/recent-activity', {
                    headers: {
                        'Authorization': `Bearer ${window.Auth.getToken()}`,
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        displayRecentActivity(data.data);
                    }
                }
            } catch (error) {
                console.error('Erro ao carregar atividade recente:', error);
                document.getElementById('recentActivity').innerHTML = `
                    <div style="text-align: center; color: var(--gray-500); padding: var(--space-8);">
                        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: var(--space-4);"></i>
                        <p>Erro ao carregar atividades recentes</p>
                    </div>
                `;
            }
        }

        function displayRecentActivity(activities) {
            const container = document.getElementById('recentActivity');

            if (!activities || activities.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: var(--gray-500); padding: var(--space-8);">
                        <i class="fas fa-info-circle" style="font-size: 2rem; margin-bottom: var(--space-4);"></i>
                        <p>Nenhuma atividade recente</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = activities.map(activity => `
                <div style="display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-lg);">
                    <div style="background: var(--primary-purple); width: 40px; height: 40px; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-${getActivityIcon(activity.type)}" style="color: white;"></i>
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--gray-900);">
                            ${activity.title}
                        </div>
                        <div style="color: var(--gray-600); font-size: 0.875rem;">
                            ${activity.description}
                        </div>
                    </div>
                    <div style="color: var(--gray-500); font-size: 0.875rem;">
                        ${formatTimeAgo(activity.created_at)}
                    </div>
                </div>
            `).join('');
        }

        function getActivityIcon(type) {
            const icons = {
                'user_registered': 'user-plus',
                'empresa_created': 'building',
                'login': 'sign-in-alt',
                'system': 'cog'
            };
            return icons[type] || 'info-circle';
        }

        function formatTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffInMinutes = Math.floor((now - date) / (1000 * 60));

            if (diffInMinutes < 1) return 'Agora';
            if (diffInMinutes < 60) return `${diffInMinutes}min atrás`;

            const diffInHours = Math.floor(diffInMinutes / 60);
            if (diffInHours < 24) return `${diffInHours}h atrás`;

            const diffInDays = Math.floor(diffInHours / 24);
            return `${diffInDays}d atrás`;
        }

        function logout() {
            if (window.Auth) {
                window.Auth.logout();
            } else {
                localStorage.clear();
                window.location.href = '/admin-login.html';
            }
        }

        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.classList.toggle('active');
        }
    </script>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Ajuda - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:'Inter',sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><div style="width:70px;height:70px;background:rgba(255,255,255,0.2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;"><i class="fas fa-sparkles" style="font-size:35px;"></i></div><h1 style="font-size:28px;font-weight:900;margin:0;">Central de Ajuda</h1></header><div style="max-width:900px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:28px;margin-bottom:16px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h3 style="font-size:18px;font-weight:800;color:#1a1a2e;margin:0 0 12px;"><i class="fas fa-question-circle" style="color:#667eea;"></i> Como funciona?</h3><p style="color:#7c8db0;margin:0;line-height:1.7;">Acumule pontos em estabelecimentos parceiros e troque por prêmios incràveis!</p></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aplicar Desconto - Tem de Tudo</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <nav class="nav-bar">
        <ul>
            <li><a href="/dashboard-estabelecimento.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/profile-company.html"><i class="fas fa-building"></i> Painel Empresa</a></li>
            <li><a href="/configurar-descontos.html"><i class="fas fa-percent"></i> Configurar Descontos</a></li>
            <li><a href="/aplicar-desconto.html"><i class="fas fa-tag"></i> Aplicar Desconto</a></li>
            <li><a href="/meus-descontos.html"><i class="fas fa-list"></i> Meus Descontos</a></li>
            <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </nav>

    <div class="page-header">
        <h1 class="page-title"><i class="fas fa-calculator"></i> Aplicar Desconto em Venda</h1>
        <p class="page-subtitle">Busque o cliente, informe o valor da compra e aplique o desconto</p>
    </div>

    <div class="container">
        <div class="search-section">
            <h2 class="search-title"><i class="fas fa-search"></i> Buscar Cliente</h2>
            <input 
                type="text" 
                class="search-input" 
                id="searchInput" 
                placeholder="Digite o CPF, email ou nome do cliente..."
            >
            <button class="search-button" onclick="searchCustomer()">
                <i class="fas fa-search"></i> Buscar Cliente
            </button>
        </div>

        <div class="customer-info" id="customerInfo">
            <div class="customer-header">
                <div class="customer-avatar" id="customerAvatar">?</div>
                <div class="customer-details">
                    <h3 id="customerName">Nome do Cliente</h3>
                    <p id="customerEmail">email@exemplo.com</p>
                </div>
            </div>
            <div class="points-display">
                <div class="points-value" id="customerPoints">0</div>
                <div class="points-label">Pontos Acumulados</div>
                <span class="level-badge" id="customerLevel" style="background: #CD7F32; color: white;">Bronze</span>
            </div>
        </div>

        <div class="calculator-section" id="calculatorSection">
            <h2 class="calc-title"><i class="fas fa-cash-register"></i> Calcular Desconto</h2>
            
            <label style="color: var(--gray-700); font-weight: 600; margin-bottom: 0.5rem; display: block;">
                Valor da Compra (R$)
            </label>
            <input 
                type="number" 
                class="purchase-input" 
                id="purchaseValue" 
                placeholder="0,00"
                min="0"
                step="0.01"
                oninput="calculateDiscount()"
            >

            <div class="calc-row">
                <span class="calc-label">N?vel do Cliente:</span>
                <span class="calc-value" id="calcLevel">Bronze</span>
            </div>
            <div class="calc-row">
                <span class="calc-label">Desconto Aplic?vel:</span>
                <span class="calc-value" id="calcDiscount">5%</span>
            </div>
            <div class="calc-row">
                <span class="calc-label">Valor do Desconto:</span>
                <span class="calc-value" id="calcDiscountValue">R$ 0,00</span>
            </div>

            <div class="final-amount">
                <p class="final-label">Valor Final a Pagar</p>
                <div class="final-value" id="finalValue">R$ 0,00</div>
                <button class="apply-button" onclick="applyDiscount()">
                    <i class="fas fa-check-circle"></i> Confirmar e Aplicar Desconto
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentCustomer = null;

        function logout() {
            localStorage.removeItem('tem_de_tudo_token');
            localStorage.removeItem('tem_de_tudo_user');
            window.location.href = '/entrar.html';
        }

        function checkAuth() {
            const token = localStorage.getItem('tem_de_tudo_token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return true;
        }

        function searchCustomer() {
            const searchValue = document.getElementById('searchInput').value.trim();
            
            if (!searchValue) {
                alert('Por favor, digite um CPF, email ou nome para buscar.');
                return;
            }

            // Simula??o de busca (integre com sua API)
            currentCustomer = {
                name: 'Jo?o da Silva',
                email: 'joao.silva@email.com',
                points: 5500,
                level: 'Ouro',
                discount: 15
            };

            displayCustomer(currentCustomer);
        }

        function displayCustomer(customer) {
            document.getElementById('customerInfo').style.display = 'block';
            document.getElementById('calculatorSection').style.display = 'block';

            const initial = customer.name.charAt(0).toUpperCase();
            document.getElementById('customerAvatar').textContent = initial;
            document.getElementById('customerName').textContent = customer.name;
            document.getElementById('customerEmail').textContent = customer.email;
            document.getElementById('customerPoints').textContent = customer.points.toLocaleString('pt-BR');
            
            const levelBadge = document.getElementById('customerLevel');
            levelBadge.textContent = customer.level;
            
            // Cores dos n?veis
            const levelColors = {
                'Bronze': '#CD7F32',
                'Prata': '#C0C0C0',
                'Ouro': '#FFD700',
                'Platina': '#E5E4E2',
                'Diamante': '#B9F2FF'
            };
            
            levelBadge.style.background = levelColors[customer.level] || '#CD7F32';
            levelBadge.style.color = (customer.level === 'Ouro' || customer.level === 'Platina' || customer.level === 'Diamante') ? '#333' : 'white';

            document.getElementById('calcLevel').textContent = customer.level;
            document.getElementById('calcDiscount').textContent = customer.discount + '%';

            calculateDiscount();
        }

        function calculateDiscount() {
            if (!currentCustomer) return;

            const purchaseValue = parseFloat(document.getElementById('purchaseValue').value) || 0;
            const discountPercent = currentCustomer.discount;
            const discountValue = purchaseValue * (discountPercent / 100);
            const finalValue = purchaseValue - discountValue;

            document.getElementById('calcDiscountValue').textContent = 'R$ ' + discountValue.toFixed(2).replace('.', ',');
            document.getElementById('finalValue').textContent = 'R$ ' + finalValue.toFixed(2).replace('.', ',');
        }

        function applyDiscount() {
            const purchaseValue = parseFloat(document.getElementById('purchaseValue').value) || 0;
            
            if (purchaseValue <= 0) {
                alert('Por favor, informe um valor de compra v?lido.');
                return;
            }

            if (confirm(`Confirmar aplica??o do desconto de ${currentCustomer.discount}% para ${currentCustomer.name}?`)) {
                alert('Desconto aplicado com sucesso! ?');
                
                // Limpar formul?rio
                document.getElementById('searchInput').value = '';
                document.getElementById('purchaseValue').value = '';
                document.getElementById('customerInfo').style.display = 'none';
                document.getElementById('calculatorSection').style.display = 'none';
                currentCustomer = null;
            }
        }

        checkAuth();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Bônus de Adesão - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; color: #fff; }
        .container { max-width: 480px; width: 100%; text-align: center; }
        .celebration-icon { font-size: 120px; margin-bottom: 32px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        h1 { font-size: 42px; font-weight: 900; margin-bottom: 16px; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { font-size: 18px; color: #b0b0b0; margin-bottom: 40px; }
        .bonus-card { background: linear-gradient(145deg, #1a1a2e, #16213e); border-radius: 24px; padding: 40px 32px; margin-bottom: 24px; border: 2px solid #667eea; box-shadow: 0 20px 60px rgba(102, 126, 234, 0.3); }
        .points-value { font-size: 72px; font-weight: 900; color: #667eea; margin-bottom: 12px; }
        .points-label { font-size: 16px; color: #b0b0b0; }
        .features { text-align: left; margin: 32px 0; }
        .feature-item { display: flex; align-items: center; gap: 16px; padding: 16px; background: rgba(102, 126, 234, 0.05); border-radius: 12px; margin-bottom: 12px; }
        .feature-icon { width: 48px; height: 48px; background: rgba(102, 126, 234, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .feature-text { flex: 1; font-size: 14px; color: #b0b0b0; }
        .action-btn { width: 100%; padding: 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 16px; font-size: 18px; font-weight: 900; cursor: pointer; box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4); }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="celebration-icon">??</div>
        <h1>Bem-vindo!</h1>
        <p class="subtitle">Você ganhou um bônus especial de boas-vindas</p>
        <div class="bonus-card">
            <div class="points-value">200</div>
            <div class="points-label">Pontos de Bônus</div>
        </div>
        <div class="features">
            <div class="feature-item">
                <div class="feature-icon">?</div>
                <div class="feature-text">Pontos já creditados na sua conta</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">??</div>
                <div class="feature-text">Use para trocar por recompensas</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">?</div>
                <div class="feature-text">Válido por 90 dias</div>
            </div>
        </div>
        <button class="action-btn" onclick="location.href='app-inicio.html'">
            COMEÇAR A USAR
        </button>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Feliz Aniversário! - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; color: #fff; position: relative; overflow: hidden; }
        body::before { content: '??????????'; font-size: 60px; position: absolute; top: 0; left: 0; right: 0; text-align: center; padding: 20px; opacity: 0.3; animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        .container { max-width: 520px; width: 100%; text-align: center; position: relative; z-index: 1; }
        .cake-icon { font-size: 140px; margin-bottom: 32px; animation: spin 3s ease-in-out infinite; }
        @keyframes spin { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-10deg); } 75% { transform: rotate(10deg); } }
        h1 { font-size: 48px; font-weight: 900; margin-bottom: 16px; text-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .subtitle { font-size: 20px; margin-bottom: 40px; opacity: 0.95; }
        .bonus-card { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(20px); border-radius: 28px; padding: 48px 36px; margin-bottom: 28px; border: 2px solid rgba(255, 255, 255, 0.3); box-shadow: 0 24px 80px rgba(0, 0, 0, 0.4); }
        .points-value { font-size: 88px; font-weight: 900; margin-bottom: 16px; text-shadow: 0 4px 20px rgba(0,0,0,0.2); }
        .points-label { font-size: 18px; opacity: 0.95; }
        .message { background: rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 24px; margin-bottom: 28px; font-size: 16px; line-height: 1.7; }
        .action-btn { width: 100%; padding: 22px; background: rgba(255, 255, 255, 0.25); backdrop-filter: blur(10px); color: white; border: 2px solid rgba(255, 255, 255, 0.4); border-radius: 18px; font-size: 18px; font-weight: 900; cursor: pointer; box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3); transition: all 0.3s; }
        .action-btn:hover { background: rgba(255, 255, 255, 0.35); transform: translateY(-2px); }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="cake-icon">??</div>
        <h1>Parabéns!</h1>
        <p class="subtitle">Hoje é seu dia especial ??</p>
        <div class="bonus-card">
            <div class="points-value">500</div>
            <div class="points-label">Pontos de Aniversário</div>
        </div>
        <div class="message">
            ?? A equipe <strong>Tem de Tudo</strong> deseja um feliz aniversário! Aproveite seus pontos extras para resgatar aquela recompensa que você tanto queria.
        </div>
        <button class="action-btn" onclick="location.href='app-inicio.html'">
            ?? RESGATAR MEU PRESENTE
        </button>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Buscar - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            padding-bottom: 90px;
            color: #fff;
        }
        
        .header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 16px 20px 20px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-title {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 12px;
            color: #fff;
        }
        
        .search-box {
            position: relative;
        }
        
        .search-box i {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-size: 18px;
        }
        
        .search-box input {
            width: 100%;
            padding: 16px 18px 16px 54px;
            background: rgba(10, 10, 15, 0.6);
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 14px;
            font-size: 15px;
            color: #fff;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(10, 10, 15, 0.8);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .search-box input::placeholder {
            color: #666;
        }
        
        .filters {
            display: flex;
            gap: 8px;
            padding: 16px 20px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .filters::-webkit-scrollbar {
            display: none;
        }
        
        .filter-btn {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            color: #b0b0b0;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
        }
        
        .filter-btn:hover:not(.active) {
            border-color: #667eea;
            color: #fff;
        }
        
        .section {
            padding: 0 20px 24px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #fff;
        }
        
        .estabelecimentos-grid {
            display: grid;
            gap: 16px;
        }
        
        .estabelecimento-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            gap: 16px;
            text-decoration: none;
            color: white;
            transition: all 0.3s;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .estabelecimento-card:hover {
            transform: translateX(4px);
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
        }
        
        .estabelecimento-icon {
            width: 72px;
            height: 72px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .estabelecimento-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .estabelecimento-info {
            flex: 1;
        }
        
        .estabelecimento-name {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .estabelecimento-categoria {
            font-size: 13px;
            color: #b0b0b0;
            margin-bottom: 8px;
        }
        
        .estabelecimento-meta {
            display: flex;
            gap: 16px;
            font-size: 13px;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #b0b0b0;
        }
        
        .meta-item i {
            color: #667eea;
        }
        
        .rating {
            color: #f39c12;
            font-weight: 700;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        
        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .empty-state p {
            font-size: 14px;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            padding: 8px 4px;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
            z-index: 1000;
        }
        
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            text-decoration: none;
            color: #b0b0b0;
            font-size: 10px;
            font-weight: 600;
            transition: all 0.3s;
            padding: 10px 8px;
            border-radius: 12px;
            min-height: 64px;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        .nav-item i {
            font-size: 24px;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .nav-item.active i {
            transform: scale(1.2);
        }
        
        .nav-item:active {
            transform: scale(0.95);
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <h1 class="header-title">?? Buscar Empresas</h1>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input 
                type="text" 
                id="searchInput" 
                placeholder="Buscar estabelecimentos..."
                oninput="searchEstablishments()"
            >
        </div>
    </div>
    
    <div class="filters">
        <button class="filter-btn active" onclick="filterCategory('todos')">
            Todos
        </button>
        <button class="filter-btn" onclick="filterCategory('restaurante')">
            ?? Restaurante
        </button>
        <button class="filter-btn" onclick="filterCategory('academia')">
            ??? Academia
        </button>
        <button class="filter-btn" onclick="filterCategory('cafeteria')">
            ? Cafeteria
        </button>
        <button class="filter-btn" onclick="filterCategory('pet_shop')">
            ?? Pet Shop
        </button>
        <button class="filter-btn" onclick="filterCategory('salao')">
            ?? Salão
        </button>
        <button class="filter-btn" onclick="filterCategory('mercado')">
            ?? Mercado
        </button>
        <button class="filter-btn" onclick="filterCategory('farmacia')">
            ?? Farmácia
        </button>
    </div>
    
    <div class="section">
        <h3 class="section-title">Estabelecimentos</h3>
        <div class="estabelecimentos-grid" id="estabelecimentosGrid">
            <!-- Preenchido via JavaScript -->
        </div>
    </div>
    
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="app-buscar.html" class="nav-item active">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </a>
        <a href="app-promocoes.html" class="nav-item">
            <i class="fas fa-gift"></i>
            <span>Promoções</span>
        </a>
        <a href="app-notificacoes.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Avisos</span>
        </a>
        <a href="app-perfil.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>
    
    <script src="/js/config.js"></script>
    <script>
        let allEstablishments = [];
        let currentCategory = 'todos';
        
        async function loadEstablishments() {
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }
            
            try {
                const apiUrl = API_CONFIG.getBaseURL() + '/api/cliente/empresas';
                console.log('?? Buscando empresas em:', apiUrl);
                
                const response = await fetch(apiUrl, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                console.log('?? Status resposta:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    console.log('?? Dados recebidos:', result);
                    
                    // API retorna {success: true, data: [...]}
                    allEstablishments = result.data || result.empresas || result;
                    
                    console.log('? Empresas carregadas:', allEstablishments.length);
                    
                    // SEMPRE mostrar todas as empresas ao carregar
                    renderEstablishments(allEstablishments);
                } else {
                    const errorText = await response.text();
                    console.error('? Erro ao carregar empresas:', response.status, errorText);
                    renderEmptyState();
                }
            } catch (error) {
                console.error('? Erro na requisição:', error);
                renderEmptyState();
            }
        }
        
        function renderEstablishments(establishments) {
            const grid = document.getElementById('estabelecimentosGrid');
            
            if (!establishments || establishments.length === 0) {
                renderEmptyState();
                return;
            }
            
            const icons = {
                'academia': '???',
                'cafeteria': '?',
                'pet_shop': '??',
                'salao': '??',
                'mercado': '??',
                'farmacia': '??',
                'padaria': '??',
                'lanchonete': '??',
                'sorveteria': '??',
                'lavanderia': '??',
                'auto_center': '??',
                'otica': '??',
                'livraria': '??',
                'papelaria': '??',
                'default': '??'
            };
            
            const colors = [
                'linear-gradient(135deg, #667eea, #764ba2)',
                'linear-gradient(135deg, #e74c3c, #c0392b)',
                'linear-gradient(135deg, #9b59b6, #8e44ad)',
                'linear-gradient(135deg, #16a085, #0e6655)',
                'linear-gradient(135deg, #f39c12, #d68910)',
                'linear-gradient(135deg, #34495e, #2c3e50)'
            ];
            
            grid.innerHTML = establishments.map((estab, index) => `
                <a href="app-estabelecimento.html?id=${estab.id}" class="estabelecimento-card">
                    <div class="estabelecimento-icon" style="background: ${colors[index % colors.length]}">
                        ${estab.logo ? `<img src="${estab.logo}" alt="${estab.nome}" onerror="this.parentElement.innerHTML='${icons[estab.ramo] || icons.default}'">` : icons[estab.ramo] || icons.default}
                    </div>
                    <div class="estabelecimento-info">
                        <div class="estabelecimento-name">${estab.nome}</div>
                        <div class="estabelecimento-categoria">${estab.ramo_formatado || estab.ramo || 'Estabelecimento'}</div>
                        <div class="estabelecimento-meta">
                            <div class="meta-item">
                                <i class="fas fa-star"></i>
                                <span class="rating">${estab.avaliacao_media || '5.0'}</span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-coins"></i>
                                <span>${estab.meus_pontos || 0} pts</span>
                            </div>
                        </div>
                    </div>
                </a>
            `).join('');
        }
        
        function renderEmptyState() {
            const grid = document.getElementById('estabelecimentosGrid');
            grid.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-store-slash"></i>
                    <h3>Nenhum estabelecimento encontrado</h3>
                    <p>Tente buscar por outro termo ou categoria</p>
                </div>
            `;
        }
        
        function filterCategory(category) {
            currentCategory = category;
            
            // Atualizar botões ativos
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Refiltrar mantendo busca atual
            searchEstablishments();
        }
        
        function searchEstablishments() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            // SEMPRE filtrar do array completo (estilo iFood)
            let filtered = allEstablishments;
            
            // Se tem termo de busca, filtrar
            if (searchTerm) {
                filtered = allEstablishments.filter(e => {
                    const matchesSearch = 
                        (e.nome && e.nome.toLowerCase().includes(searchTerm)) ||
                        (e.ramo && e.ramo.toLowerCase().includes(searchTerm)) ||
                        (e.endereco && e.endereco.toLowerCase().includes(searchTerm)) ||
                        (e.descricao && e.descricao.toLowerCase().includes(searchTerm));
                    
                    return matchesSearch;
                });
            }
            
            // Se tem categoria selecionada, filtrar também
            if (currentCategory !== 'todos') {
                filtered = filtered.filter(e => e.ramo === currentCategory);
            }
            
            console.log('Busca:', searchTerm, 'Categoria:', currentCategory, 'Resultados:', filtered.length);
            renderEstablishments(filtered);
        }
        
        document.addEventListener('DOMContentLoaded', loadEstablishments);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Categorias - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; padding-bottom: 90px; color: #fff; }
        .header { background: linear-gradient(145deg, #1a1a2e, #16213e); padding: 20px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); text-align: center; }
        .header h1 { font-size: 22px; font-weight: 800; }
        .categories-grid { padding: 20px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .category-card { background: linear-gradient(145deg, #1a1a2e, #16213e); border-radius: 20px; padding: 32px 20px; text-align: center; border: 2px solid rgba(102, 126, 234, 0.1); transition: all 0.3s; cursor: pointer; }
        .category-card:hover { border-color: #667eea; transform: translateY(-8px); box-shadow: 0 16px 48px rgba(102, 126, 234, 0.3); }
        .category-icon { font-size: 56px; margin-bottom: 16px; }
        .category-name { font-size: 16px; font-weight: 700; margin-bottom: 6px; }
        .category-count { font-size: 13px; color: #b0b0b0; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(145deg, #1a1a2e, #16213e); border-top: 1px solid rgba(102, 126, 234, 0.2); padding: 12px 8px 20px; display: flex; justify-content: space-around; box-shadow: 0 -10px 40px rgba(0,0,0,0.3); }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 6px; text-decoration: none; color: #b0b0b0; font-size: 11px; font-weight: 600; padding: 8px; }
        .nav-item i { font-size: 22px; }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header"><h1>Categorias</h1></div>
    <div class="categories-grid">
        <div class="category-card" onclick="location.href='app-buscar.html?cat=restaurantes'">
            <div class="category-icon">??</div>
            <div class="category-name">Restaurantes</div>
            <div class="category-count">47 estabelecimentos</div>
        </div>
        <div class="category-card" onclick="location.href='app-buscar.html?cat=beleza'">
            <div class="category-icon">??</div>
            <div class="category-name">Beleza & Estética</div>
            <div class="category-count">23 estabelecimentos</div>
        </div>
        <div class="category-card" onclick="location.href='app-buscar.html?cat=fitness'">
            <div class="category-icon">???</div>
            <div class="category-name">Fitness</div>
            <div class="category-count">12 estabelecimentos</div>
        </div>
        <div class="category-card" onclick="location.href='app-buscar.html?cat=servicos'">
            <div class="category-icon">??</div>
            <div class="category-name">Serviços</div>
            <div class="category-count">31 estabelecimentos</div>
        </div>
        <div class="category-card" onclick="location.href='app-buscar.html?cat=lazer'">
            <div class="category-icon">??</div>
            <div class="category-name">Lazer</div>
            <div class="category-count">18 estabelecimentos</div>
        </div>
        <div class="category-card" onclick="location.href='app-buscar.html?cat=saude'">
            <div class="category-icon">??</div>
            <div class="category-name">Saúde</div>
            <div class="category-count">15 estabelecimentos</div>
        </div>
    </div>
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item"><i class="fas fa-home"></i><span>Início</span></a>
        <a href="app-buscar.html" class="nav-item"><i class="fas fa-search"></i><span>Buscar</span></a>
        <a href="app-promocoes.html" class="nav-item"><i class="fas fa-gift"></i><span>Promoções</span></a>
        <a href="app-notificacoes.html" class="nav-item"><i class="fas fa-bell"></i><span>Avisos</span></a>
        <a href="app-perfil.html" class="nav-item"><i class="fas fa-user"></i><span>Perfil</span></a>
    </nav>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Chat - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; height: 100vh; display: flex; flex-direction: column; color: #fff; }
        .header { background: linear-gradient(145deg, #1a1a2e, #16213e); padding: 20px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); display: flex; align-items: center; gap: 16px; }
        .back-btn { width: 44px; height: 44px; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 12px; color: #667eea; font-size: 18px; cursor: pointer; }
        .header-info { flex: 1; }
        .header-info h1 { font-size: 18px; font-weight: 800; margin-bottom: 4px; }
        .header-info p { font-size: 12px; color: #667eea; }
        .messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 16px; }
        .message { display: flex; gap: 12px; max-width: 80%; }
        .message.sent { align-self: flex-end; flex-direction: row-reverse; }
        .message-avatar { width: 40px; height: 40px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
        .message.sent .message-avatar { background: linear-gradient(145deg, #1a1a2e, #16213e); border: 2px solid #667eea; }
        .message-bubble { background: linear-gradient(145deg, #1a1a2e, #16213e); padding: 14px 16px; border-radius: 18px; font-size: 14px; line-height: 1.6; border: 1px solid rgba(102, 126, 234, 0.1); }
        .message.sent .message-bubble { background: linear-gradient(135deg, #667eea, #764ba2); border: none; }
        .message-time { font-size: 11px; color: #666; margin-top: 6px; }
        .input-area { background: linear-gradient(145deg, #1a1a2e, #16213e); padding: 16px 20px; border-top: 1px solid rgba(102, 126, 234, 0.2); display: flex; gap: 12px; }
        .input-area input { flex: 1; background: rgba(10, 10, 15, 0.6); border: 2px solid rgba(102, 126, 234, 0.2); border-radius: 24px; padding: 14px 20px; font-size: 14px; color: #fff; font-family: 'Inter', sans-serif; }
        .input-area input:focus { outline: none; border-color: #667eea; }
        .send-btn { width: 48px; height: 48px; background: linear-gradient(135deg, #667eea, #764ba2); border: none; border-radius: 50%; color: white; font-size: 18px; cursor: pointer; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <button class="back-btn" onclick="history.back()"><i class="fas fa-arrow-left"></i></button>
        <div class="header-info">
            <h1>Suporte Tem de Tudo</h1>
            <p>? Online agora</p>
        </div>
    </div>
    <div class="messages" id="messages">
        <div class="message">
            <div class="message-avatar">??</div>
            <div>
                <div class="message-bubble">Olá! Como posso ajudar você hoje?</div>
                <div class="message-time">14:23</div>
            </div>
        </div>
        <div class="message sent">
            <div class="message-avatar"><i class="fas fa-user"></i></div>
            <div>
                <div class="message-bubble">Olá! Quero saber como funciona o acúmulo de pontos</div>
                <div class="message-time">14:24</div>
            </div>
        </div>
        <div class="message">
            <div class="message-avatar">??</div>
            <div>
                <div class="message-bubble">
                    É simples! Apresente seu QR Code no caixa do estabelecimento parceiro. A cada compra, você acumula pontos que podem ser trocados por recompensas. ??
                </div>
                <div class="message-time">14:24</div>
            </div>
        </div>
    </div>
    <div class="input-area">
        <input type="text" id="messageInput" placeholder="Digite sua mensagem..." onkeypress="if(event.key==='Enter') sendMessage()">
        <button class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
    </div>
    <script>
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            if (!text) return;
            
            const messagesDiv = document.getElementById('messages');
            const time = new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            
            messagesDiv.innerHTML += `
                <div class="message sent">
                    <div class="message-avatar"><i class="fas fa-user"></i></div>
                    <div>
                        <div class="message-bubble">${text}</div>
                        <div class="message-time">${time}</div>
                    </div>
                </div>
            `;
            
            input.value = '';
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            setTimeout(() => {
                messagesDiv.innerHTML += `
                    <div class="message">
                        <div class="message-avatar">??</div>
                        <div>
                            <div class="message-bubble">Obrigado pela mensagem! Nossa equipe responderá em breve.</div>
                            <div class="message-time">${time}</div>
                        </div>
                    </div>
                `;
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }, 1000);
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Estabelecimento - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; }
        
        .hero { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 20px 20px 40px; 
            position: relative; 
        }
        
        .back-btn { 
            width: 44px; 
            height: 44px; 
            background: rgba(10, 10, 15, 0.8); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(102, 126, 234, 0.2); 
            border-radius: 12px; 
            color: #fff; 
            font-size: 18px; 
            cursor: pointer; 
            margin-bottom: 20px; 
            border: none;
        }
        
        .hero-icon { 
            width: 120px; 
            height: 120px; 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            border-radius: 30px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 64px; 
            margin: 0 auto 24px; 
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
            overflow: hidden;
        }
        .hero-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .hero-title { font-size: 32px; font-weight: 900; text-align: center; margin-bottom: 8px; }
        .hero-category { font-size: 15px; color: #b0b0b0; text-align: center; margin-bottom: 20px; text-transform: capitalize; }
        .hero-stats { display: flex; justify-content: center; gap: 32px; }
        .stat { text-align: center; }
        .stat-value { font-size: 24px; font-weight: 900; color: #667eea; }
        .stat-label { font-size: 12px; color: #b0b0b0; margin-top: 4px; }
        
        .content { padding: 24px 20px; }
        
        .info-card { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border-radius: 16px; 
            padding: 20px; 
            margin-bottom: 16px; 
            border: 1px solid rgba(102, 126, 234, 0.1); 
        }
        .info-title { 
            font-size: 16px; 
            font-weight: 700; 
            margin-bottom: 12px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        .info-title i { color: #667eea; }
        .info-text { font-size: 14px; color: #b0b0b0; line-height: 1.7; }
        
        .promocoes-list { display: grid; gap: 12px; margin-top: 12px; }
        .promo-item { 
            background: rgba(102, 126, 234, 0.05); 
            border: 1px solid rgba(102, 126, 234, 0.1); 
            border-radius: 12px; 
            padding: 16px; 
        }
        .promo-item h4 { font-size: 15px; font-weight: 700; margin-bottom: 4px; color: #667eea; }
        .promo-item p { font-size: 12px; color: #b0b0b0; }
        .promo-badge { 
            display: inline-block; 
            background: rgba(102, 126, 234, 0.2); 
            padding: 4px 10px; 
            border-radius: 8px; 
            font-size: 11px; 
            font-weight: 700; 
            margin-top: 8px; 
        }
        
        .reviews-list { display: grid; gap: 12px; margin-top: 12px; }
        .review-item { 
            background: rgba(102, 126, 234, 0.05); 
            border: 1px solid rgba(102, 126, 234, 0.1); 
            border-radius: 12px; 
            padding: 16px; 
        }
        .review-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
        .review-author { font-size: 14px; font-weight: 700; }
        .review-rating { color: #f39c12; font-size: 14px; }
        .review-comment { font-size: 13px; color: #b0b0b0; line-height: 1.5; }
        .review-date { font-size: 11px; color: #666; margin-top: 8px; }
        
        .action-btn { 
            width: 100%; 
            padding: 18px; 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            color: white; 
            border: none; 
            border-radius: 14px; 
            font-size: 16px; 
            font-weight: 700; 
            cursor: pointer; 
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3); 
            margin-top: 24px; 
        }
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        
        @media (max-width: 480px) {
            .hero-title { font-size: 26px; }
            .hero-stats { gap: 20px; }
            .stat-value { font-size: 20px; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div id="loading" class="loading">
        <i class="fas fa-spinner fa-spin" style="font-size: 48px;"></i>
        <p style="margin-top: 20px;">Carregando estabelecimento...</p>
    </div>
    
    <div id="content" style="display: none;">
        <div class="hero">
            <button class="back-btn" onclick="history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            
            <div class="hero-icon" id="heroIcon">??</div>
            
            <h1 class="hero-title" id="empresaNome">Carregando...</h1>
            <p class="hero-category" id="empresaCategoria">...</p>
            
            <div class="hero-stats">
                <div class="stat">
                    <div class="stat-value" id="empresaRating">-</div>
                    <div class="stat-label">Avaliação</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="meusPontos">0</div>
                    <div class="stat-label">Meus Pontos</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="totalClientes">-</div>
                    <div class="stat-label">Clientes</div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="info-card" id="sobreCard">
                <div class="info-title"><i class="fas fa-info-circle"></i> Sobre</div>
                <div class="info-text" id="empresaDescricao">-</div>
            </div>
            
            <div class="info-card" id="enderecoCard">
                <div class="info-title"><i class="fas fa-map-marker-alt"></i> Endereço</div>
                <div class="info-text" id="empresaEndereco">-</div>
            </div>
            
            <div class="info-card" id="promocoesCard" style="display: none;">
                <div class="info-title"><i class="fas fa-gift"></i> Promoções Ativas</div>
                <div class="promocoes-list" id="promocoesList"></div>
            </div>
            
            <div class="info-card" id="avaliacoesCard" style="display: none;">
                <div class="info-title"><i class="fas fa-star"></i> Avaliações Recentes</div>
                <div class="reviews-list" id="reviewsList"></div>
            </div>
            
            <button class="action-btn" onclick="location.href='app-scanner.html'">
                <i class="fas fa-qrcode"></i> Acumular Pontos Agora
            </button>
        </div>
    </div>
    
    <script>
        let empresaId = null;
        let empresaData = null;
        
        // Ícones por ramo
        const ramoIcons = {
            'restaurante': '???',
            'lanchonete': '??',
            'pizzaria': '??',
            'cafeteria': '?',
            'padaria': '??',
            'academia': '??',
            'farmacia': '??',
            'petshop': '??',
            'salao': '??',
            'mercado': '??',
            'default': '??'
        };
        
        // Pegar ID da URL
        function getEmpresaId() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id');
        }
        
        // Carregar detalhes da empresa
        async function loadEmpresa() {
            empresaId = getEmpresaId();
            
            if (!empresaId) {
                alert('Empresa não especificada');
                history.back();
                return;
            }
            
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }

            try {
                const response = await fetch(`/api/cliente/empresas/${empresaId}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    empresaData = result.data;
                    
                    console.log('Empresa carregada:', empresaData);
                    renderEmpresa();
                } else if (response.status === 404) {
                    alert('Empresa não encontrada');
                    history.back();
                } else if (response.status === 401) {
                    window.location.href = '/entrar.html';
                } else {
                    console.error('Erro na resposta:', response.status);
                    alert('Erro ao carregar empresa');
                    history.back();
                }
            } catch (error) {
                console.error('Erro ao carregar empresa:', error);
                alert('Erro ao carregar empresa');
                history.back();
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('content').style.display = 'block';
            }
        }
        
        // Renderizar empresa
        function renderEmpresa() {
            const { empresa, meus_pontos, promocoes, avaliacoes } = empresaData;
            
            // Header
            document.getElementById('empresaNome').textContent = empresa.nome;
            document.getElementById('empresaCategoria').textContent = empresa.ramo || 'Estabelecimento';
            
            // Ícone/Logo
            const iconEl = document.getElementById('heroIcon');
            if (empresa.logo) {
                iconEl.innerHTML = `<img src="${empresa.logo}" alt="${empresa.nome}" onerror="this.parentElement.innerHTML='${ramoIcons[empresa.ramo] || ramoIcons.default}'">`;
            } else {
                iconEl.textContent = ramoIcons[empresa.ramo] || ramoIcons.default;
            }
            
            // Stats
            document.getElementById('empresaRating').textContent = empresa.avaliacao_media || '5.0';
            document.getElementById('meusPontos').textContent = meus_pontos || 0;
            document.getElementById('totalClientes').textContent = empresa.total_clientes || '-';
            
            // Sobre
            document.getElementById('empresaDescricao').textContent = empresa.descricao || 'Sem descrição disponível.';
            
            // Endereço
            document.getElementById('empresaEndereco').innerHTML = `
                ${empresa.endereco || 'Endereço não informado'}<br>
                ${empresa.cidade ? `${empresa.cidade}, ${empresa.estado || ''}` : ''}
            `;
            
            // Promoções
            if (promocoes && promocoes.length > 0) {
                document.getElementById('promocoesCard').style.display = 'block';
                renderPromocoes(promocoes);
            }
            
            // Avaliações
            if (avaliacoes && avaliacoes.length > 0) {
                document.getElementById('avaliacoesCard').style.display = 'block';
                renderAvaliacoes(avaliacoes);
            }
        }
        
        // Renderizar promoções
        function renderPromocoes(promocoes) {
            const list = document.getElementById('promocoesList');
            
            list.innerHTML = promocoes.map(promo => {
                let badge = '';
                if (promo.pontos_necessarios) {
                    badge = `<span class="promo-badge">?? ${promo.pontos_necessarios} pts</span>`;
                }
                
                return `
                    <div class="promo-item">
                        <h4>${promo.nome}</h4>
                        <p>${promo.descricao || 'Promoção especial!'}</p>
                        ${badge}
                    </div>
                `;
            }).join('');
        }
        
        // Renderizar avaliações
        function renderAvaliacoes(avaliacoes) {
            const list = document.getElementById('reviewsList');
            
            list.innerHTML = avaliacoes.slice(0, 5).map(review => {
                const stars = '?'.repeat(review.nota);
                const date = new Date(review.created_at).toLocaleDateString('pt-BR');
                
                return `
                    <div class="review-item">
                        <div class="review-header">
                            <span class="review-author">${review.cliente_nome || 'Anônimo'}</span>
                            <span class="review-rating">${stars}</span>
                        </div>
                        ${review.comentario ? `<p class="review-comment">${review.comentario}</p>` : ''}
                        <p class="review-date">${date}</p>
                    </div>
                `;
            }).join('');
        }
        
        // Carregar ao iniciar
        document.addEventListener('DOMContentLoaded', loadEmpresa);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0a0f">
    <title>Início - Tem de Tudo</title>
    
    <link rel="manifest" href="/manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="/js/config.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            padding-bottom: 90px;
            color: #fff;
        }
        
        /* Header */
        .header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            backdrop-filter: blur(20px);
            padding: 16px 20px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 12px 16px;
            }
            
            .header-top {
                margin-bottom: 16px !important;
            }
            
            .logo {
                width: 44px !important;
                height: 44px !important;
            }
            
            .user-info h2 {
                font-size: 15px !important;
            }
            
            .user-info p {
                font-size: 12px !important;
            }
            
            .points-card {
                padding: 20px !important;
            }
            
            .points-value {
                font-size: 36px !important;
            }
        }
        
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .logo {
            width: 52px;
            height: 52px;
        }
        
        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .user-info h2 {
            font-weight: 700;
            font-size: 17px;
            color: #fff;
            margin-bottom: 4px;
        }
        
        .user-info p {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .settings-btn {
            width: 48px;
            height: 48px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            color: #667eea;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .settings-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: rotate(90deg);
        }
        
        /* Stats Card */
        .points-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
        }
        
        .points-label {
            font-size: 13px;
            opacity: 0.95;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .points-value {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 6px;
            letter-spacing: -1px;
        }
        
        .points-subtitle {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* QR Code Buttons */
        .qr-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            padding: 24px 20px;
        }
        
        .qr-btn {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid rgba(102, 126, 234, 0.2);
            color: white;
            padding: 24px 16px;
            border-radius: 18px;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 14px;
            transition: all 0.3s;
            text-align: center;
        }
        
        .qr-btn:hover {
            border-color: #667eea;
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.3);
        }
        
        .qr-btn i {
            font-size: 32px;
            color: #667eea;
        }
        
        /* Section Title */
        .section {
            padding: 0 20px 24px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #fff;
        }
        
        /* Mini Stats */
        .mini-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 32px;
        }
        
        .mini-stat {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 18px 12px;
            border-radius: 14px;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .mini-stat-value {
            font-size: 24px;
            font-weight: 900;
            color: #667eea;
            margin-bottom: 4px;
        }
        
        .mini-stat-label {
            font-size: 11px;
            color: #b0b0b0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Estabelecimentos */
        .estabelecimentos-grid {
            display: grid;
            gap: 16px;
        }
        
        .estabelecimento-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            gap: 16px;
            text-decoration: none;
            color: white;
            transition: all 0.3s;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .estabelecimento-card:hover {
            transform: translateX(4px);
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
        }
        
        .estabelecimento-icon {
            width: 64px;
            height: 64px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
        }
        
        .estabelecimento-info {
            flex: 1;
        }
        
        .estabelecimento-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .estabelecimento-categoria {
            font-size: 13px;
            color: #b0b0b0;
            margin-bottom: 8px;
        }
        
        .estabelecimento-pontos {
            font-size: 14px;
            color: #667eea;
            font-weight: 600;
        }
        
        .estabelecimento-pontos i {
            margin-right: 4px;
        }
        
        /* Bottom Nav */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            padding: 8px 4px;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
            z-index: 1000;
        }
        
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            text-decoration: none;
            color: #b0b0b0;
            font-size: 10px;
            font-weight: 600;
            transition: all 0.3s;
            padding: 10px 8px;
            border-radius: 12px;
            min-height: 64px;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        .nav-item i {
            font-size: 24px;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .nav-item.active i {
            transform: scale(1.2);
        }
        
        .nav-item:active {
            transform: scale(0.95);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #b0b0b0;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.3;
        }
        
        .empty-state p {
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .qr-buttons {
                grid-template-columns: 1fr;
            }
            
            .mini-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <div class="header-left">
                <div class="logo">
                    <img src="img/logo.png" alt="Tem de Tudo">
                </div>
                <div class="user-info">
                    <h2 id="userName">Olá, Cliente!</h2>
                    <p>Bem-vindo de volta ??</p>
                </div>
            </div>
            <button class="settings-btn" onclick="location.href='app-perfil.html'">
                <i class="fas fa-cog"></i>
            </button>
        </div>
        
        <!-- Points Card -->
        <div class="points-card">
            <div class="points-label">Seus Pontos</div>
            <div class="points-value" id="userPoints">1.247</div>
            <div class="points-subtitle">Continue acumulando para resgatar!</div>
        </div>
    </div>
    
    <!-- QR Code Buttons -->
    <div class="qr-buttons">
        <a href="app-meu-qrcode.html" class="qr-btn">
            <i class="fas fa-qrcode"></i>
            <span>Meu QR Code</span>
        </a>
        <a href="app-scanner.html" class="qr-btn">
            <i class="fas fa-camera"></i>
            <span>Escanear QR</span>
        </a>
    </div>
    
    <!-- Mini Stats -->
    <div class="section">
        <div class="mini-stats">
            <div class="mini-stat">
                <div class="mini-stat-value" id="totalVisits">34</div>
                <div class="mini-stat-label">Visitas</div>
            </div>
            <div class="mini-stat">
                <div class="mini-stat-value" id="totalRewards">12</div>
                <div class="mini-stat-label">Resgates</div>
            </div>
            <div class="mini-stat">
                <div class="mini-stat-value" id="totalSaved">R$ 487</div>
                <div class="mini-stat-label">Economizou</div>
            </div>
        </div>
    </div>
    
    <!-- Estabelecimentos Frequentes -->
    <div class="section">
        <h3 class="section-title">Seus Estabelecimentos</h3>
        <div class="estabelecimentos-grid" id="estabelecimentosGrid">
            <!-- Será preenchido via JavaScript -->
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="app-buscar.html" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </a>
        <a href="app-promocoes.html" class="nav-item">
            <i class="fas fa-gift"></i>
            <span>Promoções</span>
        </a>
        <a href="app-notificacoes.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Avisos</span>
        </a>
        <a href="app-perfil.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>
    
    <script>
        // Carregar dados do usuário
        async function loadUserData() {
            const token = localStorage.getItem('tem_de_tudo_token');
            const user = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }
            
            // Atualizar nome do usuário
            if (user.name) {
                document.getElementById('userName').textContent = `Olá, ${user.name.split(' ')[0]}!`;
            }
            
            try {
                const baseURL = API_CONFIG.getBaseURL();
                
                // Buscar pontos do usuário
                const pointsResponse = await fetch(`${baseURL}/api/cliente/dashboard`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (pointsResponse.ok) {
                    const pointsData = await pointsResponse.json();
                    document.getElementById('userPoints').textContent = pointsData.total_points.toLocaleString('pt-BR');
                }
                
                // Buscar estabelecimentos frequentes
                const estabResponse = await fetch(`${baseURL}/api/cliente/empresas`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (estabResponse.ok) {
                    const result = await estabResponse.json();
                    const estabelecimentos = result.data || result.empresas || result;
                    console.log('? Empresas carregadas:', estabelecimentos.length);
                    renderEstabelecimentos(estabelecimentos);
                } else {
                    console.error('? Erro ao buscar empresas:', estabResponse.status);
                    renderEmptyState();
                }
                
                // Buscar estatísticas
                const statsResponse = await fetch(`${baseURL}/api/cliente/historico-pontos`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (statsResponse.ok) {
                    const stats = await statsResponse.json();
                    document.getElementById('totalVisits').textContent = stats.total_visits || '0';
                    document.getElementById('totalRewards').textContent = stats.total_rewards || '0';
                    document.getElementById('totalSaved').textContent = `R$ ${stats.total_saved || '0'}`;
                }
                
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                renderEmptyState();
            }
        }
        
        function renderEstabelecimentos(estabelecimentos) {
            const grid = document.getElementById('estabelecimentosGrid');
            
            if (!estabelecimentos || estabelecimentos.length === 0) {
                renderEmptyState();
                return;
            }
            
            const icons = {
                'academia': '???',
                'cafeteria': '?',
                'pet_shop': '??',
                'salao': '??',
                'mercado': '??',
                'farmacia': '??',
                'padaria': '??',
                'restaurante': '??',
                'default': '??'
            };
            const colors = [
                'linear-gradient(135deg, #667eea, #764ba2)',
                'linear-gradient(135deg, #e74c3c, #c0392b)',
                'linear-gradient(135deg, #9b59b6, #8e44ad)',
                'linear-gradient(135deg, #16a085, #0e6655)',
                'linear-gradient(135deg, #f39c12, #d68910)',
                'linear-gradient(135deg, #34495e, #2c3e50)'
            ];
            
            grid.innerHTML = estabelecimentos.map((estab, index) => `
                <a href="app-estabelecimento.html?id=${estab.id}" class="estabelecimento-card">
                    <div class="estabelecimento-icon" style="background: ${colors[index % colors.length]}">
                        ${estab.logo ? `<img src="${estab.logo}" alt="${estab.nome}" style="width:100%;height:100%;object-fit:cover;">` : icons[estab.ramo] || icons.default}
                    </div>
                    <div class="estabelecimento-info">
                        <div class="estabelecimento-name">${estab.nome}</div>
                        <div class="estabelecimento-categoria">${estab.ramo || 'Estabelecimento'}</div>
                        <div class="estabelecimento-pontos">
                            <i class="fas fa-coins"></i>
                            ${estab.meus_pontos || 0} pontos acumulados
                        </div>
                    </div>
                </a>
            `).join('');
        }
        
        function renderEmptyState() {
            const grid = document.getElementById('estabelecimentosGrid');
            grid.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-store-slash"></i>
                    <p>Você ainda não visitou nenhum estabelecimento</p>
                </div>
            `;
        }
        
        // Inicializar ao carregar página
        document.addEventListener('DOMContentLoaded', loadUserData);
        
        // Registrar Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(reg => console.log('Service Worker registrado'))
                .catch(err => console.log('Erro ao registrar SW:', err));
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Meu QR Code - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            padding-bottom: 90px;
            color: #fff;
        }
        
        .header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .back-btn {
            width: 44px;
            height: 44px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            color: #667eea;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateX(-2px);
        }
        
        .header-title {
            flex: 1;
        }
        
        .header-title h1 {
            font-size: 22px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 4px;
        }
        
        .header-title p {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .qr-container {
            padding: 32px 20px;
            text-align: center;
        }
        
        .qr-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 40px 32px;
            max-width: 440px;
            margin: 0 auto 24px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        
        .user-info {
            margin-bottom: 32px;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin: 0 auto 16px;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }
        
        .user-name {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 6px;
            color: #fff;
        }
        
        .user-id {
            font-size: 14px;
            color: #667eea;
            font-weight: 600;
        }
        
        .qr-wrapper {
            background: white;
            padding: 24px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 24px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.2);
        }
        
        #qrcode {
            display: flex;
            justify-content: center;
        }
        
        .qr-instructions {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }
        
        .qr-instructions h3 {
            font-size: 16px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .qr-instructions ul {
            list-style: none;
            text-align: left;
        }
        
        .qr-instructions li {
            color: #b0b0b0;
            margin-bottom: 8px;
            padding-left: 28px;
            position: relative;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .qr-instructions li::before {
            content: '?';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: 700;
            font-size: 16px;
        }
        
        .brightness-control {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }
        
        .brightness-label {
            font-size: 14px;
            color: #b0b0b0;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .brightness-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(102, 126, 234, 0.2);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .brightness-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        }
        
        .action-buttons {
            display: grid;
            gap: 12px;
        }
        
        .btn {
            padding: 16px;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            padding: 12px 8px 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
        }
        
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: #b0b0b0;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s;
            padding: 8px;
            border-radius: 12px;
        }
        
        .nav-item i {
            font-size: 22px;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: #667eea;
        }
        
        .nav-item.active i {
            transform: scale(1.15);
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <button class="back-btn" onclick="location.href='app-inicio.html'">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="header-title">
            <h1>Meu QR Code</h1>
            <p>Apresente ao estabelecimento</p>
        </div>
    </div>
    
    <div class="qr-container">
        <div class="qr-card">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-name" id="userName">Carregando...</div>
                <div class="user-id" id="userId">ID: #0000</div>
            </div>
            
            <div class="qr-wrapper">
                <div id="qrcode"></div>
            </div>
            
            <div class="brightness-control">
                <div class="brightness-label">
                    <span><i class="fas fa-sun"></i> Brilho da Tela</span>
                    <span id="brightnessValue">100%</span>
                </div>
                <input type="range" min="30" max="100" value="100" class="brightness-slider" id="brightnessSlider">
            </div>
        </div>
        
        <div class="qr-instructions">
            <h3><i class="fas fa-info-circle"></i> Como usar</h3>
            <ul>
                <li>Apresente este QR Code ao caixa do estabelecimento</li>
                <li>Aguarde a validação pelo scanner</li>
                <li>Seus pontos serão creditados automaticamente</li>
                <li>Mantenha o brilho da tela no máximo para melhor leitura</li>
            </ul>
        </div>
        
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="shareQRCode()">
                <i class="fas fa-share-alt"></i> Compartilhar QR Code
            </button>
            <button class="btn btn-secondary" onclick="downloadQRCode()">
                <i class="fas fa-download"></i> Baixar Imagem
            </button>
        </div>
    </div>
    
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="app-buscar.html" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </a>
        <a href="app-promocoes.html" class="nav-item">
            <i class="fas fa-gift"></i>
            <span>Promoções</span>
        </a>
        <a href="app-notificacoes.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Avisos</span>
        </a>
        <a href="app-perfil.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>
    
    <script>
        const user = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
        
        if (!user.id) {
            window.location.href = '/entrar.html';
        } else {
            // Atualizar nome e ID do usuário
            document.getElementById('userName').textContent = user.name || 'Usuário';
            document.getElementById('userId').textContent = `ID: #${String(user.id).padStart(4, '0')}`;
            
            // Gerar QR Code
            const qrData = JSON.stringify({
                user_id: user.id,
                user_type: 'cliente',
                timestamp: Date.now()
            });
            
            QRCode.toCanvas(document.createElement('canvas'), qrData, {
                width: 280,
                margin: 2,
                color: {
                    dark: '#0a0a0f',
                    light: '#ffffff'
                }
            }, function (error, canvas) {
                if (error) {
                    console.error(error);
                    alert('Erro ao gerar QR Code');
                } else {
                    document.getElementById('qrcode').appendChild(canvas);
                }
            });
        }
        
        // Controle de brilho
        const slider = document.getElementById('brightnessSlider');
        const brightnessValue = document.getElementById('brightnessValue');
        
        slider.addEventListener('input', function() {
            const value = this.value;
            brightnessValue.textContent = value + '%';
            document.body.style.filter = `brightness(${value}%)`;
        });
        
        function shareQRCode() {
            if (navigator.share) {
                navigator.share({
                    title: 'Meu QR Code - Tem de Tudo',
                    text: 'Escaneie meu QR Code para acumular pontos!'
                }).catch(err => console.log('Erro ao compartilhar:', err));
            } else {
                alert('Compartilhamento não suportado neste navegador');
            }
        }
        
        function downloadQRCode() {
            const canvas = document.querySelector('#qrcode canvas');
            if (canvas) {
                const link = document.createElement('a');
                link.download = `qrcode-${user.id}.png`;
                link.href = canvas.toDataURL();
                link.click();
            }
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Notificações - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; padding-bottom: 90px; color: #fff; }
        .header { background: linear-gradient(145deg, #1a1a2e, #16213e); padding: 20px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); display: flex; align-items: center; justify-content: space-between; }
        .header h1 { font-size: 22px; font-weight: 800; }
        .mark-read-btn { background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.2); color: #667eea; padding: 10px 18px; border-radius: 10px; font-size: 13px; font-weight: 600; cursor: pointer; }
        .notifications-list { padding: 20px; display: grid; gap: 12px; }
        .notification-item { background: linear-gradient(145deg, #1a1a2e, #16213e); border-radius: 14px; padding: 16px; border-left: 4px solid #667eea; display: flex; gap: 14px; transition: all 0.3s; }
        .notification-item.unread { border-left-color: #667eea; background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05)); }
        .notification-item.read { border-left-color: #666; opacity: 0.7; }
        .notification-icon { width: 48px; height: 48px; background: rgba(102, 126, 234, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; color: #667eea; flex-shrink: 0; }
        .notification-content { flex: 1; }
        .notification-title { font-size: 15px; font-weight: 700; margin-bottom: 6px; color: #fff; }
        .notification-message { font-size: 13px; color: #b0b0b0; line-height: 1.6; margin-bottom: 8px; }
        .notification-time { font-size: 12px; color: #666; }
        .empty-state { text-align: center; padding: 80px 20px; color: #b0b0b0; }
        .empty-state i { font-size: 64px; margin-bottom: 20px; opacity: 0.3; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(145deg, #1a1a2e, #16213e); border-top: 1px solid rgba(102, 126, 234, 0.2); padding: 12px 8px 20px; display: flex; justify-content: space-around; box-shadow: 0 -10px 40px rgba(0,0,0,0.3); }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 6px; text-decoration: none; color: #b0b0b0; font-size: 11px; font-weight: 600; padding: 8px; border-radius: 12px; }
        .nav-item i { font-size: 22px; }
        .nav-item.active { color: #667eea; }
        .nav-item.active i { transform: scale(1.15); }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <h1>Notificações</h1>
        <button class="mark-read-btn" onclick="markAllRead()">Marcar todas lidas</button>
    </div>
    <div class="notifications-list" id="notificationsList"></div>
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item"><i class="fas fa-home"></i><span>Início</span></a>
        <a href="app-buscar.html" class="nav-item"><i class="fas fa-search"></i><span>Buscar</span></a>
        <a href="app-promocoes.html" class="nav-item"><i class="fas fa-gift"></i><span>Promoções</span></a>
        <a href="app-notificacoes.html" class="nav-item active"><i class="fas fa-bell"></i><span>Avisos</span></a>
        <a href="app-perfil.html" class="nav-item"><i class="fas fa-user"></i><span>Perfil</span></a>
    </nav>
    <script>
        const mockNotifications = [
            { id: 1, icon: 'gift', title: '?? Nova promoção!', message: 'Popeye: 2x pontos em compras acima de R$ 50', time: 'Há 5 minutos', unread: true },
            { id: 2, icon: 'star', title: '? Pontos creditados', message: 'Você ganhou 150 pontos na sua última visita ao Texano', time: 'Há 1 hora', unread: true },
            { id: 3, icon: 'trophy', title: '?? Parabéns!', message: 'Você atingiu 1.000 pontos! Resgate sua recompensa.', time: 'Há 3 horas', unread: false },
            { id: 4, icon: 'calendar', title: '?? Lembrete', message: 'Seus pontos expiram em 30 dias. Use agora!', time: 'Ontem', unread: false }
        ];
        
        function loadNotifications() {
            const list = document.getElementById('notificationsList');
            if (mockNotifications.length === 0) {
                list.innerHTML = '<div class="empty-state"><i class="fas fa-bell-slash"></i><h3>Nenhuma notificação</h3><p>Você está em dia!</p></div>';
            } else {
                list.innerHTML = mockNotifications.map(n => `
                    <div class="notification-item ${n.unread ? 'unread' : 'read'}">
                        <div class="notification-icon"><i class="fas fa-${n.icon}"></i></div>
                        <div class="notification-content">
                            <div class="notification-title">${n.title}</div>
                            <div class="notification-message">${n.message}</div>
                            <div class="notification-time">${n.time}</div>
                        </div>
                    </div>
                `).join('');
            }
        }
        function markAllRead() {
            document.querySelectorAll('.notification-item').forEach(item => {
                item.classList.remove('unread');
                item.classList.add('read');
            });
        }
        document.addEventListener('DOMContentLoaded', loadNotifications);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Meu Perfil - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            padding-bottom: 90px;
            color: #fff;
        }
        
        .header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 20px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            text-align: center;
        }
        
        .header h1 {
            font-size: 22px;
            font-weight: 800;
            color: #fff;
        }
        
        .profile-header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 32px 20px;
            text-align: center;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin: 0 auto 20px;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
            position: relative;
        }
        
        .edit-avatar-btn {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 36px;
            height: 36px;
            background: #667eea;
            border: 3px solid #1a1a2e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
        }
        
        .profile-name {
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 6px;
        }
        
        .profile-email {
            font-size: 14px;
            color: #b0b0b0;
            margin-bottom: 20px;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            padding: 0 20px;
            margin-top: -20px;
            margin-bottom: 24px;
        }
        
        .stat-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 16px;
            padding: 20px 16px;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 900;
            color: #667eea;
            margin-bottom: 6px;
        }
        
        .stat-label {
            font-size: 12px;
            color: #b0b0b0;
        }
        
        .section {
            padding: 0 20px 24px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 16px;
            padding: 0 4px;
        }
        
        .menu-list {
            display: grid;
            gap: 12px;
        }
        
        .menu-item {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 14px;
            padding: 18px 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            text-decoration: none;
            color: #fff;
            transition: all 0.3s;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .menu-item:hover {
            border-color: #667eea;
            transform: translateX(4px);
        }
        
        .menu-icon {
            width: 48px;
            height: 48px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #667eea;
            flex-shrink: 0;
        }
        
        .menu-content {
            flex: 1;
        }
        
        .menu-title {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .menu-subtitle {
            font-size: 12px;
            color: #b0b0b0;
        }
        
        .menu-arrow {
            color: #666;
            font-size: 16px;
        }
        
        .logout-btn {
            width: 100%;
            padding: 18px;
            background: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
            border: 2px solid rgba(231, 76, 60, 0.2);
            border-radius: 14px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logout-btn:hover {
            background: rgba(231, 76, 60, 0.2);
            border-color: #e74c3c;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            padding: 12px 8px 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
        }
        
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: #b0b0b0;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s;
            padding: 8px;
            border-radius: 12px;
        }
        
        .nav-item i {
            font-size: 22px;
        }
        
        .nav-item.active {
            color: #667eea;
        }
        
        .nav-item.active i {
            transform: scale(1.15);
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <h1>Meu Perfil</h1>
    </div>
    
    <div class="profile-header">
        <div class="profile-avatar">
            <i class="fas fa-user"></i>
            <button class="edit-avatar-btn">
                <i class="fas fa-camera"></i>
            </button>
        </div>
        <div class="profile-name" id="userName">Carregando...</div>
        <div class="profile-email" id="userEmail">email@exemplo.com</div>
    </div>
    
    <div class="profile-stats">
        <div class="stat-card">
            <div class="stat-value" id="totalPoints">0</div>
            <div class="stat-label">Pontos</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalVisits">0</div>
            <div class="stat-label">Visitas</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalRewards">0</div>
            <div class="stat-label">Resgates</div>
        </div>
    </div>
    
    <div class="section">
        <h3 class="section-title">Conta</h3>
        <div class="menu-list">
            <a href="#" class="menu-item" onclick="editProfile(event)">
                <div class="menu-icon">
                    <i class="fas fa-user-edit"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Editar Perfil</div>
                    <div class="menu-subtitle">Altere seus dados pessoais</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
            
            <a href="app-meu-qrcode.html" class="menu-item">
                <div class="menu-icon">
                    <i class="fas fa-qrcode"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Meu QR Code</div>
                    <div class="menu-subtitle">Apresente ao estabelecimento</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
            
            <a href="#" class="menu-item" onclick="changePassword(event)">
                <div class="menu-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Alterar Senha</div>
                    <div class="menu-subtitle">Atualize sua senha de acesso</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
        </div>
    </div>
    
    <div class="section">
        <h3 class="section-title">Preferências</h3>
        <div class="menu-list">
            <a href="#" class="menu-item" onclick="notifications(event)">
                <div class="menu-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Notificações</div>
                    <div class="menu-subtitle">Gerencie suas notificações</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
            
            <a href="app-premium.html" class="menu-item">
                <div class="menu-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Plano Premium</div>
                    <div class="menu-subtitle">Benefícios exclusivos</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
        </div>
    </div>
    
    <div class="section">
        <h3 class="section-title">Suporte</h3>
        <div class="menu-list">
            <a href="app-chat.html" class="menu-item">
                <div class="menu-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Ajuda e Suporte</div>
                    <div class="menu-subtitle">Fale conosco</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
            
            <a href="termos-de-uso.html" class="menu-item" target="_blank">
                <div class="menu-icon">
                    <i class="fas fa-file-contract"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Termos de Uso</div>
                    <div class="menu-subtitle">Leia nossos termos</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
            
            <a href="politica-de-privacidade.html" class="menu-item" target="_blank">
                <div class="menu-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="menu-content">
                    <div class="menu-title">Privacidade</div>
                    <div class="menu-subtitle">Política de privacidade</div>
                </div>
                <i class="fas fa-chevron-right menu-arrow"></i>
            </a>
        </div>
    </div>
    
    <div class="section">
        <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>
            Sair da Conta
        </button>
    </div>
    
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="app-buscar.html" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </a>
        <a href="app-promocoes.html" class="nav-item">
            <i class="fas fa-gift"></i>
            <span>Promoções</span>
        </a>
        <a href="app-notificacoes.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Avisos</span>
        </a>
        <a href="app-perfil.html" class="nav-item active">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>
    
    <script>
        async function loadProfile() {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }
            
            document.getElementById('userName').textContent = user.name || 'Usuário';
            document.getElementById('userEmail').textContent = user.email || '';
            
            try {
                const response = await fetch('/api/cliente/dashboard', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const stats = await response.json();
                    document.getElementById('totalPoints').textContent = stats.total_points || '0';
                    document.getElementById('totalVisits').textContent = stats.total_visits || '0';
                    document.getElementById('totalRewards').textContent = stats.total_rewards || '0';
                }
            } catch (error) {
                console.error('Erro ao carregar perfil:', error);
            }
        }
        
        function editProfile(e) {
            e.preventDefault();
            alert('Funcionalidade de edição será implementada em breve!');
        }
        
        function changePassword(e) {
            e.preventDefault();
            alert('Funcionalidade de alteração de senha será implementada em breve!');
        }
        
        function notifications(e) {
            e.preventDefault();
            alert('Configurações de notificações serão implementadas em breve!');
        }
        
        function logout() {
            authManager.logout();
        }
        
        document.addEventListener('DOMContentLoaded', loadProfile);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Premium - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; }
        .header { background: linear-gradient(135deg, #f39c12, #e67e22); padding: 60px 20px 40px; text-align: center; }
        .crown-icon { font-size: 80px; margin-bottom: 20px; }
        .header h1 { font-size: 36px; font-weight: 900; margin-bottom: 12px; }
        .header p { font-size: 16px; opacity: 0.95; }
        .content { padding: 32px 20px; }
        .benefits-grid { display: grid; gap: 16px; margin-bottom: 32px; }
        .benefit-card { background: linear-gradient(145deg, #1a1a2e, #16213e); border-radius: 16px; padding: 24px; border: 1px solid rgba(102, 126, 234, 0.1); display: flex; gap: 16px; }
        .benefit-icon { width: 56px; height: 56px; background: rgba(243, 156, 18, 0.1); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 28px; flex-shrink: 0; }
        .benefit-info h3 { font-size: 17px; font-weight: 800; margin-bottom: 6px; }
        .benefit-info p { font-size: 14px; color: #b0b0b0; line-height: 1.6; }
        .price-card { background: linear-gradient(145deg, #1a1a2e, #16213e); border-radius: 24px; padding: 32px; text-align: center; border: 2px solid #f39c12; margin-bottom: 24px; }
        .price { font-size: 56px; font-weight: 900; color: #f39c12; margin: 20px 0; }
        .price span { font-size: 24px; }
        .upgrade-btn { width: 100%; padding: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); color: white; border: none; border-radius: 16px; font-size: 18px; font-weight: 900; cursor: pointer; box-shadow: 0 12px 40px rgba(243, 156, 18, 0.4); }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="crown-icon">??</div>
        <h1>Seja Premium</h1>
        <p>Benefícios exclusivos para você</p>
    </div>
    <div class="content">
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">?</div>
                <div class="benefit-info">
                    <h3>Pontos em Dobro</h3>
                    <p>Acumule 2x mais pontos em todas as suas compras</p>
                </div>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">??</div>
                <div class="benefit-info">
                    <h3>Recompensas Exclusivas</h3>
                    <p>Acesso a prêmios que apenas membros Premium podem resgatar</p>
                </div>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">??</div>
                <div class="benefit-info">
                    <h3>Promoções Antecipadas</h3>
                    <p>Seja o primeiro a saber das promoções dos estabelecimentos</p>
                </div>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">?</div>
                <div class="benefit-info">
                    <h3>Atendimento Prioritário</h3>
                    <p>Suporte VIP e atendimento diferenciado nos estabelecimentos</p>
                </div>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">??</div>
                <div class="benefit-info">
                    <h3>Presente de Aniversário</h3>
                    <p>Bônus especial de 500 pontos no seu aniversário</p>
                </div>
            </div>
        </div>
        <div class="price-card">
            <h2>Plano Mensal</h2>
            <div class="price">R$ 19<span>,90</span></div>
            <p style="color: #b0b0b0; margin-bottom: 24px;">Cancele quando quiser</p>
            <button class="upgrade-btn" onclick="upgrade()">
                <i class="fas fa-crown"></i> ASSINAR AGORA
            </button>
        </div>
    </div>
    <script>
        function upgrade() {
            alert('Funcionalidade de pagamento será implementada em breve!');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Promoções - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; padding-bottom: 90px; color: #fff; }
        
        .header { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 16px 20px 20px; 
            border-bottom: 1px solid rgba(102, 126, 234, 0.1); 
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-size: 22px; font-weight: 800; margin-bottom: 6px; }
        .header p { font-size: 13px; color: #b0b0b0; }
        
        .section { padding: 20px; }
        .section-title { font-size: 18px; font-weight: 800; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
        
        .promocoes-grid { display: grid; gap: 16px; }
        
        .promo-card { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border-radius: 18px; 
            overflow: hidden; 
            border: 1px solid rgba(102, 126, 234, 0.1); 
            transition: all 0.3s; 
        }
        .promo-card:hover { 
            border-color: #667eea; 
            transform: translateY(-4px); 
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.3); 
        }
        
        .promo-header { 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            padding: 20px; 
            position: relative; 
        }
        .promo-header.tipo-desconto { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .promo-header.tipo-dobro { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .promo-header.tipo-brinde { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        
        .promo-badge { 
            position: absolute; 
            top: 12px; 
            right: 12px; 
            background: rgba(255,255,255,0.2); 
            backdrop-filter: blur(10px); 
            padding: 6px 12px; 
            border-radius: 20px; 
            font-size: 11px; 
            font-weight: 700; 
            text-transform: uppercase; 
        }
        
        .promo-title { font-size: 20px; font-weight: 900; margin-bottom: 6px; }
        .promo-subtitle { font-size: 14px; opacity: 0.95; display: flex; align-items: center; gap: 8px; }
        
        .empresa-logo {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        .promo-body { padding: 20px; }
        .promo-details { 
            font-size: 14px; 
            color: #b0b0b0; 
            line-height: 1.7; 
            margin-bottom: 16px; 
        }
        
        .promo-footer { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding-top: 16px; 
            border-top: 1px solid rgba(102, 126, 234, 0.1); 
        }
        
        .promo-countdown { 
            font-size: 13px; 
            color: #f39c12; 
            font-weight: 700; 
        }
        .promo-countdown.urgente { color: #e74c3c; }
        
        .promo-btn { 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            color: white; 
            padding: 12px 24px; 
            border-radius: 10px; 
            font-size: 14px; 
            font-weight: 700; 
            border: none; 
            cursor: pointer; 
            transition: all 0.3s;
        }
        .promo-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
        }
        .promo-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #b0b0b0;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .bottom-nav { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            right: 0; 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border-top: 1px solid rgba(102, 126, 234, 0.2); 
            padding: 12px 8px 20px; 
            display: flex; 
            justify-content: space-around; 
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3); 
        }
        .nav-item { 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 6px; 
            text-decoration: none; 
            color: #b0b0b0; 
            font-size: 11px; 
            font-weight: 600; 
            padding: 8px; 
        }
        .nav-item i { font-size: 22px; }
        .nav-item.active { color: #667eea; }
        
        @media (max-width: 480px) {
            .header { padding: 12px 16px; }
            .promo-title { font-size: 18px; }
            .promo-footer { flex-direction: column; gap: 12px; align-items: stretch; }
            .promo-btn { width: 100%; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <h1>?? Promoções</h1>
        <p>Aproveite as ofertas exclusivas</p>
    </div>
    
    <div class="section">
        <h3 class="section-title">
            <i class="fas fa-fire"></i>
            <span id="promocoes-count">Carregando...</span>
        </h3>
        
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin" style="font-size: 32px;"></i>
            <p>Carregando promoções...</p>
        </div>
        
        <div id="promocoes-grid" class="promocoes-grid" style="display: none;"></div>
        
        <div id="empty-state" class="empty-state" style="display: none;">
            <i class="fas fa-gift"></i>
            <h3>Nenhuma promoção disponível</h3>
            <p>As empresas ainda não criaram promoções.</p>
        </div>
    </div>
    
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item"><i class="fas fa-home"></i><span>Início</span></a>
        <a href="app-buscar.html" class="nav-item"><i class="fas fa-search"></i><span>Buscar</span></a>
        <a href="app-promocoes.html" class="nav-item active"><i class="fas fa-gift"></i><span>Promoções</span></a>
        <a href="app-notificacoes.html" class="nav-item"><i class="fas fa-bell"></i><span>Avisos</span></a>
        <a href="app-perfil.html" class="nav-item"><i class="fas fa-user"></i><span>Perfil</span></a>
    </nav>
    
    <script>
        let promocoes = [];
        
        // Ícones por tipo de promoção
        const tipoIcons = {
            'desconto': '??',
            'dobro': '??',
            'brinde': '??',
            'cashback': '??',
            'default': '?'
        };
        
        // Carregar promoções da API
        async function loadPromocoes() {
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }

            try {
                const response = await fetch('/api/cliente/promocoes', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    promocoes = result.data || [];
                    
                    console.log('Promoções carregadas:', promocoes.length);
                    
                    if (promocoes.length > 0) {
                        renderPromocoes();
                    } else {
                        showEmptyState();
                    }
                } else if (response.status === 401) {
                    window.location.href = '/entrar.html';
                } else {
                    console.error('Erro na resposta:', response.status);
                    showEmptyState();
                }
            } catch (error) {
                console.error('Erro ao carregar promoções:', error);
                showEmptyState();
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }
        
        // Renderizar promoções
        function renderPromocoes() {
            const grid = document.getElementById('promocoes-grid');
            const count = document.getElementById('promocoes-count');
            
            count.textContent = `${promocoes.length} ${promocoes.length === 1 ? 'Promoção Ativa' : 'Promoções Ativas'}`;
            
            grid.innerHTML = promocoes.map(promo => {
                const tipoClass = promo.tipo ? `tipo-${promo.tipo}` : '';
                const icon = tipoIcons[promo.tipo] || tipoIcons.default;
                const urgente = promo.dias_restantes !== null && promo.dias_restantes <= 3;
                
                let countdownText = '';
                if (promo.dias_restantes !== null) {
                    if (promo.dias_restantes === 0) {
                        countdownText = '? Termina hoje!';
                    } else if (promo.dias_restantes === 1) {
                        countdownText = '? Termina amanhã';
                    } else {
                        countdownText = `? Termina em ${promo.dias_restantes} dias`;
                    }
                } else {
                    countdownText = '? Sem prazo';
                }
                
                return `
                    <div class="promo-card">
                        <div class="promo-header ${tipoClass}">
                            <span class="promo-badge">${icon} ${promo.tipo || 'Oferta'}</span>
                            <div class="promo-title">${promo.nome}</div>
                            <div class="promo-subtitle">
                                ${promo.empresa_logo ? 
                                    `<img src="${promo.empresa_logo}" alt="${promo.empresa_nome}" class="empresa-logo" onerror="this.style.display='none'">` 
                                    : ''}
                                <span>${promo.empresa_nome}</span>
                            </div>
                        </div>
                        <div class="promo-body">
                            <div class="promo-details">${promo.descricao || 'Promoção especial!'}</div>
                            ${promo.pontos_necessarios ? `
                                <div class="promo-details" style="color: #667eea; font-weight: 700;">
                                    ?? ${promo.pontos_necessarios} pontos necessários
                                </div>
                            ` : ''}
                            <div class="promo-footer">
                                <div class="promo-countdown ${urgente ? 'urgente' : ''}">${countdownText}</div>
                                <button class="promo-btn" onclick="resgatarPromo(${promo.id}, '${promo.nome}')">
                                    Resgatar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            grid.style.display = 'grid';
        }
        
        // Mostrar estado vazio
        function showEmptyState() {
            document.getElementById('empty-state').style.display = 'block';
            document.getElementById('promocoes-count').textContent = '0 Promoções';
        }
        
        // Resgatar promoção
        async function resgatarPromo(id, nome) {
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!confirm(`Deseja resgatar a promoção "${nome}"?\n\nApós resgatar, você terá que apresentar no estabelecimento.`)) {
                return;
            }
            
            try {
                const response = await fetch(`/api/cliente/resgatar-promocao/${id}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                const result = await response.json();
                
                if (response.ok && result.success) {
                    alert(`? Promoção resgatada!\n\n${result.message || 'Apresente no estabelecimento para utilizar.'}`);
                    loadPromocoes(); // Recarregar lista
                } else {
                    alert(`? Erro: ${result.message || 'Não foi possível resgatar a promoção.'}`);
                }
            } catch (error) {
                console.error('Erro ao resgatar:', error);
                alert('? Erro ao resgatar promoção. Tente novamente.');
            }
        }
        
        // Carregar ao iniciar
        document.addEventListener('DOMContentLoaded', loadPromocoes);
    </script>
</body>
</html>
                    <div class="promo-details">
                        Ganhe 2x pontos em compras acima de R$ 50,00. Válido para delivery e retirada no local.
                    </div>
                    <div class="promo-footer">
                        <div class="promo-countdown">? Termina em 2 dias</div>
                        <button class="promo-btn" onclick="ativarPromo(1)">Ativar</button>
                    </div>
                </div>
            </div>
            <div class="promo-card">
                <div class="promo-header" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                    <span class="promo-badge">?? Novo</span>
                    <div class="promo-title">Pizza Grátis</div>
                    <div class="promo-subtitle">Texano Pizzaria</div>
                </div>
                <div class="promo-body">
                    <div class="promo-details">
                        Na compra de 2 pizzas grandes, ganhe 1 pizza média grátis. Não acumulativo com outras promoções.
                    </div>
                    <div class="promo-footer">
                        <div class="promo-countdown">? Termina em 5 dias</div>
                        <button class="promo-btn">Ativar</button>
                    </div>
                </div>
            </div>
            <div class="promo-card">
                <div class="promo-header" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">
                    <span class="promo-badge">?? Relax</span>
                    <div class="promo-title">30% de Desconto</div>
                    <div class="promo-subtitle">Florenza Spa</div>
                </div>
                <div class="promo-body">
                    <div class="promo-details">
                        Desconto de 30% em todos os tratamentos faciais e massagens relaxantes durante todo o mês.
                    </div>
                    <div class="promo-footer">
                        <div class="promo-countdown">? Termina em 15 dias</div>
                        <button class="promo-btn">Ativar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item"><i class="fas fa-home"></i><span>Início</span></a>
        <a href="app-buscar.html" class="nav-item"><i class="fas fa-search"></i><span>Buscar</span></a>
        <a href="app-promocoes.html" class="nav-item active"><i class="fas fa-gift"></i><span>Promoções</span></a>
        <a href="app-notificacoes.html" class="nav-item"><i class="fas fa-bell"></i><span>Avisos</span></a>
        <a href="app-perfil.html" class="nav-item"><i class="fas fa-user"></i><span>Perfil</span></a>
    </nav>
    <script>
        function ativarPromo(id) {
            alert('Promoção ativada! Apresente no estabelecimento.');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a0f">
    <title>Scanner QR - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            padding-bottom: 90px;
            color: #fff;
        }
        
        .header {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        .back-btn {
            width: 44px;
            height: 44px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            color: #667eea;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            background: rgba(102, 126, 234, 0.2);
        }
        
        .header-title h1 {
            font-size: 22px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 4px;
        }
        
        .header-title p {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .scanner-container {
            padding: 24px 20px;
        }
        
        .scanner-wrapper {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 24px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            overflow: hidden;
        }
        
        #reader {
            border-radius: 16px;
            overflow: hidden;
            max-width: 100%;
        }
        
        .scanner-overlay {
            position: relative;
            margin-top: 16px;
            text-align: center;
        }
        
        .scanner-status {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .scanner-status i {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 12px;
        }
        
        .scanner-status p {
            color: #b0b0b0;
            font-size: 14px;
        }
        
        .scanner-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .btn {
            padding: 14px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(102, 126, 234, 0.2);
        }
        
        .instructions {
            background: rgba(102, 126, 234, 0.05);
            border-radius: 16px;
            padding: 20px;
        }
        
        .instructions h3 {
            font-size: 16px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .instructions ul {
            list-style: none;
        }
        
        .instructions li {
            color: #b0b0b0;
            margin-bottom: 8px;
            padding-left: 28px;
            position: relative;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .instructions li::before {
            content: '?';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: 700;
        }
        
        .result-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 20px;
            align-items: center;
            justify-content: center;
        }
        
        .result-modal.show {
            display: flex;
        }
        
        .result-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 40px 32px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }
        
        .result-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 24px;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }
        
        .result-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 12px;
        }
        
        .result-message {
            font-size: 15px;
            color: #b0b0b0;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            padding: 12px 8px 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
        }
        
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: #b0b0b0;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s;
            padding: 8px;
            border-radius: 12px;
        }
        
        .nav-item i {
            font-size: 22px;
        }
        
        .nav-item.active {
            color: #667eea;
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <button class="back-btn" onclick="location.href='app-inicio.html'">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="header-title">
            <h1>Scanner QR Code</h1>
            <p>Escaneie o QR do estabelecimento</p>
        </div>
    </div>
    
    <div class="scanner-container">
        <div class="scanner-wrapper">
            <div id="reader"></div>
            <div class="scanner-overlay">
                <div class="scanner-status">
                    <i class="fas fa-qrcode"></i>
                    <p id="statusText">Posicione o QR Code na câmera</p>
                </div>
            </div>
        </div>
        
        <div class="scanner-controls">
            <button class="btn btn-primary" id="startBtn" onclick="startScanner()">
                <i class="fas fa-play"></i> Iniciar Scanner
            </button>
            <button class="btn btn-secondary" id="stopBtn" onclick="stopScanner()" style="display: none;">
                <i class="fas fa-stop"></i> Parar
            </button>
        </div>
        
        <div class="instructions" style="margin-top: 24px;">
            <h3><i class="fas fa-info-circle"></i> Como escanear</h3>
            <ul>
                <li>Permita o acesso à câmera do dispositivo</li>
                <li>Aponte a câmera para o QR Code do estabelecimento</li>
                <li>Aguarde a leitura automática</li>
                <li>Confirme os pontos acumulados</li>
            </ul>
        </div>
    </div>
    
    <!-- Result Modal -->
    <div class="result-modal" id="resultModal">
        <div class="result-content">
            <div class="result-icon">
                <i class="fas fa-check"></i>
            </div>
            <div class="result-title">QR Code Válido!</div>
            <div class="result-message" id="resultMessage">
                Estabelecimento identificado com sucesso
            </div>
            <button class="btn btn-primary" onclick="closeModal()" style="width: 100%;">
                OK, Entendi
            </button>
        </div>
    </div>
    
    <nav class="bottom-nav">
        <a href="app-inicio.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="app-buscar.html" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Buscar</span>
        </a>
        <a href="app-promocoes.html" class="nav-item">
            <i class="fas fa-gift"></i>
            <span>Promoções</span>
        </a>
        <a href="app-notificacoes.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Avisos</span>
        </a>
        <a href="app-perfil.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>
    
    <script>
        let html5QrcodeScanner = null;
        
        function startScanner() {
            const config = {
                fps: 10,
                qrbox: { width: 250, height: 250 },
                aspectRatio: 1.0
            };
            
            html5QrcodeScanner = new Html5Qrcode("reader");
            
            html5QrcodeScanner.start(
                { facingMode: "environment" },
                config,
                onScanSuccess,
                onScanFailure
            ).then(() => {
                document.getElementById('startBtn').style.display = 'none';
                document.getElementById('stopBtn').style.display = 'flex';
                document.getElementById('statusText').textContent = 'Escaneando...';
            }).catch(err => {
                console.error('Erro ao iniciar scanner:', err);
                alert('Não foi possível acessar a câmera. Verifique as permissões.');
            });
        }
        
        function stopScanner() {
            if (html5QrcodeScanner) {
                html5QrcodeScanner.stop().then(() => {
                    document.getElementById('startBtn').style.display = 'flex';
                    document.getElementById('stopBtn').style.display = 'none';
                    document.getElementById('statusText').textContent = 'Scanner pausado';
                });
            }
        }
        
        async function onScanSuccess(decodedText, decodedResult) {
            console.log('QR Code lido:', decodedText);
            stopScanner();
            
            try {
                const qrData = JSON.parse(decodedText);
                const token = localStorage.getItem('token');
                
                // Enviar para API validar
                const response = await fetch('/api/cliente/escanear-qrcode', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        qrcode: qrData.code || decodedText
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    document.getElementById('resultMessage').textContent = 
                        `${result.establishment_name} - ${result.points_earned} pontos creditados!`;
                    document.getElementById('resultModal').classList.add('show');
                } else {
                    alert(result.message || 'QR Code inválido');
                }
                
            } catch (error) {
                console.error('Erro ao processar QR:', error);
                alert('QR Code inválido ou formato não reconhecido');
            }
        }
        
        function onScanFailure(error) {
            // Silencioso - não mostrar todos os erros de scan
        }
        
        function closeModal() {
            document.getElementById('resultModal').classList.remove('show');
            window.location.href = 'app-inicio.html';
        }
        
        // Verificar autenticação
        if (!localStorage.getItem('token')) {
            window.location.href = '/entrar.html';
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Tem de Tudo - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <!-- Header Premium -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-top">
                <div class="app-logo">
                    <i class="fas fa-sparkles"></i>
                    <span>Tem de Tudo</span>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" onclick="window.location.href='notificacoes.html'">
                        <i class="fas fa-bell"></i>
                    </button>
                    <button class="icon-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>

            <!-- Card de Pontos -->
            <div class="points-card">
                <div class="points-header">
                    <div class="points-info">
                        <h2>Seus Pontos</h2>
                        <div class="points-value">
                            <span id="userPoints">0</span>
                            <span>pts</span>
                        </div>
                    </div>
                    <div class="points-badge">
                        <i class="fas fa-arrow-up"></i>
                        <span>+125 hoje</span>
                    </div>
                </div>
                
                <div class="qr-buttons">
                    <button class="qr-btn" onclick="window.location.href='scanner.html'">
                        <i class="fas fa-qrcode"></i>
                        <span>Escanear QR</span>
                    </button>
                    <button class="qr-btn" onclick="showMyQR()">
                        <i class="fas fa-id-card"></i>
                        <span>Meu QR</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- A??es R?pidas -->
    <section class="section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-bolt"></i>
                A??es R?pidas
            </h2>
        </div>
        
        <div class="quick-actions">
            <a href="estabelecimentos.html" class="action-btn">
                <div class="action-icon">
                    <i class="fas fa-store"></i>
                </div>
                <div class="action-label">Estabelecimentos</div>
            </a>
            
            <a href="pontos.html" class="action-btn">
                <div class="action-icon">
                    <i class="fas fa-history"></i>
                </div>
                <div class="action-label">Hist?rico</div>
            </a>
            
            <a href="bonus-aniversario.html" class="action-btn">
                <div class="action-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <div class="action-label">B?nus</div>
            </a>
            
            <a href="ajuda.html" class="action-btn">
                <div class="action-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <div class="action-label">Ajuda</div>
            </a>
        </div>
    </section>

    <!-- Estabelecimentos em Destaque -->
    <section class="section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-fire"></i>
                Em Destaque
            </h2>
            <a href="estabelecimentos.html" class="view-all">
                Ver todos
                <i class="fas fa-chevron-right"></i>
            </a>
        </div>

        <div class="companies-grid" id="companiesGrid">
            <!-- Cards ser?o carregados via JavaScript -->
            <div class="company-card">
                <div class="company-logo">
                    <i class="fas fa-pizza-slice"></i>
                </div>
                <div class="company-info">
                    <div class="company-name">Pizzaria Bella Napoli</div>
                    <div class="company-category">Restaurante ? Pizzaria</div>
                    <div class="company-stats">
                        <div class="stat-item">
                            <i class="fas fa-star"></i>
                            <span class="stat-value">4.9</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-coins"></i>
                            <span class="stat-value">2.5x</span> pontos
                        </div>
                    </div>
                </div>
            </div>

            <div class="company-card">
                <div class="company-logo">
                    <i class="fas fa-cut"></i>
                </div>
                <div class="company-info">
                    <div class="company-name">Sal?o Premium</div>
                    <div class="company-category">Beleza ? Est?tica</div>
                    <div class="company-stats">
                        <div class="stat-item">
                            <i class="fas fa-star"></i>
                            <span class="stat-value">4.8</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-coins"></i>
                            <span class="stat-value">3.0x</span> pontos
                        </div>
                    </div>
                </div>
            </div>

            <div class="company-card">
                <div class="company-logo">
                    <i class="fas fa-dumbbell"></i>
                </div>
                <div class="company-info">
                    <div class="company-name">Academia FitLife</div>
                    <div class="company-category">Sa?de ? Fitness</div>
                    <div class="company-stats">
                        <div class="stat-item">
                            <i class="fas fa-star"></i>
                            <span class="stat-value">4.9</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-coins"></i>
                            <span class="stat-value">2.0x</span> pontos
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="app.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>In?cio</span>
        </a>
        <a href="estabelecimentos.html" class="nav-item">
            <i class="fas fa-store"></i>
            <span>Lojas</span>
        </a>
        <a href="scanner.html" class="nav-item">
            <i class="fas fa-qrcode"></i>
            <span>Scanner</span>
        </a>
        <a href="pontos.html" class="nav-item">
            <i class="fas fa-wallet"></i>
            <span>Pontos</span>
        </a>
        <a href="perfil.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Perfil</span>
        </a>
    </nav>

    <script>
        // Carregar dados do usu?rio
        async function loadUserData() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }

            try {
                const response = await fetch('/api/cliente/perfil', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('userPoints').textContent = data.pontos_totais || 0;
                } else {
                    throw new Error('Erro ao carregar dados');
                }
            } catch (error) {
                console.error('Erro:', error);
                // Mostrar pontos de exemplo se falhar
                animateNumber(document.getElementById('userPoints'), 0, 1250, 1500);
            }
        }

        // Anima??o de n?meros
        function animateNumber(element, start, end, duration) {
            const startTime = Date.now();
            const range = end - start;
            
            function update() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 3);
                
                element.textContent = Math.floor(start + (range * easeOut));
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }

        // Mostrar QR do usu?rio
        function showMyQR() {
            alert('Funcionalidade de QR em desenvolvimento');
        }

        // Logout
        function logout() {
            if (confirm('Deseja sair da sua conta?')) {
                localStorage.removeItem('token');
                window.location.href = '/entrar.html';
            }
        }

        // Inicializar
        loadUserData();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tem de Tudo - Sistema de Fidelidade</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        h1 {
            font-size: 48px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            font-size: 18px;
            color: #b0b0b0;
            margin-bottom: 50px;
        }
        .status {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }
        .status-indicator {
            font-size: 64px;
            margin-bottom: 20px;
        }
        .status-text {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .status-detail {
            color: #b0b0b0;
            font-size: 14px;
        }
        .buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .btn {
            padding: 18px 24px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
        }
        .btn-secondary:hover {
            background: rgba(255,255,255,0.15);
        }
        .credentials {
            background: rgba(26, 26, 46, 0.6);
            border-radius: 12px;
            padding: 20px;
            text-align: left;
        }
        .credential-item {
            padding: 12px;
            margin: 8px 0;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
        .credential-item strong {
            color: #667eea;
        }
        .loading {
            display: none;
            margin: 20px 0;
        }
        .spinner {
            border: 4px solid rgba(255,255,255,0.1);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <h1>?? Tem de Tudo</h1>
        <p class="subtitle">Sistema de Fidelidade Digital</p>

        <div class="status" id="statusBox">
            <div class="status-indicator" id="statusIcon">?</div>
            <div class="status-text" id="statusText">Verificando sistema...</div>
            <div class="status-detail" id="statusDetail">Aguarde um momento</div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="margin-top: 10px; color: #b0b0b0;">Inicializando banco de dados...</p>
        </div>

        <div class="buttons">
            <a href="/entrar.html" class="btn">
                ?? Fazer Login
            </a>
            <a href="/cadastro.html" class="btn">
                ?? Cadastrar-se
            </a>
            <a href="/teste-login.html" class="btn btn-secondary">
                ?? Testar Sistema
            </a>
            <button onclick="inicializarSistema()" class="btn btn-secondary">
                ?? Inicializar Dados
            </button>
        </div>

        <div class="credentials">
            <h3 style="margin-bottom: 15px; color: #667eea;">?? Credenciais de Teste</h3>
            <div class="credential-item">
                <strong>Admin:</strong> admin@temdetudo.com / admin123
            </div>
            <div class="credential-item">
                <strong>Cliente:</strong> cliente@teste.com / 123456
            </div>
            <div class="credential-item">
                <strong>Empresa:</strong> empresa@teste.com / 123456
            </div>
            <div class="credential-item">
                <strong>Clientes 1-5:</strong> cliente1@email.com / senha123
            </div>
        </div>
    </div>

    <script>
        const API_BASE = window.location.hostname.includes('onrender.com') 
            ? window.location.origin 
            : 'http://127.0.0.1:8000';

        async function verificarSistema() {
            try {
                const response = await fetch(API_BASE + '/api/debug');
                const data = await response.json();
                
                if (data.status === 'OK') {
                    document.getElementById('statusIcon').textContent = '?';
                    document.getElementById('statusText').textContent = 'Sistema Online';
                    document.getElementById('statusDetail').textContent = 'Tudo funcionando perfeitamente!';
                    document.getElementById('statusBox').style.borderColor = 'rgba(76, 175, 80, 0.5)';
                } else {
                    mostrarErro();
                }
            } catch (error) {
                mostrarErro();
            }
        }

        function mostrarErro() {
            document.getElementById('statusIcon').textContent = '??';
            document.getElementById('statusText').textContent = 'Sistema Iniciando';
            document.getElementById('statusDetail').textContent = 'Clique em "Inicializar Dados" para começar';
            document.getElementById('statusBox').style.borderColor = 'rgba(255, 152, 0, 0.5)';
        }

        async function inicializarSistema() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('statusIcon').textContent = '?';
            document.getElementById('statusText').textContent = 'Inicializando...';
            document.getElementById('statusDetail').textContent = 'Criando usuários e dados de teste';

            try {
                const response = await fetch(API_BASE + '/api/setup-database?secret=temdetudo2024');
                const data = await response.json();
                
                document.getElementById('loading').style.display = 'none';
                
                if (data.success) {
                    document.getElementById('statusIcon').textContent = '?';
                    document.getElementById('statusText').textContent = 'Sistema Pronto!';
                    document.getElementById('statusDetail').textContent = `${data.total_users} usuários criados. Faça login agora!`;
                    document.getElementById('statusBox').style.borderColor = 'rgba(76, 175, 80, 0.5)';
                    
                    alert('? Sistema inicializado com sucesso!\n\nVocê já pode fazer login com:\n- admin@temdetudo.com / admin123\n- cliente@teste.com / 123456');
                } else {
                    document.getElementById('statusIcon').textContent = '?';
                    document.getElementById('statusText').textContent = 'Erro na Inicialização';
                    document.getElementById('statusDetail').textContent = data.error || 'Tente novamente em alguns segundos';
                    alert('Erro: ' + (data.error || 'Falha na inicialização'));
                }
            } catch (error) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('statusIcon').textContent = '?';
                document.getElementById('statusText').textContent = 'Erro de Conexão';
                document.getElementById('statusDetail').textContent = 'Servidor pode estar reiniciando. Aguarde 2 minutos.';
                alert('Erro de conexão. O servidor pode estar reiniciando. Aguarde 2-3 minutos e tente novamente.');
            }
        }

        // Verificar sistema ao carregar
        window.addEventListener('load', verificarSistema);
    </script>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Bànus Aniversàrio - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><div style="width:80px;height:80px;background:rgba(255,255,255,0.2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;"><i class="fas fa-gift" style="font-size:40px;"></i></div><h1 style="font-size:28px;font-weight:900;margin:0 0 8px;">Bànus de Aniversàrio</h1><p style="opacity:0.9;margin:0;">Ganhe pontos extras no seu dia!</p></header><div style="max-width:800px;margin:0 auto;padding:24px 20px;text-align:center;"><div style="background:white;border-radius:24px;padding:40px;box-shadow:0 12px 40px rgba(102,126,234,0.08);"><i class="fas fa-birthday-cake" style="font-size:80px;color:#667eea;margin-bottom:20px;"></i><p style="color:#7c8db0;font-size:16px;line-height:1.8;">Cadastre sua data de nascimento e ganhe pontos extras todo ano!</p></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Buscar - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;"><div style="max-width:800px;margin:0 auto;"><input type="text" placeholder="Buscar estabelecimentos..." style="width:100%;padding:16px 20px;border:none;border-radius:50px;font-size:16px;box-sizing:border-box;"></ style="width:100%;padding:16px 20px;border:none;border-radius:50px;font-size:16px;box-sizing:border-box;"></div></header><div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><p style="color:#7c8db0;text-align:center;">Digite para buscar...</p></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Cadastro - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="form-container wide">
        <div class="logo">
            <img src="img/logo.png" alt="Tem de Tudo" class="logo-img">
        </div>
        
        <div class="welcome">
            <h1>Crie sua conta grátis</h1>
            <p>Comece a fidelizar seus clientes hoje</p>
        </div>
        
        <div class="social-register">
            <button class="btn-social" onclick="registerGoogle()">
                <i class="fab fa-google"></i> Google
            </button>
            <button class="btn-social" onclick="registerFacebook()">
                <i class="fab fa-facebook-f"></i> Facebook
            </button>
        </div>
        
        <div class="divider">
            <span>ou cadastre-se com e-mail</span>
        </div>
        
        <form id="registerForm" onsubmit="handleRegister(event)">
            <div class="form-grid">
                <div class="form-group">
                    <label for="nome">Nome</label>
                    <div class="input-wrapper">
                        <i class="fas fa-user"></i>
                        <input 
                            type="text" 
                            id="nome" 
                            name="nome" 
                            placeholder="Seu nome"
                            required
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="sobrenome">Sobrenome</label>
                    <div class="input-wrapper">
                        <i class="fas fa-user"></i>
                        <input 
                            type="text" 
                            id="sobrenome" 
                            name="sobrenome" 
                            placeholder="Seu sobrenome"
                            required
                        >
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        placeholder="Digite seu e-mail"
                        required
                    >
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <div class="input-wrapper">
                        <i class="fas fa-phone"></i>
                        <input 
                            type="tel" 
                            id="telefone" 
                            name="telefone" 
                            placeholder="(11) 98765-4321"
                            required
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <div class="input-wrapper">
                        <i class="fas fa-id-card"></i>
                        <input 
                            type="text" 
                            id="cpf" 
                            name="cpf" 
                            placeholder="123.456.789-00"
                            required
                        >
                    </div>
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="password">Senha</label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            placeholder="Mínimo 8 caracteres"
                            required
                            minlength="8"
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Confirmar Senha</label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            name="confirmPassword" 
                            placeholder="Digite novamente"
                            required
                            minlength="8"
                        >
                    </div>
                </div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="terms" name="terms" required>
                <label for="terms">
                    Eu li e concordo com os <a href="termos-de-uso.html" target="_blank">Termos de Uso</a> 
                    e a <a href="politica-de-privacidade.html" target="_blank">Política de Privacidade</a>
                </label>
            </div>
            
            <button type="submit" class="btn btn-primary">
                CRIAR CONTA GRÁTIS
            </button>
        </form>
        
        <div class="login-link">
            <p>Já tem uma conta? <a href="entrar.html">Entrar</a></p>
        </div>
        
        <div class="back-link">
            <a href="index.html">
                <i class="fas fa-arrow-left"></i>
                Voltar para início
            </a>
        </div>
    </div>
    
    <script>
        // Máscaras para CPF e telefone
        document.getElementById('cpf').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        });
        
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{2})(\d)/, '($1) $2');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });
        
        async function handleRegister(event) {
            event.preventDefault();
            
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const email = document.getElementById('email').value.trim();
            const cpf = document.getElementById('cpf').value;
            const submitBtn = event.target.querySelector('button[type="submit"]');
            
            // Validações
            if (!Validators.email(email)) {
                showToast('Email inválido.', 'error');
                return;
            }
            
            if (!Validators.password(password)) {
                showToast('A senha deve ter no mínimo 6 caracteres.', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showToast('As senhas não coincidem!', 'error');
                return;
            }
            
            if (!Validators.cpf(cpf)) {
                showToast('CPF inválido. Verifique os dígitos.', 'error');
                return;
            }
            
            if (!document.getElementById('terms').checked) {
                showToast('Você precisa aceitar os termos de uso.', 'warning');
                return;
            }
            
            const formData = {
                name: document.getElementById('nome').value + ' ' + document.getElementById('sobrenome').value,
                email: email,
                telefone: document.getElementById('telefone').value,
                cpf: cpf.replace(/\D/g, ''),
                password: password,
                password_confirmation: confirmPassword,
                terms: true,
                perfil: 'cliente'
            };
            
            // Loading state
            setLoading(submitBtn, true);
            
            try {
                const result = await authManager.register(formData);
                
                if (result.success) {
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> Sucesso!';
                    submitBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                    showToast('Cadastro realizado com sucesso!', 'success');
                    
                    setTimeout(() => {
                        window.location.href = result.redirect;
                    }, 500);
                } else {
                    throw new Error(result.message);
                }
            } catch (error) {
                console.error('? Erro:', error);
                showToast(error.message || 'Erro ao criar conta.', 'error');
                setLoading(submitBtn, false);
            }
        }
        
        function registerGoogle() {
            showToast('Cadastro com Google será implementado em breve!', 'info');
        }
        
        function registerFacebook() {
            showToast('Cadastro com Facebook será implementado em breve!', 'info');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Cadastro Empresa - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(rgba(102, 126, 234, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(102, 126, 234, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
        }
        
        .register-container {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 48px 40px;
            max-width: 680px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 1px rgba(102, 126, 234, 0.3);
            border: 1px solid rgba(102, 126, 234, 0.1);
            position: relative;
            z-index: 1;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 36px;
        }
        
        .logo-img {
            width: 55px;
            height: 55px;
            margin: 0 auto 20px;
            display: block;
        }
        
        .welcome {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .welcome h1 {
            font-size: 28px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }
        
        .welcome p {
            font-size: 15px;
            color: #b0b0b0;
        }
        
        .plan-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #e0e0e0;
            margin-bottom: 8px;
            letter-spacing: 0.3px;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        .input-wrapper i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-size: 16px;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 16px 14px 45px;
            background: rgba(10, 10, 15, 0.6);
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            font-size: 15px;
            color: #fff;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(10, 10, 15, 0.8);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #666;
        }
        
        .btn-register {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
            letter-spacing: 0.5px;
            margin-top: 8px;
        }
        
        .btn-register:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .btn-register:active {
            transform: translateY(0);
        }
        
        .login-link {
            text-align: center;
            margin-top: 24px;
            font-size: 14px;
            color: #b0b0b0;
        }
        
        .login-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 700;
            transition: color 0.3s;
        }
        
        .login-link a:hover {
            color: #764ba2;
        }
        
        @media (max-width: 640px) {
            .register-container {
                padding: 36px 24px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .welcome h1 {
                font-size: 24px;
            }
        }
    </style>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="register-container">
        <div class="logo">
            <img src="img/logo.png" alt="Tem de Tudo" class="logo-img">
        </div>
        
        <div class="welcome">
            <div class="plan-badge" id="planBadge">Plano Selecionado</div>
            <h1>Cadastre sua Empresa</h1>
            <p>Comece a fidelizar clientes hoje mesmo</p>
        </div>
        
        <form id="formEmpresa" onsubmit="handleRegister(event)">
            <div class="form-grid">
                <div class="form-group">
                    <label for="nome_fantasia">Nome Fantasia</label>
                    <div class="input-wrapper">
                        <i class="fas fa-store"></i>
                        <input 
                            type="text" 
                            id="nome_fantasia" 
                            name="nome_fantasia" 
                            placeholder="Seu Negócio Ltda"
                            required
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="razao_social">Razão Social</label>
                    <div class="input-wrapper">
                        <i class="fas fa-building"></i>
                        <input 
                            type="text" 
                            id="razao_social" 
                            name="razao_social" 
                            placeholder="Empresa LTDA"
                            required
                        >
                    </div>
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="cnpj">CNPJ</label>
                    <div class="input-wrapper">
                        <i class="fas fa-id-card"></i>
                        <input 
                            type="text" 
                            id="cnpj" 
                            name="cnpj" 
                            placeholder="00.000.000/0000-00"
                            required
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <div class="input-wrapper">
                        <i class="fas fa-phone"></i>
                        <input 
                            type="tel" 
                            id="telefone" 
                            name="telefone" 
                            placeholder="(00) 00000-0000"
                            required
                        >
                    </div>
                </div>
            </div>
            
            <div class="form-group full-width">
                <label for="email">Email Corporativo</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        placeholder="contato@suaempresa.com.br"
                        required
                    >
                </div>
            </div>
            
            <div class="form-group full-width">
                <label for="endereco">Endereço Completo</label>
                <div class="input-wrapper">
                    <i class="fas fa-map-marker-alt"></i>
                    <input 
                        type="text" 
                        id="endereco" 
                        name="endereco" 
                        placeholder="Rua, Número, Bairro, Cidade - UF"
                        required
                    >
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="senha">Senha</label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input 
                            type="password" 
                            id="senha" 
                            name="senha" 
                            placeholder="????????"
                            required
                        >
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="senha_confirmation">Confirmar Senha</label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input 
                            type="password" 
                            id="senha_confirmation" 
                            name="senha_confirmation" 
                            placeholder="????????"
                            required
                        >
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn-register">
                CRIAR CONTA EMPRESA
            </button>
            
            <div class="login-link">
                Já tem uma conta? <a href="entrar.html">Faça login</a>
            </div>
        </form>
    </div>

    <script>
        // Detecta plano selecionado via URL
        const urlParams = new URLSearchParams(window.location.search);
        const planParam = urlParams.get('plan');
        
        const planNames = {
            starter: 'Starter - R$ 97/mês',
            professional: 'Professional - R$ 197/mês',
            enterprise: 'Enterprise - R$ 397/mês'
        };
        
        if (planParam && planNames[planParam]) {
            document.getElementById('planBadge').textContent = planNames[planParam];
        } else {
            document.getElementById('planBadge').textContent = '14 Dias Grátis';
        }
        
        // Máscara CNPJ
        document.getElementById('cnpj').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 14) {
                value = value.replace(/^(\d{2})(\d)/, '$1.$2');
                value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
                value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
                value = value.replace(/(\d{4})(\d)/, '$1-$2');
                e.target.value = value;
            }
        });
        
        // Máscara Telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
                e.target.value = value;
            }
        });
        
        async function handleRegister(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);
            const submitBtn = event.target.querySelector('button[type="submit"]');
            
            // Validações
            if (!Validators.email(data.email)) {
                showToast('Email inválido.', 'error');
                return;
            }
            
            if (!Validators.cnpj(data.cnpj)) {
                showToast('CNPJ inválido. Verifique os dígitos.', 'error');
                return;
            }
            
            if (!Validators.password(data.senha)) {
                showToast('A senha deve ter no mínimo 6 caracteres.', 'error');
                return;
            }
            
            if (data.senha !== data.senha_confirmation) {
                showToast('As senhas não coincidem!', 'error');
                return;
            }
            
            // Formatar dados para a API
            const userData = {
                name: data.razao_social,
                email: data.email.trim(),
                phone: data.telefone.replace(/\D/g, ''),
                password: data.senha,
                password_confirmation: data.senha_confirmation,
                perfil: 'empresa',
                cnpj: data.cnpj.replace(/\D/g, ''),
                endereco: data.endereco,
                telefone: data.telefone.replace(/\D/g, '')
            };
            
            // Adiciona plano se houver
            if (planParam) {
                userData.plano = planParam;
            }
            
            // Loading state
            setLoading(submitBtn, true);
            
            try {
                const result = await authManager.register(userData);
                
                if (result.success) {
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> Sucesso!';
                    submitBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                    showToast('Empresa cadastrada com sucesso!', 'success');
                    
                    setTimeout(() => {
                        window.location.href = result.redirect;
                    }, 500);
                } else {
                    throw new Error(result.message);
                }
            } catch (error) {
                console.error('? Erro:', error);
                showToast(error.message || 'Erro ao cadastrar empresa.', 'error');
                setLoading(submitBtn, false);
            }
        }
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 500px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        
        .welcome h1 {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome p {
            color: var(--text-secondary);
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .profile-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 30px;
        }
        
        .profile-option {
            padding: 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .profile-option:hover {
            border-color: var(--border-hover);
            background: rgba(102, 126, 234, 0.05);
        }
        
        .profile-option.selected {
            border-color: var(--purple-1);
            background: rgba(102, 126, 234, 0.1);
        }
        
        .profile-option i {
            font-size: 32px;
            margin-bottom: 12px;
            color: var(--text-muted);
            transition: color 0.3s;
        }
        
        .profile-option.selected i {
            color: var(--purple-1);
        }
        
        .profile-option .title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        
        .profile-option .desc {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: var(--gradient-purple);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .login-link {
            text-align: center;
            margin-top: 24px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .login-link a {
            color: var(--purple-1);
            font-weight: 600;
            text-decoration: none;
        }
        
        .login-link a:hover {
            text-decoration: underline;
        }
        
        .cpf-cnpj-label {
            display: inline-block;
            margin-left: 4px;
            font-size: 11px;
            color: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
        </div>
        
        <div class="welcome">
            <h1>Crie sua conta</h1>
            <p>Comece a acumular pontos agora mesmo</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="registerForm">
            <!-- Seletor de Perfil -->
            <div class="profile-selector">
                <div class="profile-option" data-perfil="cliente">
                    <i class="fas fa-user"></i>
                    <div class="title">Cliente</div>
                    <div class="desc">Acumule pontos</div>
                </div>
                <div class="profile-option" data-perfil="empresa">
                    <i class="fas fa-store"></i>
                    <div class="title">Empresa</div>
                    <div class="desc">OfereÃ§a benefÃ­cios</div>
                </div>
            </div>
            
            <input type="hidden" id="perfil" name="perfil" value="">
            
            <!-- Nome -->
            <div class="form-group">
                <label class="form-label" for="name">
                    <span id="nameLabel">Nome Completo</span>
                </label>
                <div class="input-wrapper">
                    <i class="fas fa-user"></i>
                    <input type="text" id="name" class="form-control" placeholder="Seu nome" required>
                </div>
            </div>
            
            <!-- CPF/CNPJ -->
            <div class="form-group">
                <label class="form-label" for="cpf_cnpj">
                    <span id="cpfCnpjLabel">CPF</span>
                </label>
                <div class="input-wrapper">
                    <i class="fas fa-id-card"></i>
                    <input type="text" id="cpf_cnpj" class="form-control" placeholder="000.000.000-00" required>
                </div>
            </div>
            
            <!-- E-mail -->
            <div class="form-group">
                <label class="form-label" for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" class="form-control" placeholder="seu@email.com" required>
                </div>
            </div>
            
            <!-- Telefone -->
            <div class="form-group">
                <label class="form-label" for="telefone">Telefone</label>
                <div class="input-wrapper">
                    <i class="fas fa-phone"></i>
                    <input type="tel" id="telefone" class="form-control" placeholder="(00) 00000-0000" required>
                </div>
            </div>
            
            <!-- Senha -->
            <div class="form-group">
                <label class="form-label" for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" class="form-control" placeholder="MÃ­nimo 6 caracteres" required>
                </div>
            </div>
            
            <!-- Confirmar Senha -->
            <div class="form-group">
                <label class="form-label" for="password_confirmation">Confirmar Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password_confirmation" class="form-control" placeholder="Digite a senha novamente" required>
                </div>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                CRIAR CONTA
            </button>
        </form>
        
        <div class="login-link">
            JÃ¡ tem uma conta? <a href="/entrar.html">FaÃ§a login</a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('registerForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        const perfilInput = document.getElementById('perfil');
        const cpfCnpjInput = document.getElementById('cpf_cnpj');
        const cpfCnpjLabel = document.getElementById('cpfCnpjLabel');
        const nameLabel = document.getElementById('nameLabel');
        
        // SeleÃ§Ã£o de perfil
        document.querySelectorAll('.profile-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.profile-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                perfilInput.value = this.dataset.perfil;
                
                // Atualizar labels
                if (this.dataset.perfil === 'empresa') {
                    cpfCnpjLabel.textContent = 'CNPJ';
                    cpfCnpjInput.placeholder = '00.000.000/0000-00';
                    nameLabel.textContent = 'Nome da Empresa';
                } else {
                    cpfCnpjLabel.textContent = 'CPF';
                    cpfCnpjInput.placeholder = '000.000.000-00';
                    nameLabel.textContent = 'Nome Completo';
                }
            });
        });
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 3000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading-spinner"></span> CRIANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'CRIAR CONTA';
            }
        }
        
        // MÃ¡scaras
        cpfCnpjInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            const perfil = perfilInput.value;
            
            if (perfil === 'empresa') {
                // CNPJ: 00.000.000/0000-00
                if (value.length <= 14) {
                    value = value.replace(/^(\d{2})(\d)/, '$1.$2');
                    value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
                    value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
                    value = value.replace(/(\d{4})(\d)/, '$1-$2');
                }
            } else {
                // CPF: 000.000.000-00
                if (value.length <= 11) {
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                }
            }
            
            e.target.value = value;
        });
        
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
            }
            e.target.value = value;
        });
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            // Validar perfil selecionado
            if (!perfilInput.value) {
                showAlert('Selecione se vocÃª Ã© Cliente ou Empresa');
                return;
            }
            
            // Validar senhas
            const password = document.getElementById('password').value;
            const passwordConfirmation = document.getElementById('password_confirmation').value;
            
            if (password !== passwordConfirmation) {
                showAlert('As senhas nÃ£o coincidem');
                return;
            }
            
            if (password.length < 6) {
                showAlert('A senha deve ter no mÃ­nimo 6 caracteres');
                return;
            }
            
            const formData = {
                perfil: perfilInput.value,
                name: document.getElementById('name').value,
                cpf_cnpj: cpfCnpjInput.value.replace(/\D/g, ''),
                email: document.getElementById('email').value,
                telefone: document.getElementById('telefone').value.replace(/\D/g, ''),
                password: password,
                password_confirmation: passwordConfirmation
            };
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Erro ao criar conta');
                }
                
                showAlert('Conta criada com sucesso!', 'success');
                
                // Redirecionar para login
                setTimeout(() => {
                    window.location.href = '/entrar.html';
                }, 2000);
                
            } catch (error) {
                setLoading(false);
                showAlert(error.message || 'Erro ao criar conta. Tente novamente.');
            }
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 500px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        
        .welcome h1 {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome p {
            color: var(--text-secondary);
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .profile-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 30px;
        }
        
        .profile-option {
            padding: 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .profile-option:hover {
            border-color: var(--border-hover);
            background: rgba(102, 126, 234, 0.05);
        }
        
        .profile-option.selected {
            border-color: var(--purple-1);
            background: rgba(102, 126, 234, 0.1);
        }
        
        .profile-option i {
            font-size: 32px;
            margin-bottom: 12px;
            color: var(--text-muted);
            transition: color 0.3s;
        }
        
        .profile-option.selected i {
            color: var(--purple-1);
        }
        
        .profile-option .title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        
        .profile-option .desc {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: var(--gradient-purple);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .login-link {
            text-align: center;
            margin-top: 24px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .login-link a {
            color: var(--purple-1);
            font-weight: 600;
            text-decoration: none;
        }
        
        .login-link a:hover {
            text-decoration: underline;
        }
        
        .cpf-cnpj-label {
            display: inline-block;
            margin-left: 4px;
            font-size: 11px;
            color: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
        </div>
        
        <div class="welcome">
            <h1>Crie sua conta</h1>
            <p>Comece a acumular pontos agora mesmo</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="registerForm">
            <!-- Seletor de Perfil -->
            <div class="profile-selector">
                <div class="profile-option" data-perfil="cliente">
                    <i class="fas fa-user"></i>
                    <div class="title">Cliente</div>
                    <div class="desc">Acumule pontos</div>
                </div>
                <div class="profile-option" data-perfil="empresa">
                    <i class="fas fa-store"></i>
                    <div class="title">Empresa</div>
                    <div class="desc">OfereÃ§a benefÃ­cios</div>
                </div>
            </div>
            
            <input type="hidden" id="perfil" name="perfil" value="">
            
            <!-- Nome -->
            <div class="form-group">
                <label class="form-label" for="name">
                    <span id="nameLabel">Nome Completo</span>
                </label>
                <div class="input-wrapper">
                    <i class="fas fa-user"></i>
                    <input type="text" id="name" class="form-control" placeholder="Seu nome" required>
                </div>
            </div>
            
            <!-- CPF/CNPJ -->
            <div class="form-group">
                <label class="form-label" for="cpf_cnpj">
                    <span id="cpfCnpjLabel">CPF</span>
                </label>
                <div class="input-wrapper">
                    <i class="fas fa-id-card"></i>
                    <input type="text" id="cpf_cnpj" class="form-control" placeholder="000.000.000-00" required>
                </div>
            </div>
            
            <!-- E-mail -->
            <div class="form-group">
                <label class="form-label" for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" class="form-control" placeholder="seu@email.com" required>
                </div>
            </div>
            
            <!-- Telefone -->
            <div class="form-group">
                <label class="form-label" for="telefone">Telefone</label>
                <div class="input-wrapper">
                    <i class="fas fa-phone"></i>
                    <input type="tel" id="telefone" class="form-control" placeholder="(00) 00000-0000" required>
                </div>
            </div>
            
            <!-- Senha -->
            <div class="form-group">
                <label class="form-label" for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" class="form-control" placeholder="MÃ­nimo 6 caracteres" required>
                </div>
            </div>
            
            <!-- Confirmar Senha -->
            <div class="form-group">
                <label class="form-label" for="password_confirmation">Confirmar Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password_confirmation" class="form-control" placeholder="Digite a senha novamente" required>
                </div>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                CRIAR CONTA
            </button>
        </form>
        
        <div class="login-link">
            JÃ¡ tem uma conta? <a href="/entrar.html">FaÃ§a login</a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('registerForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        const perfilInput = document.getElementById('perfil');
        const cpfCnpjInput = document.getElementById('cpf_cnpj');
        const cpfCnpjLabel = document.getElementById('cpfCnpjLabel');
        const nameLabel = document.getElementById('nameLabel');
        
        // SeleÃ§Ã£o de perfil
        document.querySelectorAll('.profile-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.profile-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                perfilInput.value = this.dataset.perfil;
                
                // LIMPAR campos ao trocar de perfil
                cpfCnpjInput.value = '';
                
                // Atualizar labels e placeholders
                if (this.dataset.perfil === 'empresa') {
                    cpfCnpjLabel.textContent = 'CNPJ';
                    cpfCnpjInput.placeholder = '00.000.000/0000-00';
                    nameLabel.textContent = 'Nome da Empresa';
                } else {
                    cpfCnpjLabel.textContent = 'CPF';
                    cpfCnpjInput.placeholder = '000.000.000-00';
                    nameLabel.textContent = 'Nome Completo';
                }
            });
        });
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 3000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading-spinner"></span> CRIANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'CRIAR CONTA';
            }
        }
        
        // MÃ¡scaras
        cpfCnpjInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            const perfil = perfilInput.value;
            
            if (perfil === 'empresa') {
                // CNPJ: 00.000.000/0000-00
                if (value.length <= 14) {
                    value = value.replace(/^(\d{2})(\d)/, '$1.$2');
                    value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
                    value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
                    value = value.replace(/(\d{4})(\d)/, '$1-$2');
                }
            } else {
                // CPF: 000.000.000-00
                if (value.length <= 11) {
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                }
            }
            
            e.target.value = value;
        });
        
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
            }
            e.target.value = value;
        });
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            // Validar perfil selecionado
            if (!perfilInput.value) {
                showAlert('Selecione se vocÃª Ã© Cliente ou Empresa');
                return;
            }
            
            // Validar senhas
            const password = document.getElementById('password').value;
            const passwordConfirmation = document.getElementById('password_confirmation').value;
            
            if (password !== passwordConfirmation) {
                showAlert('As senhas nÃ£o coincidem');
                return;
            }
            
            if (password.length < 6) {
                showAlert('A senha deve ter no mÃ­nimo 6 caracteres');
                return;
            }
            
            const formData = {
                perfil: perfilInput.value,
                name: document.getElementById('name').value,
                cpf_cnpj: cpfCnpjInput.value.replace(/\D/g, ''),
                email: document.getElementById('email').value,
                telefone: document.getElementById('telefone').value.replace(/\D/g, ''),
                password: password,
                password_confirmation: passwordConfirmation
            };
            
            console.log('Enviando dados:', formData);
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                console.log('Resposta do servidor:', data);
                
                if (!response.ok) {
                    // Mostrar erros de validaÃ§Ã£o se existirem
                    if (data.errors) {
                        const errorMessages = Object.values(data.errors).flat().join('\n');
                        throw new Error(errorMessages);
                    }
                    throw new Error(data.message || 'Erro ao criar conta');
                }
                
                showAlert('Conta criada com sucesso!', 'success');
                
                // Redirecionar para login
                setTimeout(() => {
                    window.location.href = '/entrar.html';
                }, 2000);
                
            } catch (error) {
                setLoading(false);
                console.error('Erro no cadastro:', error);
                showAlert(error.message || 'Erro ao criar conta. Tente novamente.');
            }
        });
    </script>
</body>
</html>
<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Cartào Fidelidade - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;"><div style="max-width:1200px;margin:0 auto;"><div style="display:flex;align-items:center;gap:12px;"><div style="width:42px;height:42px;background:rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-sparkles" style="font-size:20px;"></i></div><div><div style="font-size:18px;font-weight:900;">Cartào Fidelidade</div></div></div></div></header><div style="max-width:800px;margin:0 auto;padding:24px 20px;"><div style="background:linear-gradient(135deg,#667eea,#764ba2);border-radius:24px;padding:32px;color:white;box-shadow:0 20px 60px rgba(102,126,234,0.3);text-align:center;"><h2 style="font-size:24px;font-weight:900;margin:0 0 16px;">Seu Cartào Digital</h2><div style="font-size:56px;font-weight:900;margin-bottom:8px;" id="saldo">0</div><p style="opacity:0.9;margin:0;">pontos acumulados</p></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Categorias - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">    `n    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:28px;font-weight:900;margin:0;">Categorias</h1></header><div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;"><div style="background:white;border-radius:16px;padding:24px;text-align:center;box-shadow:0 4px 12px rgba(102,126,234,0.08);"><h3 style="margin:0;color:#1a1a2e;">Restaurantes</h3></div></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Check-in - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;909&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><h1 style="font-size:28px;font-weight:900;margin:0;"><i class="fas fa-qrcode"></i> Check-in</h1></header><div style="max-width:600px;margin:0 auto;padding:40px 20px;text-align:center;"><button style="padding:20px 40px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:50px;font-size:18px;font-weight:900;cursor:pointer;box-shadow:0 12px 32px rgba(102,126,234,0.3);"><i class="fas fa-camera"></i> Escanear QR Code</button></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Checkout - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">    `n    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;">Resgatar Pontos</h1></header><div style="max-width:600px;margin:0 auto;padding:32px 20px;"><div style="background:white;border-radius:24px;padding:32px;box-shadow:0 12px 40px rgba(102,126,234,0.08);text-align:center;"><p style="color:#7c8db0;margin:0;">Selecione o prêmio desejado para resgatar seus pontos.</p></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Configurações - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:28px;font-weight:900;margin:0;"><i class="fas fa-cog"></i> Configurações</h1></header><div style="max-width:800px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h3 style="color:#1a1a2e;margin:0 0 16px;">Notificações</h3><label style="display:flex;align-items:center;gap:12px;cursor:pointer;"><input type="checkbox" checked><span style="color:#7c8db0;">Receber notificações</span></label></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Configurar Descontos - Tem de Tudo</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <nav class="nav-bar">
        <ul>
            <li><a href="/dashboard-estabelecimento.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/profile-company.html"><i class="fas fa-building"></i> Painel Empresa</a></li>
            <li><a href="/configurar-descontos.html"><i class="fas fa-percent"></i> Configurar Descontos</a></li>
            <li><a href="/aplicar-desconto.html"><i class="fas fa-tag"></i> Aplicar Desconto</a></li>
            <li><a href="/meus-descontos.html"><i class="fas fa-list"></i> Meus Descontos</a></li>
            <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </nav>

    <div class="page-header">
        <h1 class="page-title"><i class="fas fa-sliders-h"></i> Configurar N?veis de Desconto</h1>
        <p class="page-subtitle">Defina os pontos necess?rios e as porcentagens de desconto para cada n?vel</p>
    </div>

    <div class="container">
        <div class="info-box">
            <i class="fas fa-info-circle"></i>
            <strong>Como funciona:</strong> Os clientes acumulam pontos e automaticamente sobem de n?vel. 
            Cada n?vel oferece uma porcentagem de desconto diferente em suas compras.
        </div>

        <form id="discountForm">
            <!-- Bronze -->
            <div class="level-card bronze">
                <div class="level-header">
                    <span class="level-badge bronze">?? Bronze</span>
                    <span style="color: var(--gray-600); font-size: 0.9rem;">N?vel Inicial</span>
                </div>
                <div class="level-config">
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-star"></i>
                            Pontos M?nimos
                        </label>
                        <input type="number" class="config-input" id="bronze_points" value="0" min="0" readonly>
                    </div>
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-percentage"></i>
                            Desconto (%)
                        </label>
                        <input type="number" class="config-input" id="bronze_discount" value="5" min="0" max="100" step="0.5">
                    </div>
                </div>
            </div>

            <!-- Silver -->
            <div class="level-card silver">
                <div class="level-header">
                    <span class="level-badge silver">?? Prata</span>
                    <span style="color: var(--gray-600); font-size: 0.9rem;">N?vel Intermedi?rio</span>
                </div>
                <div class="level-config">
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-star"></i>
                            Pontos M?nimos
                        </label>
                        <input type="number" class="config-input" id="silver_points" value="1000" min="1">
                    </div>
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-percentage"></i>
                            Desconto (%)
                        </label>
                        <input type="number" class="config-input" id="silver_discount" value="10" min="0" max="100" step="0.5">
                    </div>
                </div>
            </div>

            <!-- Gold -->
            <div class="level-card gold">
                <div class="level-header">
                    <span class="level-badge gold">?? Ouro</span>
                    <span style="color: var(--gray-600); font-size: 0.9rem;">N?vel Avan?ado</span>
                </div>
                <div class="level-config">
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-star"></i>
                            Pontos M?nimos
                        </label>
                        <input type="number" class="config-input" id="gold_points" value="5000" min="1">
                    </div>
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-percentage"></i>
                            Desconto (%)
                        </label>
                        <input type="number" class="config-input" id="gold_discount" value="15" min="0" max="100" step="0.5">
                    </div>
                </div>
            </div>

            <!-- Platinum -->
            <div class="level-card platinum">
                <div class="level-header">
                    <span class="level-badge platinum">?? Platina</span>
                    <span style="color: var(--gray-600); font-size: 0.9rem;">N?vel Premium</span>
                </div>
                <div class="level-config">
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-star"></i>
                            Pontos M?nimos
                        </label>
                        <input type="number" class="config-input" id="platinum_points" value="10000" min="1">
                    </div>
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-percentage"></i>
                            Desconto (%)
                        </label>
                        <input type="number" class="config-input" id="platinum_discount" value="20" min="0" max="100" step="0.5">
                    </div>
                </div>
            </div>

            <!-- Diamond -->
            <div class="level-card diamond">
                <div class="level-header">
                    <span class="level-badge diamond">?? Diamante</span>
                    <span style="color: var(--gray-600); font-size: 0.9rem;">N?vel VIP</span>
                </div>
                <div class="level-config">
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-star"></i>
                            Pontos M?nimos
                        </label>
                        <input type="number" class="config-input" id="diamond_points" value="20000" min="1">
                    </div>
                    <div class="config-field">
                        <label class="config-label">
                            <i class="fas fa-percentage"></i>
                            Desconto (%)
                        </label>
                        <input type="number" class="config-input" id="diamond_discount" value="25" min="0" max="100" step="0.5">
                    </div>
                </div>
            </div>

            <button type="submit" class="save-button">
                <i class="fas fa-save"></i> Salvar Configura??es
            </button>
        </form>
    </div>

    <script>
        function logout() {
            localStorage.removeItem('tem_de_tudo_token');
            localStorage.removeItem('tem_de_tudo_user');
            window.location.href = '/entrar.html';
        }

        function checkAuth() {
            const token = localStorage.getItem('tem_de_tudo_token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return true;
        }

        document.getElementById('discountForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const config = {
                bronze: {
                    points: parseInt(document.getElementById('bronze_points').value),
                    discount: parseFloat(document.getElementById('bronze_discount').value)
                },
                silver: {
                    points: parseInt(document.getElementById('silver_points').value),
                    discount: parseFloat(document.getElementById('silver_discount').value)
                },
                gold: {
                    points: parseInt(document.getElementById('gold_points').value),
                    discount: parseFloat(document.getElementById('gold_discount').value)
                },
                platinum: {
                    points: parseInt(document.getElementById('platinum_points').value),
                    discount: parseFloat(document.getElementById('platinum_discount').value)
                },
                diamond: {
                    points: parseInt(document.getElementById('diamond_points').value),
                    discount: parseFloat(document.getElementById('diamond_discount').value)
                }
            };

            console.log('Configura??o de descontos:', config);
            alert('Configura??es salvas com sucesso!');
        });

        checkAuth();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contato - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #f8f9fa;
            color: #212529;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 12px;
        }
        
        .header p {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            margin-bottom: 24px;
            opacity: 0.9;
        }
        
        .back-link:hover {
            opacity: 1;
        }
        
        .container {
            max-width: 1200px;
            margin: -40px auto 60px;
            padding: 0 20px;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
        }
        
        .contact-form {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .contact-form h2 {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 8px;
            color: #1a1a2e;
        }
        
        .contact-form .subtitle {
            color: #6c757d;
            margin-bottom: 32px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-group label {
            display: block;
            font-weight: 700;
            margin-bottom: 8px;
            color: #212529;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.2s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #0f3460;
        }
        
        .form-group textarea {
            min-height: 140px;
            resize: vertical;
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #1a1a2e, #0f3460);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(26, 26, 46, 0.3);
        }
        
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        .info-card {
            background: white;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .info-card h3 {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 20px;
            color: #1a1a2e;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .info-card .icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #1a1a2e, #0f3460);
            color: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .info-item {
            display: flex;
            align-items: start;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .info-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .info-item i {
            color: #0f3460;
            font-size: 20px;
            margin-top: 4px;
        }
        
        .info-item div {
            flex: 1;
        }
        
        .info-item strong {
            display: block;
            color: #212529;
            margin-bottom: 4px;
        }
        
        .info-item a {
            color: #0f3460;
            text-decoration: none;
        }
        
        .info-item a:hover {
            text-decoration: underline;
        }
        
        .social-links {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }
        
        .social-btn {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #1a1a2e, #0f3460);
            color: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 20px;
            transition: transform 0.2s;
        }
        
        .social-btn:hover {
            transform: translateY(-4px);
        }
        
        .map-container {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .map-container h3 {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #1a1a2e;
        }
        
        .map-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #e9ecef, #dee2e6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 18px;
        }
        
        .faq-section {
            margin-top: 60px;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .faq-section h2 {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 32px;
            text-align: center;
            color: #1a1a2e;
        }
        
        .faq-item {
            padding: 20px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .faq-item:last-child {
            border-bottom: none;
        }
        
        .faq-item h3 {
            font-size: 18px;
            font-weight: 700;
            color: #0f3460;
            margin-bottom: 8px;
        }
        
        .faq-item p {
            color: #6c757d;
            line-height: 1.6;
        }
        
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }
        
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 32px;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Voltar para Home
        </a>
        <h1>Entre em Contato</h1>
        <p>Estamos aqui para ajudar voc? a crescer</p>
    </div>
    
    <div class="container">
        <div class="content-grid">
            <!-- FORMUL?RIO -->
            <div class="contact-form">
                <h2>Envie sua Mensagem</h2>
                <p class="subtitle">Responderemos em at? 24 horas ?teis</p>
                
                <form id="contactForm" onsubmit="handleSubmit(event)">
                    <div class="form-group">
                        <label for="name">Nome Completo *</label>
                        <input type="text" id="name" name="name" required placeholder="Jo?o Silva">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required placeholder="joao@empresa.com.br">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Telefone/WhatsApp</label>
                        <input type="tel" id="phone" name="phone" placeholder="(11) 99999-9999">
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Assunto *</label>
                        <select id="subject" name="subject" required>
                            <option value="">Selecione o assunto</option>
                            <option value="duvida">D?vida sobre o sistema</option>
                            <option value="suporte">Suporte t?cnico</option>
                            <option value="comercial">Consulta comercial</option>
                            <option value="parceria">Proposta de parceria</option>
                            <option value="reclamacao">Reclama??o</option>
                            <option value="outro">Outro assunto</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Mensagem *</label>
                        <textarea id="message" name="message" required placeholder="Descreva sua d?vida ou solicita??o..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn-submit">
                        <i class="fas fa-paper-plane"></i> Enviar Mensagem
                    </button>
                </form>
            </div>
            
            <!-- INFORMA??ES DE CONTATO -->
            <div class="contact-info">
                <div class="info-card">
                    <h3>
                        <div class="icon"><i class="fas fa-headset"></i></div>
                        Atendimento
                    </h3>
                    
                    <div class="info-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <strong>Email</strong>
                            <a href="mailto:contato@temdetudo.com.br">contato@temdetudo.com.br</a>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <i class="fab fa-whatsapp"></i>
                        <div>
                            <strong>WhatsApp</strong>
                            <a href="https://wa.me/5511999999999" target="_blank">(11) 99999-9999</a><br>
                            <small style="color: #6c757d;">Seg-Sex: 9h ?s 18h</small>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <strong>Telefone</strong>
                            <a href="tel:+551138889999">(11) 3888-9999</a><br>
                            <small style="color: #6c757d;">Seg-Sex: 9h ?s 18h</small>
                        </div>
                    </div>
                </div>
                
                <div class="info-card">
                    <h3>
                        <div class="icon"><i class="fas fa-building"></i></div>
                        Escrit?rio
                    </h3>
                    
                    <div class="info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <strong>Endere?o</strong>
                            Av. Paulista, 1000 - Sala 500<br>
                            Bela Vista, S?o Paulo - SP<br>
                            CEP: 01310-100
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <strong>Hor?rio de Funcionamento</strong>
                            Segunda a Sexta: 9h ?s 18h<br>
                            S?bados e Domingos: Fechado
                        </div>
                    </div>
                </div>
                
                <div class="info-card">
                    <h3>
                        <div class="icon"><i class="fas fa-share-alt"></i></div>
                        Redes Sociais
                    </h3>
                    
                    <p style="color: #6c757d; margin-bottom: 16px;">Siga-nos nas redes sociais para novidades e dicas</p>
                    
                    <div class="social-links">
                        <a href="#" class="social-btn" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-btn" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-btn" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="social-btn" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="social-btn" title="Twitter/X">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- MAPA -->
        <div class="map-container" style="margin-top: 32px;">
            <h3><i class="fas fa-map"></i> Como Chegar</h3>
            <div class="map-placeholder">
                <i class="fas fa-map-marked-alt" style="font-size: 48px;"></i>
                <span style="margin-left: 16px;">Mapa de Localiza??o</span>
            </div>
            <p style="margin-top: 16px; color: #6c757d; text-align: center;">
                <strong>Estacionamento:</strong> Conveniado no pr?dio (3h gr?tis)<br>
                <strong>Metr?:</strong> Esta??o Consola??o (Linha Verde) - 5 min a p?
            </p>
        </div>
        
        <!-- FAQ -->
        <div class="faq-section">
            <h2>Perguntas Frequentes</h2>
            
            <div class="faq-item">
                <h3><i class="fas fa-question-circle"></i> Quanto tempo leva para implementar o sistema?</h3>
                <p>A implementa??o completa leva em m?dia 24 horas. Ap?s o cadastro, voc? j? pode come?ar a usar imediatamente.</p>
            </div>
            
            <div class="faq-item">
                <h3><i class="fas fa-question-circle"></i> Posso testar antes de contratar?</h3>
                <p>Sim! Oferecemos 14 dias gr?tis para voc? testar todas as funcionalidades sem compromisso.</p>
            </div>
            
            <div class="faq-item">
                <h3><i class="fas fa-question-circle"></i> Como funciona o suporte t?cnico?</h3>
                <p>Suporte via WhatsApp, email e chat ao vivo de seg-sex das 9h ?s 18h. Planos Premium t?m suporte priorit?rio 24/7.</p>
            </div>
            
            <div class="faq-item">
                <h3><i class="fas fa-question-circle"></i> Preciso de equipamento especial?</h3>
                <p>N?o! Funciona em qualquer smartphone, tablet ou computador com internet. Sem necessidade de hardware adicional.</p>
            </div>
            
            <div class="faq-item">
                <h3><i class="fas fa-question-circle"></i> Posso cancelar a qualquer momento?</h3>
                <p>Sim! Sem multa ou fidelidade. Cancele quando quiser com 7 dias de anteced?ncia.</p>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2025 Tem de Tudo. Todos os direitos reservados.</p>
        <p><a href="index.html" style="color: #0f3460; text-decoration: none;">Voltar para Home</a></p>
    </div>

    <script>
        function handleSubmit(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);
            
            // Simula envio (integrar com backend depois)
            alert('Mensagem enviada com sucesso! Entraremos em contato em breve.');
            
            // Limpa formul?rio
            event.target.reset();
            
            // TODO: Integrar com API Laravel para enviar email
            // fetch('/api/contact', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(data)
            // });
        }
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Cupons - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;909&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:90px;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;"><div style="max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:12px;"><div style="width:42px;height:42px;background:rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-sparkles" style="font-size:20px;"></i></div><div><div style="font-size:18px;font-weight:900;">Cupons e Ofertas</div><div style="font-size:12px;opacity:0.8;">Resgate seus benefícios</div></div></div></header>
<div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><div id="cupons"></div></div>
<nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Início</span></a><a href="/meus-pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav>
<script>async function load(){const token=localStorage.getItem('token');try{const r=await fetch('/api/cliente/cupons',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('cupons').innerHTML=d.length?d.map(c=>`<div style="background:white;border-radius:20px;padding:24px;margin-bottom:16px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h3 style="font-size:18px;font-weight:800;color:#1a1a2e;margin:0 0 8px;">${c.titulo}</h3><p style="color:#7c8db0;font-size:14px;margin:0 0 16px;">${c.descricao}</p><span style="padding:8px 16px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border-radius:20px;font-size:13px;font-weight:700;">Resgatar</span></div>`).join(''):'<div style="text-align:center;padding:60px;color:#7c8db0;">Nenhum cupom disponível</div>';}}catch(e){}}load();</script>
</body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Minhas Empresas - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><i class="fas fa-store"></i> Minhas Empresas</h1>
            <div class="header-actions">
                <button class="btn-icon" onclick="window.location.href='scanner.html'" title="Scanner QR Code">
                    <i class="fas fa-qrcode"></i>
                </button>
                <button class="btn-icon" onclick="window.location.href='app.html'" title="Menu Principal">
                    <i class="fas fa-home"></i>
                </button>
                <button class="btn-icon" onclick="logout()" title="Sair" style="background: #ff4757;">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>

        <!-- Search and Filter -->
        <div class="search-filter">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar empresa..." onkeyup="filtrarEmpresas()">
                <button class="btn-icon" onclick="filtrarEmpresas()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="filter-chips">
                <div class="chip active" data-ramo="todos" onclick="selecionarFiltro(this)">
                    <i class="fas fa-list"></i> Todos
                </div>
                <div class="chip" data-ramo="Restaurante" onclick="selecionarFiltro(this)">
                    <i class="fas fa-utensils"></i> Restaurantes
                </div>
                <div class="chip" data-ramo="Bar" onclick="selecionarFiltro(this)">
                    <i class="fas fa-beer"></i> Bares
                </div>
                <div class="chip" data-ramo="Sal?o" onclick="selecionarFiltro(this)">
                    <i class="fas fa-cut"></i> Sal?es
                </div>
                <div class="chip" data-ramo="Academia" onclick="selecionarFiltro(this)">
                    <i class="fas fa-dumbbell"></i> Academias
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="loading">
            <div><i class="fas fa-spinner"></i></div>
            <div>Carregando suas empresas...</div>
        </div>

        <!-- Empresas Grid -->
        <div id="empresasGrid" class="empresas-grid" style="display: none;"></div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-store-slash"></i>
            <h3>Nenhuma Empresa Encontrada</h3>
            <p>Voc? ainda n?o est? inscrito em nenhuma empresa.</p>
            <button class="btn-primary" onclick="window.location.href='scanner.html'">
                <i class="fas fa-qrcode"></i> Escanear QR Code
            </button>
        </div>
    </div>

    <script>
        const API_BASE = window.location.origin;
        let todasEmpresas = [];
        let filtroAtual = 'todos';

        // Carregar empresas ao iniciar
        document.addEventListener('DOMContentLoaded', () => {
            carregarEmpresas();
        });

        async function carregarEmpresas() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/api/cliente/empresas`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });

                if (!response.ok) {
                    if (response.status === 401) {
                        localStorage.removeItem('token');
                        window.location.href = '/entrar.html';
                        return;
                    }
                    throw new Error('Erro ao carregar empresas');
                }

                const data = await response.json();
                todasEmpresas = data.empresas || [];
                
                document.getElementById('loadingState').style.display = 'none';
                
                if (todasEmpresas.length === 0) {
                    document.getElementById('emptyState').style.display = 'block';
                } else {
                    document.getElementById('empresasGrid').style.display = 'grid';
                    renderizarEmpresas(todasEmpresas);
                }
            } catch (error) {
                console.error('Erro:', error);
                document.getElementById('loadingState').innerHTML = `
                    <div style="color: white;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Erro ao carregar empresas. Tente novamente.</p>
                        <button class="btn-primary" onclick="location.reload()">Recarregar</button>
                    </div>
                `;
            }
        }

        function renderizarEmpresas(empresas) {
            const grid = document.getElementById('empresasGrid');
            
            if (empresas.length === 0) {
                grid.innerHTML = '';
                document.getElementById('emptyState').style.display = 'block';
                return;
            }

            document.getElementById('emptyState').style.display = 'none';
            
            grid.innerHTML = empresas.map(empresa => `
                <div class="empresa-card" onclick="abrirEmpresa(${empresa.id})">
                    ${empresa.progresso_cartoes && empresa.progresso_cartoes.length > 0 ? 
                        `<div class="empresa-badge">${empresa.progresso_cartoes.length} ${empresa.progresso_cartoes.length === 1 ? 'Cart?o' : 'Cart?es'}</div>` 
                        : ''}
                    
                    <div class="empresa-logo">
                        ${getIconeRamo(empresa.ramo)}
                    </div>
                    
                    <div class="empresa-name">${empresa.nome}</div>
                    <div class="empresa-ramo">
                        <i class="fas ${getIconClassRamo(empresa.ramo)}"></i> ${empresa.ramo || 'N?o informado'}
                    </div>
                    
                    <div class="empresa-rating">
                        <div class="stars">${renderStars(empresa.avaliacao_media || 0)}</div>
                        <span class="rating-count">(${empresa.total_avaliacoes || 0})</span>
                    </div>
                    
                    ${empresa.progresso_cartoes && empresa.progresso_cartoes.length > 0 ? `
                        <div class="cartoes-progress">
                            ${empresa.progresso_cartoes.map(cartao => `
                                <div class="cartao-item">
                                    <div class="cartao-header">
                                        <span class="cartao-title">${cartao.cartao.titulo}</span>
                                        <span class="cartao-pontos">${cartao.pontos_atuais}/${cartao.cartao.meta_pontos}</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: ${(cartao.pontos_atuais / cartao.cartao.meta_pontos * 100).toFixed(0)}%"></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function renderStars(rating) {
            const fullStars = Math.floor(rating);
            const halfStar = rating % 1 >= 0.5;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (halfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        function getIconeRamo(ramo) {
            const icones = {
                'Restaurante': '<i class="fas fa-utensils"></i>',
                'Bar': '<i class="fas fa-beer"></i>',
                'Sal?o': '<i class="fas fa-cut"></i>',
                'Academia': '<i class="fas fa-dumbbell"></i>',
                'Cafeteria': '<i class="fas fa-coffee"></i>',
                'Loja': '<i class="fas fa-shopping-bag"></i>',
                'Servi?os': '<i class="fas fa-tools"></i>'
            };
            return icones[ramo] || '<i class="fas fa-store"></i>';
        }

        function getIconClassRamo(ramo) {
            const classes = {
                'Restaurante': 'fa-utensils',
                'Bar': 'fa-beer',
                'Sal?o': 'fa-cut',
                'Academia': 'fa-dumbbell',
                'Cafeteria': 'fa-coffee',
                'Loja': 'fa-shopping-bag',
                'Servi?os': 'fa-tools'
            };
            return classes[ramo] || 'fa-store';
        }

        function selecionarFiltro(element) {
            // Remove active de todos os chips
            document.querySelectorAll('.chip').forEach(chip => chip.classList.remove('active'));
            
            // Adiciona active no chip selecionado
            element.classList.add('active');
            
            // Atualiza filtro atual
            filtroAtual = element.dataset.ramo;
            
            // Filtra empresas
            filtrarEmpresas();
        }

        function filtrarEmpresas() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            const empresasFiltradas = todasEmpresas.filter(empresa => {
                const matchSearch = empresa.nome.toLowerCase().includes(searchTerm);
                const matchRamo = filtroAtual === 'todos' || empresa.ramo === filtroAtual;
                return matchSearch && matchRamo;
            });
            
            renderizarEmpresas(empresasFiltradas);
        }

        function abrirEmpresa(empresaId) {
            window.location.href = `empresa.html?id=${empresaId}`;
        }

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/entrar.html';
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cliente - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/global-unified.css">
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js"></script>
    <script src="/js/api-client.js"></script>
    <script src="/js/ui-helpers.js"></script>
    <script src="/js/auth-guard.js"></script>
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="padding: 0; align-items: flex-start;">
    <div class="container" style="max-width: 1400px; padding: 20px;">
        <!-- Header -->
        <div class="card" style="margin-bottom: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1 style="font-size: 24px; margin-bottom: 5px;">Dashboard Cliente</h1>
                    <p id="welcomeText" style="color: var(--text-secondary);">Carregando...</p>
                </div>
                <button onclick="logout()" class="btn btn-secondary" style="width: auto; padding: 12px 24px;">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </div>

        <!-- EstatÃ­sticas RÃ¡pidas -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
            <div class="card">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 60px; height: 60px; border-radius: 12px; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-star" style="font-size: 24px; color: white;"></i>
                    </div>
                    <div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 5px;">Meus Pontos</p>
                        <h2 id="pontosTotal" style="font-size: 28px; font-weight: 800; color: var(--primary);">...</h2>
                    </div>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 60px; height: 60px; border-radius: 12px; background: linear-gradient(135deg, #10b981, #059669); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-gift" style="font-size: 24px; color: white;"></i>
                    </div>
                    <div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 5px;">PromoÃ§Ãµes Ativas</p>
                        <h2 id="promocoesCount" style="font-size: 28px; font-weight: 800; color: #10b981;">...</h2>
                    </div>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 60px; height: 60px; border-radius: 12px; background: linear-gradient(135deg, #f59e0b, #d97706); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-medal" style="font-size: 24px; color: white;"></i>
                    </div>
                    <div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 5px;">NÃ­vel</p>
                        <h2 id="nivelText" style="font-size: 24px; font-weight: 800; color: #f59e0b; text-transform: capitalize;">...</h2>
                    </div>
                </div>
            </div>
        </div>

        <!-- QR Code e AÃ§Ãµes RÃ¡pidas -->
        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px; margin-bottom: 20px;">
            <div class="card">
                <h3 style="margin-bottom: 15px;">Meu QR Code</h3>
                <div style="text-align: center; padding: 20px;">
                    <div id="qrcode" style="display: inline-block; padding: 20px; background: white; border-radius: 12px;"></div>
                    <p style="margin-top: 15px; color: var(--text-secondary); font-size: 14px;">Mostre na empresa para ganhar pontos</p>
                </div>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 15px;">AÃ§Ãµes RÃ¡pidas</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <button onclick="window.location.href='/app-promocoes.html'" class="btn btn-primary">
                        <i class="fas fa-tags"></i> Ver PromoÃ§Ãµes
                    </button>
                    <button onclick="window.location.href='/app-perfil.html'" class="btn btn-secondary">
                        <i class="fas fa-user"></i> Editar Perfil
                    </button>
                    <button onclick="window.location.href='/app-estabelecimentos.html'" class="btn btn-secondary">
                        <i class="fas fa-store"></i> Estabelecimentos
                    </button>
                    <button onclick="window.location.href='/historico.html'" class="btn btn-secondary">
                        <i class="fas fa-history"></i> HistÃ³rico
                    </button>
                </div>
            </div>
        </div>

        <!-- Ãltimas TransaÃ§Ãµes -->
        <div class="card">
            <h3 style="margin-bottom: 15px;">Ãltimas TransaÃ§Ãµes</h3>
            <div id="transacoes" style="min-height: 200px;">
                <p style="text-align: center; color: var(--text-secondary); padding: 40px;">Carregando...</p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script>
        let userData = null;

        async function loadDashboard() {
            try {
                // Buscar dados do usuÃ¡rio
                const user = await apiClient.get('/api/cliente/me');
                userData = user;
                
                // Atualizar interface
                document.getElementById('welcomeText').textContent = `OlÃ¡, ${user.name}! ð`;
                document.getElementById('pontosTotal').textContent = user.pontos || 0;
                document.getElementById('nivelText').textContent = user.nivel || 'Bronze';
                
                // Gerar QR Code
                new QRCode(document.getElementById('qrcode'), {
                    text: `CLIENTE:${user.id}`,
                    width: 200,
                    height: 200
                });
                
                // Buscar promoÃ§Ãµes
                const promocoes = await apiClient.get('/api/promocoes/ativas');
                document.getElementById('promocoesCount').textContent = promocoes.length || 0;
                
                // Buscar transaÃ§Ãµes
                loadTransacoes();
                
                showToast('Dashboard carregado!', 'success');
            } catch (error) {
                console.error('Erro:', error);
                showToast('Erro ao carregar dados', 'error');
            }
        }

        async function loadTransacoes() {
            try {
                const transacoes = await apiClient.get('/api/cliente/transacoes');
                const html = transacoes.slice(0, 5).map(t => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid var(--border);">
                        <div>
                            <p style="font-weight: 600; margin-bottom: 5px;">${t.descricao || 'Compra'}</p>
                            <p style="font-size: 14px; color: var(--text-secondary);">${new Date(t.created_at).toLocaleDateString('pt-BR')}</p>
                        </div>
                        <div style="text-align: right;">
                            <p style="font-size: 20px; font-weight: 700; color: ${t.pontos > 0 ? 'var(--success)' : 'var(--error)'};">
                                ${t.pontos > 0 ? '+' : ''}${t.pontos} pts
                            </p>
                        </div>
                    </div>
                `).join('');
                
                document.getElementById('transacoes').innerHTML = html || '<p style="text-align: center; color: var(--text-secondary); padding: 40px;">Nenhuma transaÃ§Ã£o ainda</p>';
            } catch (error) {
                console.error('Erro ao carregar transaÃ§Ãµes:', error);
            }
        }

        function logout() {
            if (confirm('Deseja sair?')) {
                authManager.logout();
            }
        }

        // Carregar ao iniciar
        document.addEventListener('DOMContentLoaded', loadDashboard);
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Painel - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        .main {
            padding: var(--space-6) var(--space-4);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-8);
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
        }
        
        .stat-value {
            font-size: 48px;
            font-weight: 900;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--space-2);
        }
        
        .stat-subtitle {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .qrcode-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
        }
        
        .qrcode-box {
            width: 200px;
            height: 200px;
            margin: var(--space-6) auto;
            background: white;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
        }
        
        .qrcode-box img {
            width: 100%;
            height: 100%;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: var(--space-5);
            color: var(--text-primary);
        }
        
        .promocao-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-4);
            transition: all 0.3s;
        }
        
        .promocao-card:hover {
            border-color: var(--border-hover);
            transform: translateX(4px);
        }
        
        .promocao-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-3);
        }
        
        .promocao-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .promocao-empresa {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .promocao-pontos {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 700;
        }
        
        .transacao-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            border-bottom: 1px solid var(--border-color);
        }
        
        .transacao-item:last-child {
            border-bottom: none;
        }
        
        .transacao-info {
            flex: 1;
        }
        
        .transacao-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .transacao-date {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .transacao-pontos {
            font-size: 16px;
            font-weight: 700;
        }
        
        .transacao-pontos.gain {
            color: var(--success);
        }
        
        .transacao-pontos.loss {
            color: var(--error);
        }
        
        .btn-show-qr {
            width: 100%;
            margin-top: var(--space-4);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Meu Painel</h1>
                <p>Bem-vindo de volta, <span id="userName">Cliente</span></p>
            </div>
            <div class="header-right">
                <button class="btn-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Stats -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Meus Pontos</span>
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPontos">0</div>
                <div class="stat-subtitle">DisponÃ­veis para resgatar</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">PromoÃ§Ãµes Ativas</span>
                    <div class="stat-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPromocoes">0</div>
                <div class="stat-subtitle">DisponÃ­veis para resgatar</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Este MÃªs</span>
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosMes">0</div>
                <div class="stat-subtitle">Pontos acumulados</div>
            </div>
        </div>
        
        <!-- QR Code -->
        <div class="qrcode-section">
            <h3 class="section-title">Meu QR Code</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-4);">
                Apresente este cÃ³digo em estabelecimentos parceiros para ganhar pontos
            </p>
            <div class="qrcode-box" id="qrcodeBox">
                <div class="loading-spinner"></div>
            </div>
            <button class="btn-primary btn-show-qr" onclick="showFullQR()">
                <i class="fas fa-expand"></i>
                Mostrar QR Code em Tela Cheia
            </button>
        </div>
        
        <!-- PromoÃ§Ãµes -->
        <div style="margin-top: var(--space-8);">
            <h3 class="section-title">PromoÃ§Ãµes DisponÃ­veis</h3>
            <div id="promocoesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando promoÃ§Ãµes...</p>
                </div>
            </div>
        </div>
        
        <!-- HistÃ³rico -->
        <div style="margin-top: var(--space-8);">
            <h3 class="section-title">HistÃ³rico de Pontos</h3>
            <div class="card">
                <div id="historicoList">
                    <div class="loading" style="text-align: center; padding: var(--space-8);">
                        <div class="loading-spinner"></div>
                        <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando histÃ³rico...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'cliente') {
            window.location.href = '/entrar.html';
        }
        
        // Exibir nome do usuÃ¡rio
        document.getElementById('userName').textContent = user.name || user.email;
        
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/entrar.html';
        }
        
        // Gerar QR Code
        function generateQRCode() {
            const qrcodeBox = document.getElementById('qrcodeBox');
            qrcodeBox.innerHTML = '';
            
            new QRCode(qrcodeBox, {
                text: `TDT-USER-${user.id}`,
                width: 180,
                height: 180,
                colorDark: '#1e293b',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });
        }
        
        function showFullQR() {
            // Implementar modal fullscreen com QR Code
            alert('QR Code em tela cheia - implementar modal');
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar pontos do usuÃ¡rio
                const pontosResponse = await fetch(`${API_URL}/cliente/pontos`, { headers });
                const pontosData = await pontosResponse.json();
                
                if (pontosData.total !== undefined) {
                    document.getElementById('totalPontos').textContent = pontosData.total;
                    document.getElementById('pontosMes').textContent = pontosData.mes || 0;
                }
                
                // Carregar promoÃ§Ãµes
                const promocoesResponse = await fetch(`${API_URL}/promocoes`, { headers });
                const promocoesData = await promocoesResponse.json();
                
                if (promocoesData.promocoes) {
                    renderPromocoes(promocoesData.promocoes);
                    document.getElementById('totalPromocoes').textContent = promocoesData.promocoes.length;
                }
                
                // Carregar histÃ³rico
                const historicoResponse = await fetch(`${API_URL}/cliente/historico`, { headers });
                const historicoData = await historicoResponse.json();
                
                if (historicoData.transacoes) {
                    renderHistorico(historicoData.transacoes);
                }
                
                // Gerar QR Code
                generateQRCode();
                
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }
        
        function renderPromocoes(promocoes) {
            const html = promocoes.length > 0 ? promocoes.map(promo => `
                <div class="promocao-card">
                    <div class="promocao-header">
                        <div>
                            <div class="promocao-title">${promo.titulo}</div>
                            <div class="promocao-empresa">${promo.empresa_nome || 'Estabelecimento'}</div>
                        </div>
                        <div class="promocao-pontos">
                            ${promo.pontos_necessarios} pts
                        </div>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: var(--space-3);">
                        ${promo.descricao || 'Sem descriÃ§Ã£o'}
                    </p>
                    <button class="btn-primary" onclick="resgatarPromocao(${promo.id})">
                        <i class="fas fa-gift"></i> Resgatar
                    </button>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o disponÃ­vel</p>';
            
            document.getElementById('promocoesList').innerHTML = html;
        }
        
        function renderHistorico(transacoes) {
            const html = transacoes.length > 0 ? transacoes.map(t => `
                <div class="transacao-item">
                    <div class="transacao-info">
                        <div class="transacao-title">${t.descricao || 'TransaÃ§Ã£o'}</div>
                        <div class="transacao-date">${new Date(t.created_at).toLocaleDateString('pt-BR')}</div>
                    </div>
                    <div class="transacao-pontos ${t.tipo === 'ganho' ? 'gain' : 'loss'}">
                        ${t.tipo === 'ganho' ? '+' : '-'}${t.pontos}
                    </div>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma transaÃ§Ã£o ainda</p>';
            
            document.getElementById('historicoList').innerHTML = html;
        }
        
        function resgatarPromocao(id) {
            alert(`Resgatar promoÃ§Ã£o ${id} - implementar API`);
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Painel - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        .main {
            padding: var(--space-6) var(--space-4);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-8);
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
        }
        
        .stat-value {
            font-size: 48px;
            font-weight: 900;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--space-2);
        }
        
        .stat-subtitle {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .qrcode-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
        }
        
        .qrcode-box {
            width: 200px;
            height: 200px;
            margin: var(--space-6) auto;
            background: white;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
        }
        
        .qrcode-box img {
            width: 100%;
            height: 100%;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: var(--space-5);
            color: var(--text-primary);
        }
        
        .promocao-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-4);
            transition: all 0.3s;
        }
        
        .promocao-card:hover {
            border-color: var(--border-hover);
            transform: translateX(4px);
        }
        
        .promocao-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-3);
        }
        
        .promocao-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .promocao-empresa {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .promocao-pontos {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 700;
        }
        
        .transacao-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            border-bottom: 1px solid var(--border-color);
        }
        
        .transacao-item:last-child {
            border-bottom: none;
        }
        
        .transacao-info {
            flex: 1;
        }
        
        .transacao-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .transacao-date {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .transacao-pontos {
            font-size: 16px;
            font-weight: 700;
        }
        
        .transacao-pontos.gain {
            color: var(--success);
        }
        
        .transacao-pontos.loss {
            color: var(--error);
        }
        
        .btn-show-qr {
            width: 100%;
            margin-top: var(--space-4);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Meu Painel</h1>
                <p>Bem-vindo de volta, <span id="userName">Cliente</span></p>
            </div>
            <div class="header-right">
                <button class="btn-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Stats -->
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Meus Pontos</span>
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPontos">0</div>
                <div class="stat-subtitle">DisponÃ­veis para resgatar</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">PromoÃ§Ãµes Ativas</span>
                    <div class="stat-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalPromocoes">0</div>
                <div class="stat-subtitle">DisponÃ­veis para resgatar</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Este MÃªs</span>
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosMes">0</div>
                <div class="stat-subtitle">Pontos acumulados</div>
            </div>
        </div>
        
        <!-- QR Code -->
        <div class="qrcode-section">
            <h3 class="section-title">Meu QR Code</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-4);">
                Apresente este cÃ³digo em estabelecimentos parceiros para ganhar pontos
            </p>
            <div class="qrcode-box" id="qrcodeBox">
                <div class="loading-spinner"></div>
            </div>
            <button class="btn-primary btn-show-qr" onclick="showFullQR()">
                <i class="fas fa-expand"></i>
                Mostrar QR Code em Tela Cheia
            </button>
        </div>
        
        <!-- PromoÃ§Ãµes -->
        <div style="margin-top: var(--space-8);">
            <h3 class="section-title">PromoÃ§Ãµes DisponÃ­veis</h3>
            <div id="promocoesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando promoÃ§Ãµes...</p>
                </div>
            </div>
        </div>
        
        <!-- HistÃ³rico -->
        <div style="margin-top: var(--space-8);">
            <h3 class="section-title">HistÃ³rico de Pontos</h3>
            <div class="card">
                <div id="historicoList">
                    <div class="loading" style="text-align: center; padding: var(--space-8);">
                        <div class="loading-spinner"></div>
                        <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando histÃ³rico...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'cliente') {
            window.location.href = '/entrar.html';
        }
        
        // Exibir nome do usuÃ¡rio
        document.getElementById('userName').textContent = user.name || user.email;
        
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/entrar.html';
        }
        
        // Gerar QR Code
        function generateQRCode() {
            const qrcodeBox = document.getElementById('qrcodeBox');
            qrcodeBox.innerHTML = '';
            
            new QRCode(qrcodeBox, {
                text: `TDT-USER-${user.id}`,
                width: 180,
                height: 180,
                colorDark: '#1e293b',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });
        }
        
        function showFullQR() {
            // Implementar modal fullscreen com QR Code
            alert('QR Code em tela cheia - implementar modal');
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar pontos do usuÃ¡rio
                const pontosResponse = await fetch(`${API_URL}/cliente/pontos`, { headers });
                const pontosData = await pontosResponse.json();
                
                if (pontosData.total !== undefined) {
                    document.getElementById('totalPontos').textContent = pontosData.total;
                    document.getElementById('pontosMes').textContent = pontosData.mes || 0;
                }
                
                // Carregar promoÃ§Ãµes
                const promocoesResponse = await fetch(`${API_URL}/promocoes`, { headers });
                const promocoesData = await promocoesResponse.json();
                
                if (promocoesData.promocoes) {
                    renderPromocoes(promocoesData.promocoes);
                    document.getElementById('totalPromocoes').textContent = promocoesData.promocoes.length;
                }
                
                // Carregar histÃ³rico
                const historicoResponse = await fetch(`${API_URL}/cliente/historico`, { headers });
                const historicoData = await historicoResponse.json();
                
                if (historicoData.transacoes) {
                    renderHistorico(historicoData.transacoes);
                }
                
                // Gerar QR Code
                generateQRCode();
                
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }
        
        function renderPromocoes(promocoes) {
            const html = promocoes.length > 0 ? promocoes.map(promo => `
                <div class="promocao-card">
                    <div class="promocao-header">
                        <div>
                            <div class="promocao-title">${promo.titulo}</div>
                            <div class="promocao-empresa">${promo.empresa_nome || 'Estabelecimento'}</div>
                        </div>
                        <div class="promocao-pontos">
                            ${promo.pontos_necessarios} pts
                        </div>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: var(--space-3);">
                        ${promo.descricao || 'Sem descriÃ§Ã£o'}
                    </p>
                    <button class="btn-primary" onclick="resgatarPromocao(${promo.id})">
                        <i class="fas fa-gift"></i> Resgatar
                    </button>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o disponÃ­vel</p>';
            
            document.getElementById('promocoesList').innerHTML = html;
        }
        
        function renderHistorico(transacoes) {
            const html = transacoes.length > 0 ? transacoes.map(t => `
                <div class="transacao-item">
                    <div class="transacao-info">
                        <div class="transacao-title">${t.descricao || 'TransaÃ§Ã£o'}</div>
                        <div class="transacao-date">${new Date(t.created_at).toLocaleDateString('pt-BR')}</div>
                    </div>
                    <div class="transacao-pontos ${t.tipo === 'ganho' ? 'gain' : 'loss'}">
                        ${t.tipo === 'ganho' ? '+' : '-'}${t.pontos}
                    </div>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma transaÃ§Ã£o ainda</p>';
            
            document.getElementById('historicoList').innerHTML = html;
        }
        
        function resgatarPromocao(id) {
            alert(`Resgatar promoÃ§Ã£o ${id} - implementar API`);
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dashboard Empresa - Tem de Tudo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <!-- Loading -->
    <div id="loadingScreen" class="loading-screen">
        <div class="tdt-spinner"></div>
        <p style="color: var(--gray-600); font-weight: 600;">Carregando dashboard...</p>
    </div>

    <!-- Dashboard -->
    <div id="dashboardContent" class="dashboard-layout" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">Tem de Tudo</div>
            
            <ul class="sidebar-menu">
                <li>
                    <a href="/dashboard-empresa.html" class="sidebar-link active">
                        <i class="fas fa-chart-line"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="/empresa-clientes.html" class="sidebar-link">
                        <i class="fas fa-users"></i>
                        Clientes
                    </a>
                </li>
                <li>
                    <a href="/empresa-bonus.html" class="sidebar-link">
                        <i class="fas fa-gift"></i>
                        B?nus Ades?o
                    </a>
                </li>
                <li>
                    <a href="/empresa-cartoes.html" class="sidebar-link">
                        <i class="fas fa-credit-card"></i>
                        Cart?es Fidelidade
                    </a>
                </li>
                <li>
                    <a href="/empresa-promocoes.html" class="sidebar-link">
                        <i class="fas fa-tags"></i>
                        Promo??es
                    </a>
                </li>
                <li>
                    <a href="/empresa-avaliacoes.html" class="sidebar-link">
                        <i class="fas fa-star"></i>
                        Avalia??es
                    </a>
                </li>
                <li>
                    <a href="/scanner.html" class="sidebar-link">
                        <i class="fas fa-qrcode"></i>
                        Scanner QR
                    </a>
                </li>
                <li>
                    <a href="/empresa-qrcode.html" class="sidebar-link">
                        <i class="fas fa-qrcode"></i>
                        Meu QR Code
                    </a>
                </li>
                <li>
                    <a href="/profile-company.html" class="sidebar-link">
                        <i class="fas fa-cog"></i>
                        Configura??es
                    </a>
                </li>
            </ul>

            <div style="margin-top: auto; padding-top: var(--spacing-2xl);">
                <button onclick="logout()" class="tdt-btn i9-btn-error" style="width: 100%;">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Dashboard</h1>
                    <p style="color: var(--gray-600); margin-top: var(--spacing-sm);">
                        Bem-vindo, <span id="empresaNome" style="font-weight: 700;"></span>
                    </p>
                </div>
                <div class="quick-actions">
                    <a href="/scanner.html" class="tdt-btn i9-btn-primary">
                        <i class="fas fa-qrcode"></i> Scanner
                    </a>
                    <a href="/empresa-promocoes.html" class="tdt-btn i9-btn-secondary">
                        <i class="fas fa-plus"></i> Nova Promo??o
                    </a>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div>
                            <div class="stat-label">Total de Clientes</div>
                            <div class="stat-value" id="totalClientes">0</div>
                            <div class="stat-change">
                                <i class="fas fa-arrow-up"></i> +12% este m?s
                            </div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div>
                            <div class="stat-label">Visitas Hoje</div>
                            <div class="stat-value" id="visitasHoje">0</div>
                            <div class="stat-change">
                                <i class="fas fa-arrow-up"></i> +5% ontem
                            </div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div>
                            <div class="stat-label">Avalia??o M?dia</div>
                            <div class="stat-value" id="avaliacaoMedia">0.0</div>
                            <div class="stat-change">
                                <i class="fas fa-star"></i> <span id="totalAvaliacoes">0</span> avalia??es
                            </div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div>
                            <div class="stat-label">Pontos Distribu?dos</div>
                            <div class="stat-value" id="pontosDistribuidos">0</div>
                            <div class="stat-change">
                                <i class="fas fa-trophy"></i> Este m?s
                            </div>
                        </div>
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-grid">
                <div class="chart-card">
                    <h3 class="chart-title">?ltimas Atividades</h3>
                    <ul class="activity-list" id="activityList">
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Novo cliente inscrito</div>
                                <div class="activity-time">H? 5 minutos</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-qrcode"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Check-in realizado</div>
                                <div class="activity-time">H? 12 minutos</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Nova avalia??o recebida - 5 estrelas</div>
                                <div class="activity-time">H? 1 hora</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Cart?o fidelidade completado</div>
                                <div class="activity-time">H? 2 horas</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="chart-card">
                    <h3 class="chart-title">A??es R?pidas</h3>
                    <div style="display: flex; flex-direction: column; gap: var(--spacing-md);">
                        <a href="/empresa-bonus.html" class="tdt-btn i9-btn-outline" style="justify-content: flex-start;">
                            <i class="fas fa-gift"></i> Criar B?nus de Ades?o
                        </a>
                        <a href="/empresa-cartoes.html" class="tdt-btn i9-btn-outline" style="justify-content: flex-start;">
                            <i class="fas fa-credit-card"></i> Novo Cart?o Fidelidade
                        </a>
                        <a href="/empresa-promocoes.html" class="tdt-btn i9-btn-outline" style="justify-content: flex-start;">
                            <i class="fas fa-bullhorn"></i> Criar Promo??o Flash
                        </a>
                        <a href="/scanner.html" class="tdt-btn i9-btn-outline" style="justify-content: flex-start;">
                            <i class="fas fa-qrcode"></i> Escanear QR Code
                        </a>
                        <a href="/empresa-qrcode.html" class="tdt-btn i9-btn-outline" style="justify-content: flex-start;">
                            <i class="fas fa-download"></i> Baixar Meu QR Code
                        </a>
                    </div>
                </div>
            </div>

            <!-- Recent Clients -->
            <div class="table-card">
                <h3 class="chart-title">Clientes Recentes</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Cliente</th>
                            <th>?ltima Visita</th>
                            <th>Pontos</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="clientesTable">
                        <tr>
                            <td colspan="4" style="text-align: center; padding: var(--spacing-2xl); color: var(--gray-500);">
                                <i class="fas fa-users fa-2x" style="opacity: 0.3; margin-bottom: var(--spacing-md);"></i>
                                <div>Nenhum cliente ainda</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
        const API_BASE = window.location.origin;

        document.addEventListener('DOMContentLoaded', () => {
            verificarAutenticacao();
            carregarDashboard();
        });

        function verificarAutenticacao() {
            const token = localStorage.getItem('token');
            const userType = localStorage.getItem('user_type');

            if (!token || userType !== 'empresa') {
                window.location.href = '/entrar.html';
                return;
            }
        }

        async function carregarDashboard() {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user'));

            // Atualizar nome da empresa
            document.getElementById('empresaNome').textContent = user.name || 'Empresa';

            try {
                // Carregar dados da empresa
                const empresaResponse = await fetch(`${API_BASE}/api/empresa/me`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });

                if (empresaResponse.ok) {
                    const empresaData = await empresaResponse.json();
                    const empresa = empresaData.empresa;

                    // Atualizar stats
                    document.getElementById('avaliacaoMedia').textContent = (empresa.avaliacao_media || 0).toFixed(1);
                    document.getElementById('totalAvaliacoes').textContent = empresa.total_avaliacoes || 0;
                }

                // TODO: Carregar demais estat?sticas (clientes, visitas, pontos)
                // Esses endpoints ser?o criados posteriormente

                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('dashboardContent').style.display = 'grid';
            } catch (error) {
                console.error('Erro ao carregar dashboard:', error);
                document.getElementById('loadingScreen').innerHTML = `
                    <div style="text-align: center; color: var(--error);">
                        <i class="fas fa-exclamation-triangle fa-3x"></i>
                        <p style="margin-top: var(--spacing-md);">Erro ao carregar dashboard</p>
                        <button onclick="location.reload()" class="tdt-btn i9-btn-primary" style="margin-top: var(--spacing-lg);">
                            Tentar Novamente
                        </button>
                    </div>
                `;
            }
        }

        function logout() {
            authManager.logout();
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Empresa - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        .main {
            padding: var(--space-6) var(--space-4);
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }
        
        .action-btn {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
        }
        
        .action-btn:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .action-btn i {
            font-size: 32px;
            margin-bottom: var(--space-3);
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .action-btn .label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .scanner-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .scanner-box {
            width: 100%;
            max-width: 400px;
            height: 300px;
            margin: var(--space-6) auto;
            background: var(--bg-primary);
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: var(--space-4);
        }
        
        .scanner-box i {
            font-size: 64px;
            color: var(--purple-1);
        }
        
        .cliente-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
            transition: all 0.3s;
        }
        
        .cliente-card:hover {
            border-color: var(--border-hover);
            transform: translateX(4px);
        }
        
        .cliente-info {
            flex: 1;
        }
        
        .cliente-name {
            font-size: 15px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .cliente-email {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .cliente-pontos {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 700;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-8);
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .stat-icon.purple {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
        }
        
        .stat-icon.green {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
        }
        
        .stat-icon.orange {
            background: rgba(249, 115, 22, 0.15);
            color: var(--warning);
        }
        
        .stat-value {
            font-size: 48px;
            font-weight: 900;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--space-2);
        }
        
        .stat-subtitle {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-5);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Painel da Empresa</h1>
                <p>Gerencie seus clientes e promoÃ§Ãµes</p>
            </div>
            <div class="header-right">
                <div class="user-info" style="text-align: right; margin-right: var(--space-4);">
                    <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);" id="empresaNome">Empresa</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Estabelecimento</div>
                </div>
                <button class="btn-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <a href="#scanner" class="action-btn" onclick="showScanner(); return false;">
                <i class="fas fa-qrcode"></i>
                <div class="label">Scanner QR</div>
            </a>
            <a href="/empresa-nova-promocao.html" class="action-btn">
                <i class="fas fa-plus-circle"></i>
                <div class="label">Nova PromoÃ§Ã£o</div>
            </a>
            <a href="/empresa-clientes.html" class="action-btn">
                <i class="fas fa-users"></i>
                <div class="label">Clientes</div>
            </a>
            <a href="/empresa-relatorios.html" class="action-btn">
                <i class="fas fa-chart-bar"></i>
                <div class="label">RelatÃ³rios</div>
            </a>
        </div>
        
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de Clientes</span>
                    <div class="stat-icon purple">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalClientes">0</div>
                <div class="stat-subtitle">Cadastrados na plataforma</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Pontos Hoje</span>
                    <div class="stat-icon green">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosHoje">0</div>
                <div class="stat-subtitle">DistribuÃ­dos hoje</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Pontos MÃªs</span>
                    <div class="stat-icon orange">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosMes">0</div>
                <div class="stat-subtitle">DistribuÃ­dos este mÃªs</div>
            </div>
        </div>
        
        <!-- Scanner Section -->
        <div class="scanner-section" id="scannerSection" style="display: none;">
            <h3 class="section-title">Scanner de QR Code</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-4);">
                Escaneie o QR Code do cliente para dar pontos
            </p>
            <div class="scanner-box">
                <i class="fas fa-camera"></i>
                <p style="color: var(--text-muted);">Clique para ativar a cÃ¢mera</p>
                <button class="btn-primary" onclick="activateCamera()">
                    <i class="fas fa-camera"></i>
                    Ativar CÃ¢mera
                </button>
            </div>
            <button class="btn-secondary" onclick="hideScanner()">
                Fechar Scanner
            </button>
        </div>
        
        <!-- Clientes Recentes -->
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Clientes Recentes</h3>
                <a href="/empresa-clientes.html" class="btn-secondary">
                    Ver Todos
                </a>
            </div>
            <div id="clientesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando clientes...</p>
                </div>
            </div>
        </div>
        
        <!-- PromoÃ§Ãµes Ativas -->
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">PromoÃ§Ãµes Ativas</h3>
                <a href="/empresa-promocoes.html" class="btn-secondary">
                    Gerenciar
                </a>
            </div>
            <div id="promocoesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando promoÃ§Ãµes...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'empresa') {
            window.location.href = '/entrar.html';
        }
        
        // Exibir nome da empresa
        document.getElementById('empresaNome').textContent = user.name || user.email;
        
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/entrar.html';
        }
        
        function showScanner() {
            document.getElementById('scannerSection').style.display = 'block';
            window.scrollTo({ top: document.getElementById('scannerSection').offsetTop - 100, behavior: 'smooth' });
        }
        
        function hideScanner() {
            document.getElementById('scannerSection').style.display = 'none';
        }
        
        function activateCamera() {
            alert('Ativar cÃ¢mera para scanner - implementar com biblioteca de QR Code');
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar estatÃ­sticas
                const statsResponse = await fetch(`${API_URL}/empresa/stats`, { headers });
                const statsData = await statsResponse.json();
                
                if (statsData.total_clientes !== undefined) {
                    document.getElementById('totalClientes').textContent = statsData.total_clientes;
                    document.getElementById('pontosHoje').textContent = statsData.pontos_hoje || 0;
                    document.getElementById('pontosMes').textContent = statsData.pontos_mes || 0;
                }
                
                // Carregar clientes recentes
                const clientesResponse = await fetch(`${API_URL}/empresa/clientes?limit=5`, { headers });
                const clientesData = await clientesResponse.json();
                
                if (clientesData.clientes) {
                    renderClientes(clientesData.clientes);
                }
                
                // Carregar promoÃ§Ãµes
                const promocoesResponse = await fetch(`${API_URL}/empresa/promocoes`, { headers });
                const promocoesData = await promocoesResponse.json();
                
                if (promocoesData.promocoes) {
                    renderPromocoes(promocoesData.promocoes);
                }
                
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                // Em caso de erro, mostrar dados mockados
                document.getElementById('totalClientes').textContent = '0';
                document.getElementById('pontosHoje').textContent = '0';
                document.getElementById('pontosMes').textContent = '0';
                document.getElementById('clientesList').innerHTML = '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhum cliente cadastrado</p>';
                document.getElementById('promocoesList').innerHTML = '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o ativa</p>';
            }
        }
        
        function renderClientes(clientes) {
            const html = clientes.length > 0 ? clientes.map(cliente => `
                <div class="cliente-card">
                    <div class="cliente-info">
                        <div class="cliente-name">${cliente.name}</div>
                        <div class="cliente-email">${cliente.email}</div>
                    </div>
                    <div class="cliente-pontos">
                        ${cliente.pontos || 0} pts
                    </div>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhum cliente cadastrado</p>';
            
            document.getElementById('clientesList').innerHTML = html;
        }
        
        function renderPromocoes(promocoes) {
            const html = promocoes.length > 0 ? `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>PromoÃ§Ã£o</th>
                                <th>Pontos</th>
                                <th>Status</th>
                                <th>AÃ§Ãµes</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${promocoes.map(promo => `
                                <tr>
                                    <td style="font-weight: 600;">${promo.titulo}</td>
                                    <td>${promo.pontos_necessarios} pts</td>
                                    <td><span class="badge badge-success">Ativa</span></td>
                                    <td>
                                        <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;" onclick="editarPromocao(${promo.id})">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            ` : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o ativa</p>';
            
            document.getElementById('promocoesList').innerHTML = html;
        }
        
        function editarPromocao(id) {
            window.location.href = `/empresa-nova-promocao.html?id=${id}`;
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Empresa - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        .main {
            padding: var(--space-6) var(--space-4);
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }
        
        .action-btn {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
        }
        
        .action-btn:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .action-btn i {
            font-size: 32px;
            margin-bottom: var(--space-3);
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .action-btn .label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .scanner-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .scanner-box {
            width: 100%;
            max-width: 400px;
            height: 300px;
            margin: var(--space-6) auto;
            background: var(--bg-primary);
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: var(--space-4);
        }
        
        .scanner-box i {
            font-size: 64px;
            color: var(--purple-1);
        }
        
        .cliente-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
            transition: all 0.3s;
        }
        
        .cliente-card:hover {
            border-color: var(--border-hover);
            transform: translateX(4px);
        }
        
        .cliente-info {
            flex: 1;
        }
        
        .cliente-name {
            font-size: 15px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }
        
        .cliente-email {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .cliente-pontos {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 700;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-8);
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }
        
        .stat-label {
            font-size: 13px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .stat-icon.purple {
            background: rgba(102, 126, 234, 0.15);
            color: var(--purple-1);
        }
        
        .stat-icon.green {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
        }
        
        .stat-icon.orange {
            background: rgba(249, 115, 22, 0.15);
            color: var(--warning);
        }
        
        .stat-value {
            font-size: 48px;
            font-weight: 900;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--space-2);
        }
        
        .stat-subtitle {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-5);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Painel da Empresa</h1>
                <p>Gerencie seus clientes e promoÃ§Ãµes</p>
            </div>
            <div class="header-right">
                <div class="user-info" style="text-align: right; margin-right: var(--space-4);">
                    <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);" id="empresaNome">Empresa</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Estabelecimento</div>
                </div>
                <button class="btn-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>
    
    <div class="main">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <a href="#scanner" class="action-btn" onclick="showScanner(); return false;">
                <i class="fas fa-qrcode"></i>
                <div class="label">Scanner QR</div>
            </a>
            <a href="/empresa-nova-promocao.html" class="action-btn">
                <i class="fas fa-plus-circle"></i>
                <div class="label">Nova PromoÃ§Ã£o</div>
            </a>
            <a href="/empresa-clientes.html" class="action-btn">
                <i class="fas fa-users"></i>
                <div class="label">Clientes</div>
            </a>
            <a href="/empresa-relatorios.html" class="action-btn">
                <i class="fas fa-chart-bar"></i>
                <div class="label">RelatÃ³rios</div>
            </a>
        </div>
        
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Total de Clientes</span>
                    <div class="stat-icon purple">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalClientes">0</div>
                <div class="stat-subtitle">Cadastrados na plataforma</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Pontos Hoje</span>
                    <div class="stat-icon green">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosHoje">0</div>
                <div class="stat-subtitle">DistribuÃ­dos hoje</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-label">Pontos MÃªs</span>
                    <div class="stat-icon orange">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                </div>
                <div class="stat-value" id="pontosMes">0</div>
                <div class="stat-subtitle">DistribuÃ­dos este mÃªs</div>
            </div>
        </div>
        
        <!-- Scanner Section -->
        <div class="scanner-section" id="scannerSection" style="display: none;">
            <h3 class="section-title">Scanner de QR Code</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-4);">
                Escaneie o QR Code do cliente para dar pontos
            </p>
            <div class="scanner-box">
                <i class="fas fa-camera"></i>
                <p style="color: var(--text-muted);">Clique para ativar a cÃ¢mera</p>
                <button class="btn-primary" onclick="activateCamera()">
                    <i class="fas fa-camera"></i>
                    Ativar CÃ¢mera
                </button>
            </div>
            <button class="btn-secondary" onclick="hideScanner()">
                Fechar Scanner
            </button>
        </div>
        
        <!-- Clientes Recentes -->
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Clientes Recentes</h3>
                <a href="/empresa-clientes.html" class="btn-secondary">
                    Ver Todos
                </a>
            </div>
            <div id="clientesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando clientes...</p>
                </div>
            </div>
        </div>
        
        <!-- PromoÃ§Ãµes Ativas -->
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">PromoÃ§Ãµes Ativas</h3>
                <a href="/empresa-promocoes.html" class="btn-secondary">
                    Gerenciar
                </a>
            </div>
            <div id="promocoesList">
                <div class="loading" style="text-align: center; padding: var(--space-8);">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: var(--space-4); color: var(--text-muted);">Carregando promoÃ§Ãµes...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        // Verificar autenticaÃ§Ã£o
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token || user.tipo !== 'empresa') {
            window.location.href = '/entrar.html';
        }
        
        // Exibir nome da empresa
        document.getElementById('empresaNome').textContent = user.name || user.email;
        
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/entrar.html';
        }
        
        function showScanner() {
            document.getElementById('scannerSection').style.display = 'block';
            window.scrollTo({ top: document.getElementById('scannerSection').offsetTop - 100, behavior: 'smooth' });
        }
        
        function hideScanner() {
            document.getElementById('scannerSection').style.display = 'none';
        }
        
        function activateCamera() {
            alert('Ativar cÃ¢mera para scanner - implementar com biblioteca de QR Code');
        }
        
        // Carregar dados
        async function loadData() {
            try {
                const headers = {
                    'Authorization': `Bearer ${token}`,
                    'Accept': 'application/json'
                };
                
                // Carregar estatÃ­sticas
                const statsResponse = await fetch(`${API_URL}/empresa/stats`, { headers });
                const statsData = await statsResponse.json();
                
                if (statsData.total_clientes !== undefined) {
                    document.getElementById('totalClientes').textContent = statsData.total_clientes;
                    document.getElementById('pontosHoje').textContent = statsData.pontos_hoje || 0;
                    document.getElementById('pontosMes').textContent = statsData.pontos_mes || 0;
                }
                
                // Carregar clientes recentes
                const clientesResponse = await fetch(`${API_URL}/empresa/clientes?limit=5`, { headers });
                const clientesData = await clientesResponse.json();
                
                if (clientesData.clientes) {
                    renderClientes(clientesData.clientes);
                }
                
                // Carregar promoÃ§Ãµes
                const promocoesResponse = await fetch(`${API_URL}/empresa/promocoes`, { headers });
                const promocoesData = await promocoesResponse.json();
                
                if (promocoesData.promocoes) {
                    renderPromocoes(promocoesData.promocoes);
                }
                
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                // Em caso de erro, mostrar dados mockados
                document.getElementById('totalClientes').textContent = '0';
                document.getElementById('pontosHoje').textContent = '0';
                document.getElementById('pontosMes').textContent = '0';
                document.getElementById('clientesList').innerHTML = '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhum cliente cadastrado</p>';
                document.getElementById('promocoesList').innerHTML = '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o ativa</p>';
            }
        }
        
        function renderClientes(clientes) {
            const html = clientes.length > 0 ? clientes.map(cliente => `
                <div class="cliente-card">
                    <div class="cliente-info">
                        <div class="cliente-name">${cliente.name}</div>
                        <div class="cliente-email">${cliente.email}</div>
                    </div>
                    <div class="cliente-pontos">
                        ${cliente.pontos || 0} pts
                    </div>
                </div>
            `).join('') : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhum cliente cadastrado</p>';
            
            document.getElementById('clientesList').innerHTML = html;
        }
        
        function renderPromocoes(promocoes) {
            const html = promocoes.length > 0 ? `
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>PromoÃ§Ã£o</th>
                                <th>Pontos</th>
                                <th>Status</th>
                                <th>AÃ§Ãµes</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${promocoes.map(promo => `
                                <tr>
                                    <td style="font-weight: 600;">${promo.titulo}</td>
                                    <td>${promo.pontos_necessarios} pts</td>
                                    <td><span class="badge badge-success">Ativa</span></td>
                                    <td>
                                        <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;" onclick="editarPromocao(${promo.id})">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            ` : '<p style="color: var(--text-muted); text-align: center; padding: var(--space-6);">Nenhuma promoÃ§Ã£o ativa</p>';
            
            document.getElementById('promocoesList').innerHTML = html;
        }
        
        function editarPromocao(id) {
            window.location.href = `/empresa-nova-promocao.html?id=${id}`;
        }
        
        // Carregar dados ao iniciar
        loadData();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bônus - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f;
            color: #ffffff;
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 260px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }
        .logo {
            padding: 0 24px 24px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            margin-bottom: 24px;
        }
        .logo h1 { font-size: 24px; font-weight: 900; color: #667eea; }
        .logo p { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        .nav-menu { list-style: none; }
        .nav-item { padding: 0 16px; margin-bottom: 4px; }
        .nav-link {
            display: flex; align-items: center; padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7); text-decoration: none;
            border-radius: 12px; transition: all 0.3s; font-size: 14px; font-weight: 500;
        }
        .nav-link i { margin-right: 12px; font-size: 18px; width: 24px; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .nav-link.active { background: rgba(102, 126, 234, 0.15); color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
        .main-content { margin-left: 260px; flex: 1; padding: 32px; }
        .header { margin-bottom: 32px; }
        .header h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
        .header p { color: rgba(255, 255, 255, 0.6); font-size: 14px; }
        .bonus-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px; }
        .bonus-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 32px; transition: all 0.3s;
        }
        .bonus-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3); border-color: rgba(102, 126, 234, 0.3); }
        .bonus-icon { font-size: 56px; margin-bottom: 16px; }
        .bonus-title { font-size: 20px; font-weight: 800; margin-bottom: 8px; color: #667eea; }
        .bonus-desc { font-size: 14px; color: rgba(255, 255, 255, 0.7); margin-bottom: 24px; line-height: 1.6; }
        .bonus-value { font-size: 36px; font-weight: 900; color: #f39c12; margin-bottom: 16px; }
        .bonus-toggle { display: flex; align-items: center; justify-content: space-between; padding: 16px; background: rgba(102, 126, 234, 0.1); border-radius: 12px; margin-bottom: 16px; }
        .bonus-toggle-label { font-size: 14px; font-weight: 600; }
        .toggle-switch { position: relative; width: 56px; height: 28px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255, 255, 255, 0.1); transition: 0.4s; border-radius: 28px;
        }
        .toggle-slider:before {
            position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px;
            background-color: white; transition: 0.4s; border-radius: 50%;
        }
        input:checked + .toggle-slider { background-color: #667eea; }
        input:checked + .toggle-slider:before { transform: translateX(28px); }
        .bonus-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .bonus-stat { text-align: center; }
        .bonus-stat-value { font-size: 24px; font-weight: 800; color: #667eea; }
        .bonus-stat-label { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 16px; }
            .bonus-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item"><a href="empresa-dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i>Dashboard</a></li>
            <li class="nav-item"><a href="empresa-qrcode.html" class="nav-link"><i class="fas fa-qrcode"></i>QR Code</a></li>
            <li class="nav-item"><a href="empresa-scanner.html" class="nav-link"><i class="fas fa-camera"></i>Scanner</a></li>
            <li class="nav-item"><a href="empresa-clientes.html" class="nav-link"><i class="fas fa-users"></i>Clientes</a></li>
            <li class="nav-item"><a href="empresa-promocoes.html" class="nav-link"><i class="fas fa-gift"></i>Promoções</a></li>
            <li class="nav-item"><a href="empresa-bonus.html" class="nav-link active"><i class="fas fa-star"></i>Bônus</a></li>
            <li class="nav-item"><a href="empresa-notificacoes.html" class="nav-link"><i class="fas fa-bell"></i>Notificações</a></li>
            <li class="nav-item"><a href="empresa-relatorios.html" class="nav-link"><i class="fas fa-file-alt"></i>Relatórios</a></li>
            <li class="nav-item"><a href="empresa-configuracoes.html" class="nav-link"><i class="fas fa-cog"></i>Configurações</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <h2>Bônus e Recompensas</h2>
            <p>Configure bônus automáticos para seus clientes</p>
        </div>

        <div class="bonus-grid">
            <div class="bonus-card">
                <div class="bonus-icon">??</div>
                <div class="bonus-title">Bônus de Adesão</div>
                <div class="bonus-desc">Pontos creditados automaticamente quando um novo cliente se cadastra no seu estabelecimento</div>
                <div class="bonus-value">200 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Ativo</span>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">347</div>
                        <div class="bonus-stat-label">Novos este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">69.400</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>

            <div class="bonus-card">
                <div class="bonus-icon">??</div>
                <div class="bonus-title">Bônus de Aniversário</div>
                <div class="bonus-desc">Presente especial no dia do aniversário do cliente para aumentar fidelização e engajamento</div>
                <div class="bonus-value">500 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Ativo</span>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">28</div>
                        <div class="bonus-stat-label">Este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">14.000</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>

            <div class="bonus-card">
                <div class="bonus-icon">??</div>
                <div class="bonus-title">Bônus de Fidelidade</div>
                <div class="bonus-desc">Recompensa especial para clientes que atingem 10 visitas consecutivas mensais</div>
                <div class="bonus-value">1.000 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Ativo</span>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">12</div>
                        <div class="bonus-stat-label">Este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">12.000</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>

            <div class="bonus-card">
                <div class="bonus-icon">??</div>
                <div class="bonus-title">Bônus de Indicação</div>
                <div class="bonus-desc">Cliente ganha pontos ao indicar amigos que se cadastram usando seu código de referência</div>
                <div class="bonus-value">300 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Desativado</span>
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">0</div>
                        <div class="bonus-stat-label">Este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">0</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>

            <div class="bonus-card">
                <div class="bonus-icon">?</div>
                <div class="bonus-title">Bônus por Avaliação</div>
                <div class="bonus-desc">Recompensa clientes que deixam avaliação 5 estrelas para o estabelecimento</div>
                <div class="bonus-value">100 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Ativo</span>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">89</div>
                        <div class="bonus-stat-label">Este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">8.900</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>

            <div class="bonus-card">
                <div class="bonus-icon">??</div>
                <div class="bonus-title">Bônus Streak</div>
                <div class="bonus-desc">Pontos extras para clientes que visitam o estabelecimento 3 vezes na mesma semana</div>
                <div class="bonus-value">250 pts</div>
                <div class="bonus-toggle">
                    <span class="bonus-toggle-label">Desativado</span>
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="bonus-stats">
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">0</div>
                        <div class="bonus-stat-label">Este mês</div>
                    </div>
                    <div class="bonus-stat">
                        <div class="bonus-stat-value">0</div>
                        <div class="bonus-stat-label">Pontos totais</div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <title>Meus Clientes - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; padding-bottom: 40px; }
        
        .header { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 20px; 
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-top {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        .back-btn {
            width: 44px;
            height: 44px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
        }
        .header h1 { font-size: 24px; font-weight: 900; }
        .header p { font-size: 13px; color: #b0b0b0; margin-top: 4px; }
        
        .search-bar {
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .search-bar i { color: #667eea; }
        .search-bar input {
            flex: 1;
            background: none;
            border: none;
            color: #fff;
            font-size: 14px;
            outline: none;
        }
        .search-bar input::placeholder { color: #666; }
        
        .content { padding: 20px; }
        
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }
        .stat-mini {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }
        .stat-mini-value { font-size: 24px; font-weight: 900; color: #667eea; }
        .stat-mini-label { font-size: 11px; color: #b0b0b0; text-transform: uppercase; margin-top: 4px; }
        
        .clientes-grid { display: grid; gap: 12px; }
        
        .cliente-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s;
        }
        .cliente-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .cliente-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 16px;
        }
        .cliente-avatar {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 900;
            flex-shrink: 0;
        }
        .cliente-info {
            flex: 1;
        }
        .cliente-nome {
            font-size: 17px;
            font-weight: 800;
            margin-bottom: 4px;
        }
        .cliente-email {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .cliente-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding-top: 16px;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
        }
        .cliente-stat {
            text-align: center;
        }
        .cliente-stat-value {
            font-size: 18px;
            font-weight: 800;
            color: #667eea;
        }
        .cliente-stat-label {
            font-size: 11px;
            color: #666;
            margin-top: 4px;
        }
        
        .loading, .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        .loading i, .empty-state i {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        @media (max-width: 480px) {
            .header h1 { font-size: 20px; }
            .cliente-stats { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-top">
            <button class="back-btn" onclick="history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div>
                <h1>Meus Clientes</h1>
                <p id="totalInfo">Carregando...</p>
            </div>
        </div>
        
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Buscar por nome ou email..." oninput="filterClientes()">
        </div>
    </div>
    
    <div class="content">
        <div class="stats-row">
            <div class="stat-mini">
                <div class="stat-mini-value" id="totalClientes">0</div>
                <div class="stat-mini-label">Total</div>
            </div>
            <div class="stat-mini">
                <div class="stat-mini-value" id="clientesAtivos">0</div>
                <div class="stat-mini-label">Ativos</div>
            </div>
            <div class="stat-mini">
                <div class="stat-mini-value" id="pontosTotal">0</div>
                <div class="stat-mini-label">Pontos</div>
            </div>
        </div>
        
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando clientes...</p>
        </div>
        
        <div id="clientes-grid" class="clientes-grid" style="display: none;"></div>
        
        <div id="empty-state" class="empty-state" style="display: none;">
            <i class="fas fa-users"></i>
            <p>Nenhum cliente encontrado</p>
        </div>
    </div>
    
    <script>
        let allClientes = [];
        
        function checkAuth() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return token;
        }
        
        async function loadClientes() {
            const token = checkAuth();
            if (!token) return;

            try {
                const response = await fetch('/api/empresa/clientes', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    allClientes = result.data || [];
                    
                    console.log('Clientes carregados:', allClientes.length);
                    
                    if (allClientes.length > 0) {
                        renderClientes(allClientes);
                        updateStats();
                    } else {
                        showEmptyState();
                    }
                } else if (response.status === 401) {
                    window.location.href = '/entrar.html';
                } else {
                    console.error('Erro na resposta:', response.status);
                    showEmptyState();
                }
            } catch (error) {
                console.error('Erro ao carregar clientes:', error);
                showEmptyState();
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }
        
        function updateStats() {
            const totalPontos = allClientes.reduce((sum, c) => sum + (c.total_pontos || 0), 0);
            const clientesAtivos = allClientes.filter(c => (c.total_transacoes || 0) > 0).length;
            
            document.getElementById('totalClientes').textContent = allClientes.length;
            document.getElementById('clientesAtivos').textContent = clientesAtivos;
            document.getElementById('pontosTotal').textContent = totalPontos.toLocaleString('pt-BR');
            document.getElementById('totalInfo').textContent = `${allClientes.length} ${allClientes.length === 1 ? 'cliente' : 'clientes'}`;
        }
        
        function renderClientes(clientes) {
            const grid = document.getElementById('clientes-grid');
            
            grid.innerHTML = clientes.map(cliente => {
                const inicial = (cliente.cliente_nome || 'C')[0].toUpperCase();
                const ultimaVisita = cliente.ultima_visita ? 
                    new Date(cliente.ultima_visita).toLocaleDateString('pt-BR') : 
                    'Nunca';
                
                return `
                    <div class="cliente-card">
                        <div class="cliente-header">
                            <div class="cliente-avatar">${inicial}</div>
                            <div class="cliente-info">
                                <div class="cliente-nome">${cliente.cliente_nome}</div>
                                <div class="cliente-email">${cliente.cliente_email || 'Email não informado'}</div>
                            </div>
                        </div>
                        
                        <div class="cliente-stats">
                            <div class="cliente-stat">
                                <div class="cliente-stat-value">${cliente.total_pontos || 0}</div>
                                <div class="cliente-stat-label">Pontos</div>
                            </div>
                            <div class="cliente-stat">
                                <div class="cliente-stat-value">${cliente.total_transacoes || 0}</div>
                                <div class="cliente-stat-label">Visitas</div>
                            </div>
                            <div class="cliente-stat">
                                <div class="cliente-stat-value" style="font-size: 12px;">${ultimaVisita}</div>
                                <div class="cliente-stat-label">Última</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            grid.style.display = 'grid';
        }
        
        function filterClientes() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            let filtered = allClientes;
            
            if (searchTerm) {
                filtered = allClientes.filter(c => {
                    return (c.cliente_nome && c.cliente_nome.toLowerCase().includes(searchTerm)) ||
                           (c.cliente_email && c.cliente_email.toLowerCase().includes(searchTerm));
                });
            }
            
            if (filtered.length > 0) {
                renderClientes(filtered);
                document.getElementById('empty-state').style.display = 'none';
            } else {
                document.getElementById('clientes-grid').style.display = 'none';
                document.getElementById('empty-state').style.display = 'block';
            }
        }
        
        function showEmptyState() {
            document.getElementById('empty-state').style.display = 'block';
            document.getElementById('totalInfo').textContent = '0 clientes';
        }
        
        document.addEventListener('DOMContentLoaded', loadClientes);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Configurações - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f; color: #ffffff; display: flex; min-height: 100vh;
        }
        .sidebar {
            width: 260px; background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0; position: fixed; height: 100vh; overflow-y: auto;
        }
        .logo { padding: 0 24px 24px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); margin-bottom: 24px; }
        .logo h1 { font-size: 24px; font-weight: 900; color: #667eea; }
        .logo p { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        .nav-menu { list-style: none; }
        .nav-item { padding: 0 16px; margin-bottom: 4px; }
        .nav-link {
            display: flex; align-items: center; padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7); text-decoration: none;
            border-radius: 12px; transition: all 0.3s; font-size: 14px; font-weight: 500;
        }
        .nav-link i { margin-right: 12px; font-size: 18px; width: 24px; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .nav-link.active { background: rgba(102, 126, 234, 0.15); color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
        .main-content { margin-left: 260px; flex: 1; padding: 32px; max-width: 1000px; }
        .header { margin-bottom: 32px; }
        .header h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
        .header p { color: rgba(255, 255, 255, 0.6); font-size: 14px; }
        .settings-section {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 32px; margin-bottom: 24px;
        }
        .section-title { font-size: 20px; font-weight: 800; margin-bottom: 24px; color: #667eea; }
        .form-row { margin-bottom: 24px; }
        .form-label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .form-input, .form-textarea {
            width: 100%; padding: 12px 16px;
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px; color: white; font-size: 14px; font-family: inherit;
        }
        .form-textarea { min-height: 100px; resize: vertical; }
        .form-input::placeholder, .form-textarea::placeholder { color: rgba(255, 255, 255, 0.4); }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; }
        .toggle-setting {
            display: flex; justify-content: space-between; align-items: center;
            padding: 16px; background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 12px; margin-bottom: 12px;
        }
        .toggle-setting-info { flex: 1; }
        .toggle-setting-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .toggle-setting-desc { font-size: 12px; color: rgba(255, 255, 255, 0.6); }
        .toggle-switch { position: relative; width: 56px; height: 28px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255, 255, 255, 0.1); transition: 0.4s; border-radius: 28px;
        }
        .toggle-slider:before {
            position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px;
            background-color: white; transition: 0.4s; border-radius: 50%;
        }
        input:checked + .toggle-slider { background-color: #667eea; }
        input:checked + .toggle-slider:before { transform: translateX(28px); }
        .save-btn {
            padding: 14px 32px; background: linear-gradient(135deg, #667eea, #764ba2);
            border: none; border-radius: 12px; color: white; font-size: 14px; font-weight: 700;
            cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 8px;
        }
        .save-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4); }
        .danger-zone {
            background: linear-gradient(145deg, rgba(231, 76, 60, 0.1), rgba(192, 57, 43, 0.1));
            border: 1px solid rgba(231, 76, 60, 0.3);
        }
        .danger-btn {
            padding: 12px 24px; background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.4); border-radius: 12px;
            color: #e74c3c; font-size: 13px; font-weight: 600;
            cursor: pointer; transition: all 0.3s;
        }
        .danger-btn:hover { background: #e74c3c; color: white; }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 16px; }
            .form-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item"><a href="empresa-dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i>Dashboard</a></li>
            <li class="nav-item"><a href="empresa-qrcode.html" class="nav-link"><i class="fas fa-qrcode"></i>QR Code</a></li>
            <li class="nav-item"><a href="empresa-scanner.html" class="nav-link"><i class="fas fa-camera"></i>Scanner</a></li>
            <li class="nav-item"><a href="empresa-clientes.html" class="nav-link"><i class="fas fa-users"></i>Clientes</a></li>
            <li class="nav-item"><a href="empresa-promocoes.html" class="nav-link"><i class="fas fa-gift"></i>Promoções</a></li>
            <li class="nav-item"><a href="empresa-bonus.html" class="nav-link"><i class="fas fa-star"></i>Bônus</a></li>
            <li class="nav-item"><a href="empresa-notificacoes.html" class="nav-link"><i class="fas fa-bell"></i>Notificações</a></li>
            <li class="nav-item"><a href="empresa-relatorios.html" class="nav-link"><i class="fas fa-file-alt"></i>Relatórios</a></li>
            <li class="nav-item"><a href="empresa-configuracoes.html" class="nav-link active"><i class="fas fa-cog"></i>Configurações</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <h2>Configurações</h2>
            <p>Gerencie as configurações do seu estabelecimento</p>
        </div>

        <div class="settings-section">
            <h3 class="section-title"><i class="fas fa-store"></i> Informações do Estabelecimento</h3>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Nome do Estabelecimento</label>
                    <input type="text" class="form-input" value="Popeye Hamburguer" placeholder="Nome comercial">
                </div>
                <div class="form-row">
                    <label class="form-label">Categoria</label>
                    <select class="form-input">
                        <option selected>Restaurante</option>
                        <option>Beleza & Estética</option>
                        <option>Fitness</option>
                        <option>Serviços</option>
                        <option>Lazer</option>
                        <option>Saúde</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <label class="form-label">Descrição</label>
                <textarea class="form-textarea" placeholder="Conte aos clientes sobre seu negócio...">A melhor hamburgueria da região! Hambúrgueres artesanais preparados com ingredientes frescos e de qualidade.</textarea>
            </div>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Telefone</label>
                    <input type="tel" class="form-input" value="(11) 98765-4321" placeholder="(00) 00000-0000">
                </div>
                <div class="form-row">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" value="contato@popeye.com" placeholder="contato@empresa.com">
                </div>
            </div>
            <div class="form-row">
                <label class="form-label">Endereço Completo</label>
                <input type="text" class="form-input" value="Av. Paulista, 1000 - Bela Vista, São Paulo - SP" placeholder="Rua, número, bairro, cidade">
            </div>
            <button class="save-btn"><i class="fas fa-save"></i> Salvar Alterações</button>
        </div>

        <div class="settings-section">
            <h3 class="section-title"><i class="fas fa-clock"></i> Horário de Funcionamento</h3>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Segunda a Sexta</label>
                    <input type="text" class="form-input" value="11:00 - 23:00" placeholder="00:00 - 00:00">
                </div>
                <div class="form-row">
                    <label class="form-label">Sábado</label>
                    <input type="text" class="form-input" value="11:00 - 00:00" placeholder="00:00 - 00:00">
                </div>
                <div class="form-row">
                    <label class="form-label">Domingo</label>
                    <input type="text" class="form-input" value="11:00 - 22:00" placeholder="00:00 - 00:00">
                </div>
                <div class="form-row">
                    <label class="form-label">Feriados</label>
                    <input type="text" class="form-input" value="12:00 - 20:00" placeholder="00:00 - 00:00">
                </div>
            </div>
            <button class="save-btn"><i class="fas fa-save"></i> Salvar Horários</button>
        </div>

        <div class="settings-section">
            <h3 class="section-title"><i class="fas fa-coins"></i> Pontuação e Recompensas</h3>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Pontos por Real Gasto</label>
                    <input type="number" class="form-input" value="10" placeholder="Ex: 10 pontos">
                </div>
                <div class="form-row">
                    <label class="form-label">Valor Mínimo para Pontos</label>
                    <input type="number" class="form-input" value="10" placeholder="R$ 0,00">
                </div>
                <div class="form-row">
                    <label class="form-label">Validade dos Pontos (dias)</label>
                    <input type="number" class="form-input" value="90" placeholder="Ex: 90 dias">
                </div>
                <div class="form-row">
                    <label class="form-label">Multiplicador Premium</label>
                    <input type="number" class="form-input" value="2" placeholder="Ex: 2x">
                </div>
            </div>
            <button class="save-btn"><i class="fas fa-save"></i> Salvar Configurações</button>
        </div>

        <div class="settings-section">
            <h3 class="section-title"><i class="fas fa-bell"></i> Notificações</h3>
            <div class="toggle-setting">
                <div class="toggle-setting-info">
                    <div class="toggle-setting-title">Notificações Push</div>
                    <div class="toggle-setting-desc">Enviar notificações para clientes sobre promoções</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="toggle-setting">
                <div class="toggle-setting-info">
                    <div class="toggle-setting-title">Email Marketing</div>
                    <div class="toggle-setting-desc">Enviar emails promocionais semanais</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="toggle-setting">
                <div class="toggle-setting-info">
                    <div class="toggle-setting-title">SMS</div>
                    <div class="toggle-setting-desc">Enviar SMS em datas especiais (aniversários, etc)</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <div class="settings-section danger-zone">
            <h3 class="section-title"><i class="fas fa-exclamation-triangle"></i> Zona de Perigo</h3>
            <div class="form-row">
                <label class="form-label">Ações Irreversíveis</label>
                <p style="font-size: 13px; color: rgba(255,255,255,0.6); margin-bottom: 16px;">
                    Essas ações não podem ser desfeitas. Tenha certeza antes de prosseguir.
                </p>
                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                    <button class="danger-btn"><i class="fas fa-trash"></i> Excluir Todos os Dados</button>
                    <button class="danger-btn"><i class="fas fa-ban"></i> Desativar Conta</button>
                    <button class="danger-btn"><i class="fas fa-sign-out-alt"></i> Sair da Plataforma</button>
                </div>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <title>Dashboard Empresa - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; }
        
        .header { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 24px 20px; 
            border-bottom: 1px solid rgba(102, 126, 234, 0.1); 
        }
        .header h1 { font-size: 28px; font-weight: 900; margin-bottom: 8px; }
        .header p { font-size: 14px; color: #b0b0b0; }
        
        .stats-grid { 
            padding: 20px; 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 16px; 
        }
        
        .stat-card { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border-radius: 16px; 
            padding: 24px; 
            border: 1px solid rgba(102, 126, 234, 0.1); 
        }
        .stat-label { font-size: 13px; color: #b0b0b0; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        .stat-value { font-size: 36px; font-weight: 900; color: #667eea; }
        .stat-subtitle { font-size: 12px; color: #666; margin-top: 8px; }
        
        .content { padding: 0 20px 40px; }
        
        .section-card { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border-radius: 16px; 
            padding: 24px; 
            margin-bottom: 20px; 
            border: 1px solid rgba(102, 126, 234, 0.1); 
        }
        .section-title { 
            font-size: 18px; 
            font-weight: 800; 
            margin-bottom: 20px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        .section-title i { color: #667eea; }
        
        .list-item { 
            background: rgba(102, 126, 234, 0.05); 
            border: 1px solid rgba(102, 126, 234, 0.1); 
            border-radius: 12px; 
            padding: 16px; 
            margin-bottom: 12px; 
        }
        .list-item:last-child { margin-bottom: 0; }
        .list-item strong { color: #667eea; font-size: 15px; }
        .list-item small { color: #666; font-size: 12px; }
        .list-item .points { color: #f39c12; font-weight: 700; }
        
        .nav-buttons {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        .nav-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            text-decoration: none;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        .logout-btn { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        
        @media (max-width: 480px) {
            .header h1 { font-size: 24px; }
            .stat-value { font-size: 28px; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <h1 id="empresaNome">Dashboard Empresa</h1>
        <p id="empresaInfo">Carregando...</p>
    </div>
    
    <div id="loading" class="loading">
        <i class="fas fa-spinner fa-spin" style="font-size: 48px;"></i>
        <p style="margin-top: 20px;">Carregando dashboard...</p>
    </div>
    
    <div id="content" style="display: none;">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-users"></i> Total Clientes</div>
                <div class="stat-value" id="totalClientes">0</div>
                <div class="stat-subtitle">Clientes únicos</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-coins"></i> Pontos Distribuídos</div>
                <div class="stat-value" id="pontosDistribuidos">0</div>
                <div class="stat-subtitle">Total de pontos</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-qrcode"></i> Check-ins Hoje</div>
                <div class="stat-value" id="checkinsHoje">0</div>
                <div class="stat-subtitle">Últimas 24h</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label"><i class="fas fa-star"></i> Avaliação Média</div>
                <div class="stat-value" id="avaliacaoMedia">5.0</div>
                <div class="stat-subtitle">Baseado em avaliações</div>
            </div>
        </div>
        
        <div class="nav-buttons">
            <a href="empresa-scanner.html" class="nav-btn">
                <i class="fas fa-qrcode"></i> Escanear Cliente
            </a>
            <a href="empresa-clientes.html" class="nav-btn">
                <i class="fas fa-users"></i> Ver Clientes
            </a>
            <a href="empresa-promocoes.html" class="nav-btn">
                <i class="fas fa-gift"></i> Promoções
            </a>
            <a href="empresa-qrcode.html" class="nav-btn">
                <i class="fas fa-qrcode"></i> Meus QR Codes
            </a>
            <a href="empresa-relatorios.html" class="nav-btn">
                <i class="fas fa-chart-bar"></i> Relatórios
            </a>
            <button onclick="logout()" class="nav-btn logout-btn">
                <i class="fas fa-sign-out-alt"></i> Sair
            </button>
        </div>
        
        <div class="content">
            <div class="section-card" id="clientesCard" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-crown"></i>
                    <span>Top Clientes</span>
                </h3>
                <div id="topClientesList"></div>
            </div>
            
            <div class="section-card" id="avaliacoesCard" style="display: none;">
                <h3 class="section-title">
                    <i class="fas fa-star"></i>
                    <span>Avaliações Recentes</span>
                </h3>
                <div id="avaliacoesList"></div>
            </div>
        </div>
    </div>
    
    <script>
        let dashboardData = null;
        
        function checkAuth() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return token;
        }
        
        function logout() {
            if (confirm('Deseja realmente sair?')) {
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = '/entrar.html';
            }
        }
        
        async function loadDashboard() {
            const token = checkAuth();
            if (!token) return;

            try {
                const response = await fetch('/api/empresa/dashboard', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    dashboardData = result.data;
                    
                    console.log('Dashboard carregado:', dashboardData);
                    renderDashboard();
                } else if (response.status === 401) {
                    logout();
                } else {
                    console.error('Erro na resposta:', response.status);
                    showError();
                }
            } catch (error) {
                console.error('Erro ao carregar dashboard:', error);
                showError();
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('content').style.display = 'block';
            }
        }
        
        function renderDashboard() {
            const { empresa, total_clientes, pontos_distribuidos, checkins_hoje, avaliacao_media, top_clientes, avaliacoes_recentes } = dashboardData;
            
            document.getElementById('empresaNome').textContent = empresa.nome;
            document.getElementById('empresaInfo').textContent = `${empresa.ramo} ? ${empresa.cidade || 'São Paulo'}`;
            
            document.getElementById('totalClientes').textContent = total_clientes || 0;
            document.getElementById('pontosDistribuidos').textContent = (pontos_distribuidos || 0).toLocaleString('pt-BR');
            document.getElementById('checkinsHoje').textContent = checkins_hoje || 0;
            document.getElementById('avaliacaoMedia').textContent = (avaliacao_media || 5.0).toFixed(1);
            
            if (top_clientes && top_clientes.length > 0) {
                document.getElementById('clientesCard').style.display = 'block';
                renderTopClientes(top_clientes);
            }
            
            if (avaliacoes_recentes && avaliacoes_recentes.length > 0) {
                document.getElementById('avaliacoesCard').style.display = 'block';
                renderAvaliacoes(avaliacoes_recentes);
            }
        }
        
        function renderTopClientes(clientes) {
            const list = document.getElementById('topClientesList');
            
            list.innerHTML = clientes.slice(0, 5).map((cliente, index) => {
                const medals = ['??', '??', '??'];
                const medal = medals[index] || '??';
                
                return `
                    <div class="list-item">
                        <strong>${medal} ${cliente.cliente_nome}</strong><br>
                        <span class="points">${cliente.total_pontos} pontos</span> ?
                        <small>${cliente.total_transacoes} transações</small>
                    </div>
                `;
            }).join('');
        }
        
        function renderAvaliacoes(avaliacoes) {
            const list = document.getElementById('avaliacoesList');
            
            list.innerHTML = avaliacoes.slice(0, 5).map(av => {
                const stars = '?'.repeat(av.nota);
                const date = new Date(av.created_at).toLocaleDateString('pt-BR');
                
                return `
                    <div class="list-item">
                        <strong>${av.cliente_nome}</strong> ? ${stars}<br>
                        ${av.comentario ? `<p style="margin: 8px 0; color: #b0b0b0;">${av.comentario}</p>` : ''}
                        <small>${date}</small>
                    </div>
                `;
            }).join('');
        }
        
        function showError() {
            document.getElementById('empresaNome').textContent = 'Erro ao carregar';
            document.getElementById('empresaInfo').textContent = 'Tente novamente mais tarde';
        }
        
        document.addEventListener('DOMContentLoaded', loadDashboard);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Notificações - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f; color: #ffffff; display: flex; min-height: 100vh;
        }
        .sidebar {
            width: 260px; background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0; position: fixed; height: 100vh; overflow-y: auto;
        }
        .logo { padding: 0 24px 24px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); margin-bottom: 24px; }
        .logo h1 { font-size: 24px; font-weight: 900; color: #667eea; }
        .logo p { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        .nav-menu { list-style: none; }
        .nav-item { padding: 0 16px; margin-bottom: 4px; }
        .nav-link {
            display: flex; align-items: center; padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7); text-decoration: none;
            border-radius: 12px; transition: all 0.3s; font-size: 14px; font-weight: 500;
        }
        .nav-link i { margin-right: 12px; font-size: 18px; width: 24px; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .nav-link.active { background: rgba(102, 126, 234, 0.15); color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
        .main-content { margin-left: 260px; flex: 1; padding: 32px; }
        .header { margin-bottom: 32px; display: flex; justify-content: space-between; align-items: center; }
        .header-left h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
        .header-left p { color: rgba(255, 255, 255, 0.6); font-size: 14px; }
        .create-btn {
            padding: 14px 32px; background: linear-gradient(135deg, #667eea, #764ba2);
            border: none; border-radius: 12px; color: white; font-size: 14px; font-weight: 700;
            cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 8px;
        }
        .create-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4); }
        .notif-list { max-width: 800px; }
        .notif-item {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 24px; margin-bottom: 16px;
            display: flex; align-items: flex-start; gap: 16px; transition: all 0.3s;
        }
        .notif-item:hover { border-color: rgba(102, 126, 234, 0.3); }
        .notif-icon {
            width: 48px; height: 48px; background: rgba(102, 126, 234, 0.1);
            border-radius: 12px; display: flex; align-items: center; justify-content: center;
            font-size: 24px; flex-shrink: 0;
        }
        .notif-content { flex: 1; }
        .notif-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
        .notif-title { font-size: 16px; font-weight: 700; }
        .notif-time { font-size: 12px; color: rgba(255, 255, 255, 0.5); }
        .notif-message { font-size: 14px; color: rgba(255, 255, 255, 0.7); line-height: 1.6; margin-bottom: 16px; }
        .notif-actions { display: flex; gap: 12px; }
        .notif-btn {
            padding: 8px 16px; background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 8px;
            color: #667eea; font-size: 12px; font-weight: 600;
            cursor: pointer; transition: all 0.3s;
        }
        .notif-btn:hover { background: #667eea; color: white; }
        .modal {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.8); z-index: 1000;
            align-items: center; justify-content: center; padding: 24px;
        }
        .modal-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 24px; padding: 32px; max-width: 500px; width: 100%;
        }
        .modal-title { font-size: 24px; font-weight: 800; margin-bottom: 24px; color: #667eea; }
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .form-input, .form-textarea {
            width: 100%; padding: 12px 16px;
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px; color: white; font-size: 14px; font-family: inherit;
        }
        .form-textarea { min-height: 120px; resize: vertical; }
        .form-input::placeholder, .form-textarea::placeholder { color: rgba(255, 255, 255, 0.4); }
        .modal-actions { display: flex; gap: 12px; justify-content: flex-end; }
        .modal-btn {
            padding: 12px 24px; border: none; border-radius: 12px;
            font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.3s;
        }
        .modal-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2); color: white;
        }
        .modal-btn.primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4); }
        .modal-btn.secondary {
            background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.7);
        }
        .modal-btn.secondary:hover { background: rgba(255, 255, 255, 0.15); }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 16px; }
            .header { flex-direction: column; align-items: flex-start; gap: 16px; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item"><a href="empresa-dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i>Dashboard</a></li>
            <li class="nav-item"><a href="empresa-qrcode.html" class="nav-link"><i class="fas fa-qrcode"></i>QR Code</a></li>
            <li class="nav-item"><a href="empresa-scanner.html" class="nav-link"><i class="fas fa-camera"></i>Scanner</a></li>
            <li class="nav-item"><a href="empresa-clientes.html" class="nav-link"><i class="fas fa-users"></i>Clientes</a></li>
            <li class="nav-item"><a href="empresa-promocoes.html" class="nav-link"><i class="fas fa-gift"></i>Promoções</a></li>
            <li class="nav-item"><a href="empresa-bonus.html" class="nav-link"><i class="fas fa-star"></i>Bônus</a></li>
            <li class="nav-item"><a href="empresa-notificacoes.html" class="nav-link active"><i class="fas fa-bell"></i>Notificações</a></li>
            <li class="nav-item"><a href="empresa-relatorios.html" class="nav-link"><i class="fas fa-file-alt"></i>Relatórios</a></li>
            <li class="nav-item"><a href="empresa-configuracoes.html" class="nav-link"><i class="fas fa-cog"></i>Configurações</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <div class="header-left">
                <h2>Notificações Push</h2>
                <p>Envie comunicados para seus clientes</p>
            </div>
            <button class="create-btn" onclick="openModal()">
                <i class="fas fa-plus"></i> Nova Notificação
            </button>
        </div>

        <div class="notif-list">
            <div class="notif-item">
                <div class="notif-icon" style="color: #667eea;">??</div>
                <div class="notif-content">
                    <div class="notif-header">
                        <div class="notif-title">Promoção: Dobro de Pontos</div>
                        <div class="notif-time">Hoje, 10:30</div>
                    </div>
                    <div class="notif-message">
                        "?? Aproveite! Dobro de pontos em compras acima de R$ 50 até domingo. Não perca!"
                    </div>
                    <div class="notif-actions">
                        <button class="notif-btn">?? Ver Estatísticas (1.247 visualizações)</button>
                        <button class="notif-btn">?? Reenviar</button>
                    </div>
                </div>
            </div>

            <div class="notif-item">
                <div class="notif-icon" style="color: #e74c3c;">??</div>
                <div class="notif-content">
                    <div class="notif-header">
                        <div class="notif-title">Nova Promoção Pizza</div>
                        <div class="notif-time">Ontem, 15:45</div>
                    </div>
                    <div class="notif-message">
                        "?? Compre 2 pizzas grandes e ganhe 1 broto grátis! Válido até sexta-feira."
                    </div>
                    <div class="notif-actions">
                        <button class="notif-btn">?? Ver Estatísticas (856 visualizações)</button>
                        <button class="notif-btn">?? Reenviar</button>
                    </div>
                </div>
            </div>

            <div class="notif-item">
                <div class="notif-icon" style="color: #f39c12;">?</div>
                <div class="notif-content">
                    <div class="notif-header">
                        <div class="notif-title">Avalie Nossa Experiência</div>
                        <div class="notif-time">Há 3 dias</div>
                    </div>
                    <div class="notif-message">
                        "? Nos ajude a melhorar! Avalie sua última visita e ganhe 100 pontos de bônus."
                    </div>
                    <div class="notif-actions">
                        <button class="notif-btn">?? Ver Estatísticas (423 visualizações)</button>
                        <button class="notif-btn">?? Reenviar</button>
                    </div>
                </div>
            </div>

            <div class="notif-item">
                <div class="notif-icon" style="color: #27ae60;">??</div>
                <div class="notif-content">
                    <div class="notif-header">
                        <div class="notif-title">Bônus de Aniversário Ativo</div>
                        <div class="notif-time">Há 1 semana</div>
                    </div>
                    <div class="notif-message">
                        "?? Aniversariantes do mês ganham 500 pontos! Comemore com a gente."
                    </div>
                    <div class="notif-actions">
                        <button class="notif-btn">?? Ver Estatísticas (2.134 visualizações)</button>
                        <button class="notif-btn">?? Reenviar</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="modal" id="notifModal">
        <div class="modal-content">
            <h3 class="modal-title">Nova Notificação Push</h3>
            <div class="form-group">
                <label class="form-label">Título da Notificação</label>
                <input type="text" class="form-input" placeholder="Ex: Promoção Especial de Fim de Semana">
            </div>
            <div class="form-group">
                <label class="form-label">Mensagem</label>
                <textarea class="form-textarea" placeholder="Ex: Aproveite 30% de desconto em todo cardápio neste sábado e domingo!"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">Enviar para</label>
                <select class="form-input">
                    <option>Todos os clientes (2.847)</option>
                    <option>Apenas clientes Premium (487)</option>
                    <option>Clientes inativos há 30 dias (124)</option>
                    <option>Clientes frequentes (698)</option>
                </select>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="closeModal()">Cancelar</button>
                <button class="modal-btn primary" onclick="sendNotif()">Enviar Agora</button>
            </div>
        </div>
    </div>

    <script>
        function openModal() {
            document.getElementById('notifModal').style.display = 'flex';
        }
        function closeModal() {
            document.getElementById('notifModal').style.display = 'none';
        }
        function sendNotif() {
            alert('Notificação enviada com sucesso!');
            closeModal();
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nova Promoção - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f; color: #ffffff; display: flex; min-height: 100vh;
        }
        .sidebar {
            width: 260px; background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0; position: fixed; height: 100vh; overflow-y: auto;
        }
        .logo { padding: 0 24px 24px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); margin-bottom: 24px; }
        .logo h1 { font-size: 24px; font-weight: 900; color: #667eea; }
        .logo p { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        .nav-menu { list-style: none; }
        .nav-item { padding: 0 16px; margin-bottom: 4px; }
        .nav-link {
            display: flex; align-items: center; padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7); text-decoration: none;
            border-radius: 12px; transition: all 0.3s; font-size: 14px; font-weight: 500;
        }
        .nav-link i { margin-right: 12px; font-size: 18px; width: 24px; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .nav-link.active { background: rgba(102, 126, 234, 0.15); color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
        .main-content { margin-left: 260px; flex: 1; padding: 32px; max-width: 800px; }
        .header { margin-bottom: 32px; }
        .header h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
        .header p { color: rgba(255, 255, 255, 0.6); font-size: 14px; }
        .form-section {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 32px; margin-bottom: 24px;
        }
        .section-title { font-size: 18px; font-weight: 800; margin-bottom: 24px; color: #667eea; }
        .form-row { margin-bottom: 20px; }
        .form-label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .form-input, .form-textarea, .form-select {
            width: 100%; padding: 12px 16px;
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px; color: white; font-size: 14px; font-family: inherit;
        }
        .form-textarea { min-height: 100px; resize: vertical; }
        .form-input::placeholder, .form-textarea::placeholder { color: rgba(255, 255, 255, 0.4); }
        .form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .form-actions {
            display: flex; gap: 16px; justify-content: flex-end; margin-top: 32px;
        }
        .btn {
            padding: 14px 32px; border: none; border-radius: 12px;
            font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.3s;
            display: flex; align-items: center; gap: 8px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2); color: white;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4); }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.7);
        }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.15); }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 16px; }
            .form-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item"><a href="empresa-dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i>Dashboard</a></li>
            <li class="nav-item"><a href="empresa-qrcode.html" class="nav-link"><i class="fas fa-qrcode"></i>QR Code</a></li>
            <li class="nav-item"><a href="empresa-scanner.html" class="nav-link"><i class="fas fa-camera"></i>Scanner</a></li>
            <li class="nav-item"><a href="empresa-clientes.html" class="nav-link"><i class="fas fa-users"></i>Clientes</a></li>
            <li class="nav-item"><a href="empresa-promocoes.html" class="nav-link active"><i class="fas fa-gift"></i>Promoções</a></li>
            <li class="nav-item"><a href="empresa-bonus.html" class="nav-link"><i class="fas fa-star"></i>Bônus</a></li>
            <li class="nav-item"><a href="empresa-notificacoes.html" class="nav-link"><i class="fas fa-bell"></i>Notificações</a></li>
            <li class="nav-item"><a href="empresa-relatorios.html" class="nav-link"><i class="fas fa-file-alt"></i>Relatórios</a></li>
            <li class="nav-item"><a href="empresa-configuracoes.html" class="nav-link"><i class="fas fa-cog"></i>Configurações</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <h2>Nova Promoção</h2>
            <p>Crie uma nova promoção para seus clientes</p>
        </div>

        <div class="form-section">
            <h3 class="section-title">Informações Básicas</h3>
            <div class="form-row">
                <label class="form-label">Título da Promoção</label>
                <input type="text" class="form-input" placeholder="Ex: Dobro de Pontos no Final de Semana">
            </div>
            <div class="form-row">
                <label class="form-label">Descrição</label>
                <textarea class="form-textarea" placeholder="Descreva os detalhes da promoção para que os clientes entendam como funciona..."></textarea>
            </div>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Tipo de Promoção</label>
                    <select class="form-select">
                        <option>Dobro de Pontos</option>
                        <option>Desconto Percentual</option>
                        <option>Brinde Grátis</option>
                        <option>Pontos Extras Fixos</option>
                        <option>Combo Especial</option>
                    </select>
                </div>
                <div class="form-row">
                    <label class="form-label">Valor da Promoção</label>
                    <input type="text" class="form-input" placeholder="Ex: 2x, 30%, R$ 50">
                </div>
            </div>
        </div>

        <div class="form-section">
            <h3 class="section-title">Período e Condições</h3>
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">Data de Início</label>
                    <input type="date" class="form-input">
                </div>
                <div class="form-row">
                    <label class="form-label">Data de Término</label>
                    <input type="date" class="form-input">
                </div>
            </div>
            <div class="form-row">
                <label class="form-label">Valor Mínimo de Compra (opcional)</label>
                <input type="number" class="form-input" placeholder="R$ 0,00">
            </div>
            <div class="form-row">
                <label class="form-label">Limite de Uso por Cliente (opcional)</label>
                <input type="number" class="form-input" placeholder="Ex: 1, 5, ilimitado">
            </div>
        </div>

        <div class="form-section">
            <h3 class="section-title">Público-Alvo</h3>
            <div class="form-row">
                <label class="form-label">Quem pode usar esta promoção?</label>
                <select class="form-select">
                    <option>Todos os clientes</option>
                    <option>Apenas clientes Premium</option>
                    <option>Novos clientes</option>
                    <option>Clientes inativos</option>
                    <option>Clientes frequentes</option>
                </select>
            </div>
        </div>

        <div class="form-actions">
            <button class="btn btn-secondary" onclick="location.href='empresa-promocoes.html'">
                <i class="fas fa-times"></i>
                Cancelar
            </button>
            <button class="btn btn-primary" onclick="createPromo()">
                <i class="fas fa-check"></i>
                Criar Promoção
            </button>
        </div>
    </main>

    <script>
        function createPromo() {
            alert('Promoção criada com sucesso!');
            location.href = 'empresa-promocoes.html';
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <title>Gerenciar Promoções - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; min-height: 100vh; color: #fff; padding-bottom: 40px; }
        
        .header { 
            background: linear-gradient(145deg, #1a1a2e, #16213e); 
            padding: 20px; 
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-top {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        .back-btn {
            width: 44px;
            height: 44px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
        }
        .header h1 { font-size: 24px; font-weight: 900; }
        .header p { font-size: 13px; color: #b0b0b0; margin-top: 4px; }
        
        .add-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 12px;
            padding: 16px;
            color: #fff;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }
        
        .content { padding: 20px; }
        
        .promo-list { display: grid; gap: 12px; }
        
        .promo-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px;
            padding: 20px;
            position: relative;
        }
        
        .promo-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }
        .badge-ativo { background: rgba(76, 175, 80, 0.2); color: #4caf50; border: 1px solid #4caf50; }
        .badge-inativo { background: rgba(244, 67, 54, 0.2); color: #f44336; border: 1px solid #f44336; }
        
        .promo-header {
            margin-bottom: 12px;
        }
        .promo-nome {
            font-size: 17px;
            font-weight: 800;
            margin-bottom: 6px;
        }
        .promo-descricao {
            font-size: 13px;
            color: #b0b0b0;
            line-height: 1.5;
        }
        
        .promo-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 16px 0;
            padding: 16px 0;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }
        .promo-info-item {
            font-size: 12px;
        }
        .promo-info-label {
            color: #666;
            margin-bottom: 4px;
        }
        .promo-info-value {
            font-weight: 700;
            color: #667eea;
        }
        
        .promo-actions {
            display: flex;
            gap: 8px;
        }
        .btn-action {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .btn-edit {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }
        .btn-delete {
            background: rgba(244, 67, 54, 0.1);
            color: #f44336;
            border: 1px solid rgba(244, 67, 54, 0.3);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        
        .modal-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 20px;
            padding: 24px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        .modal-header h2 { font-size: 20px; font-weight: 900; }
        .close-btn {
            width: 36px;
            height: 36px;
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            border-radius: 10px;
            color: #f44336;
            font-size: 18px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: #b0b0b0;
            margin-bottom: 8px;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 10px;
            padding: 12px 16px;
            color: #fff;
            font-size: 14px;
            font-family: inherit;
        }
        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }
        .form-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-submit {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 12px;
            padding: 16px;
            color: #fff;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
        }
        
        .loading, .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0b0;
        }
        .loading i, .empty-state i {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        @media (max-width: 480px) {
            .header h1 { font-size: 20px; }
            .promo-info { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-top">
            <button class="back-btn" onclick="history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div>
                <h1>Promoções</h1>
                <p id="totalInfo">Carregando...</p>
            </div>
        </div>
        
        <button class="add-btn" onclick="openModal()">
            <i class="fas fa-plus"></i> Nova Promoção
        </button>
    </div>
    
    <div class="content">
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando promoções...</p>
        </div>
        
        <div id="promo-list" class="promo-list" style="display: none;"></div>
        
        <div id="empty-state" class="empty-state" style="display: none;">
            <i class="fas fa-gift"></i>
            <p>Nenhuma promoção cadastrada</p>
            <small style="display: block; margin-top: 8px; color: #666;">Clique em "Nova Promoção" para criar</small>
        </div>
    </div>
    
    <!-- Modal de Criar/Editar -->
    <div id="promoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Nova Promoção</h2>
                <button class="close-btn" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="promoForm" onsubmit="handleSubmit(event)">
                <input type="hidden" id="promoId">
                
                <div class="form-group">
                    <label class="form-label">Nome da Promoção *</label>
                    <input type="text" id="nome" class="form-input" placeholder="Ex: Desconto de 15%" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Descrição</label>
                    <textarea id="descricao" class="form-textarea" placeholder="Descreva os detalhes da promoção..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tipo de Promoção *</label>
                    <select id="tipo" class="form-select" required>
                        <option value="">Selecione...</option>
                        <option value="desconto">Desconto</option>
                        <option value="dobro">Dobro de Pontos</option>
                        <option value="brinde">Brinde</option>
                        <option value="cashback">Cashback</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Pontos Necessários</label>
                    <input type="number" id="pontos_necessarios" class="form-input" placeholder="0" min="0">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Data de Início</label>
                    <input type="date" id="data_inicio" class="form-input">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Data de Término</label>
                    <input type="date" id="data_fim" class="form-input">
                </div>
                
                <div class="form-group">
                    <label class="form-checkbox">
                        <input type="checkbox" id="ativo" checked>
                        <span>Promoção ativa</span>
                    </label>
                </div>
                
                <button type="submit" class="btn-submit" id="submitBtn">
                    <i class="fas fa-save"></i> Salvar Promoção
                </button>
            </form>
        </div>
    </div>
    
    <!-- Modal de Confirmação -->
    <div id="confirmModal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2>Confirmar Exclusão</h2>
                <button class="close-btn" onclick="closeConfirmModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <p style="margin-bottom: 24px; color: #b0b0b0;">Tem certeza que deseja excluir esta promoção?</p>
            
            <div style="display: flex; gap: 8px;">
                <button onclick="closeConfirmModal()" class="btn-action btn-edit" style="flex: 1;">
                    Cancelar
                </button>
                <button onclick="confirmDelete()" class="btn-action btn-delete" style="flex: 1;">
                    Excluir
                </button>
            </div>
        </div>
    </div>
    
    <script>
        let promocoes = [];
        let deleteId = null;
        
        function checkAuth() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return token;
        }
        
        async function loadPromocoes() {
            const token = checkAuth();
            if (!token) return;

            try {
                const response = await fetch('/api/empresa/promocoes', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    promocoes = result.data || [];
                    
                    if (promocoes.length > 0) {
                        renderPromocoes();
                    } else {
                        showEmptyState();
                    }
                } else if (response.status === 401) {
                    window.location.href = '/entrar.html';
                } else {
                    showEmptyState();
                }
            } catch (error) {
                console.error('Erro ao carregar promoções:', error);
                showEmptyState();
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }
        
        function renderPromocoes() {
            const list = document.getElementById('promo-list');
            
            list.innerHTML = promocoes.map(promo => {
                const ativo = promo.ativo == 1;
                const dataInicio = promo.data_inicio ? new Date(promo.data_inicio).toLocaleDateString('pt-BR') : 'Não definida';
                const dataFim = promo.data_fim ? new Date(promo.data_fim).toLocaleDateString('pt-BR') : 'Não definida';
                
                return `
                    <div class="promo-card">
                        <div class="promo-badge ${ativo ? 'badge-ativo' : 'badge-inativo'}">
                            ${ativo ? 'Ativa' : 'Inativa'}
                        </div>
                        
                        <div class="promo-header">
                            <div class="promo-nome">${promo.nome}</div>
                            ${promo.descricao ? `<div class="promo-descricao">${promo.descricao}</div>` : ''}
                        </div>
                        
                        <div class="promo-info">
                            <div class="promo-info-item">
                                <div class="promo-info-label">Tipo</div>
                                <div class="promo-info-value">${getTipoLabel(promo.tipo)}</div>
                            </div>
                            <div class="promo-info-item">
                                <div class="promo-info-label">Pontos</div>
                                <div class="promo-info-value">${promo.pontos_necessarios || 0}</div>
                            </div>
                            <div class="promo-info-item">
                                <div class="promo-info-label">Início</div>
                                <div class="promo-info-value" style="font-size: 11px;">${dataInicio}</div>
                            </div>
                            <div class="promo-info-item">
                                <div class="promo-info-label">Fim</div>
                                <div class="promo-info-value" style="font-size: 11px;">${dataFim}</div>
                            </div>
                        </div>
                        
                        <div class="promo-actions">
                            <button class="btn-action btn-edit" onclick="editPromocao(${promo.id})">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            <button class="btn-action btn-delete" onclick="deletePromocao(${promo.id})">
                                <i class="fas fa-trash"></i> Excluir
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
            
            list.style.display = 'grid';
            document.getElementById('totalInfo').textContent = `${promocoes.length} ${promocoes.length === 1 ? 'promoção' : 'promoções'}`;
        }
        
        function getTipoLabel(tipo) {
            const tipos = {
                'desconto': 'Desconto',
                'dobro': 'Dobro de Pontos',
                'brinde': 'Brinde',
                'cashback': 'Cashback'
            };
            return tipos[tipo] || tipo;
        }
        
        function openModal(promo = null) {
            const modal = document.getElementById('promoModal');
            const form = document.getElementById('promoForm');
            
            form.reset();
            
            if (promo) {
                document.getElementById('modalTitle').textContent = 'Editar Promoção';
                document.getElementById('promoId').value = promo.id;
                document.getElementById('nome').value = promo.nome;
                document.getElementById('descricao').value = promo.descricao || '';
                document.getElementById('tipo').value = promo.tipo;
                document.getElementById('pontos_necessarios').value = promo.pontos_necessarios || 0;
                document.getElementById('data_inicio').value = promo.data_inicio || '';
                document.getElementById('data_fim').value = promo.data_fim || '';
                document.getElementById('ativo').checked = promo.ativo == 1;
                document.getElementById('submitBtn').innerHTML = '<i class="fas fa-save"></i> Atualizar Promoção';
            } else {
                document.getElementById('modalTitle').textContent = 'Nova Promoção';
                document.getElementById('submitBtn').innerHTML = '<i class="fas fa-save"></i> Salvar Promoção';
            }
            
            modal.classList.add('show');
        }
        
        function closeModal() {
            document.getElementById('promoModal').classList.remove('show');
        }
        
        function editPromocao(id) {
            const promo = promocoes.find(p => p.id === id);
            if (promo) {
                openModal(promo);
            }
        }
        
        function deletePromocao(id) {
            deleteId = id;
            document.getElementById('confirmModal').classList.add('show');
        }
        
        function closeConfirmModal() {
            document.getElementById('confirmModal').classList.remove('show');
            deleteId = null;
        }
        
        async function confirmDelete() {
            if (!deleteId) return;
            
            const token = checkAuth();
            if (!token) return;

            try {
                const response = await fetch(`/api/empresa/promocoes/${deleteId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    closeConfirmModal();
                    loadPromocoes();
                } else {
                    alert('Erro ao excluir promoção');
                }
            } catch (error) {
                console.error('Erro ao excluir:', error);
                alert('Erro ao excluir promoção');
            }
        }
        
        async function handleSubmit(e) {
            e.preventDefault();
            
            const token = checkAuth();
            if (!token) return;
            
            const id = document.getElementById('promoId').value;
            const data = {
                nome: document.getElementById('nome').value,
                descricao: document.getElementById('descricao').value,
                tipo: document.getElementById('tipo').value,
                pontos_necessarios: document.getElementById('pontos_necessarios').value || 0,
                data_inicio: document.getElementById('data_inicio').value,
                data_fim: document.getElementById('data_fim').value,
                ativo: document.getElementById('ativo').checked ? 1 : 0
            };
            
            try {
                const url = id ? `/api/empresa/promocoes/${id}` : '/api/empresa/promocoes';
                const method = id ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    closeModal();
                    loadPromocoes();
                } else {
                    alert('Erro ao salvar promoção');
                }
            } catch (error) {
                console.error('Erro ao salvar:', error);
                alert('Erro ao salvar promoção');
            }
        }
        
        function showEmptyState() {
            document.getElementById('empty-state').style.display = 'block';
            document.getElementById('totalInfo').textContent = '0 promoções';
        }
        
        document.addEventListener('DOMContentLoaded', loadPromocoes);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QR Code Empresa - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f;
            color: #ffffff;
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 260px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            padding: 0 24px 24px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            margin-bottom: 24px;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 900;
            color: #667eea;
        }

        .logo p {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 4px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            padding: 0 16px;
            margin-bottom: 4px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-link i {
            margin-right: 12px;
            font-size: 18px;
            width: 24px;
        }

        .nav-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .nav-link.active {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 32px;
        }

        .header {
            margin-bottom: 32px;
        }

        .header h2 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .header p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        .qr-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .qr-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 24px;
            padding: 48px;
            text-align: center;
        }

        .qr-wrapper {
            background: white;
            padding: 32px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 32px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        #qrcode {
            display: inline-block;
        }

        .qr-info {
            margin-bottom: 32px;
        }

        .qr-id {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
        }

        .qr-name {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .qr-instructions {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .qr-instructions h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #667eea;
        }

        .qr-instructions ul {
            text-align: left;
            list-style: none;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.8);
        }

        .qr-instructions li {
            margin-bottom: 8px;
            padding-left: 24px;
            position: relative;
        }

        .qr-instructions li::before {
            content: '?';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: 700;
        }

        .qr-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
        }

        .qr-btn {
            padding: 14px 32px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .qr-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        .qr-btn i {
            font-size: 16px;
        }

        .brightness-control {
            margin-top: 24px;
        }

        .brightness-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 12px;
        }

        .brightness-slider {
            width: 100%;
            max-width: 300px;
            height: 6px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .brightness-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                padding: 16px;
            }

            .qr-card {
                padding: 24px;
            }

            .qr-actions {
                flex-direction: column;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="empresa-dashboard.html" class="nav-link">
                    <i class="fas fa-chart-line"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-qrcode.html" class="nav-link active">
                    <i class="fas fa-qrcode"></i>
                    QR Code
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-scanner.html" class="nav-link">
                    <i class="fas fa-camera"></i>
                    Scanner
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-clientes.html" class="nav-link">
                    <i class="fas fa-users"></i>
                    Clientes
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-promocoes.html" class="nav-link">
                    <i class="fas fa-gift"></i>
                    Promoções
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-bonus.html" class="nav-link">
                    <i class="fas fa-star"></i>
                    Bônus
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-notificacoes.html" class="nav-link">
                    <i class="fas fa-bell"></i>
                    Notificações
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-relatorios.html" class="nav-link">
                    <i class="fas fa-file-alt"></i>
                    Relatórios
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-configuracoes.html" class="nav-link">
                    <i class="fas fa-cog"></i>
                    Configurações
                </a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <h2>QR Code da Empresa</h2>
            <p>Mostre este QR Code aos clientes para acumularem pontos</p>
        </div>

        <div class="qr-container">
            <div class="qr-card">
                <div class="qr-info">
                    <div class="qr-id">ID: EMP-12345</div>
                    <div class="qr-name">Popeye Hamburguer</div>
                </div>

                <div class="qr-wrapper">
                    <div id="qrcode"></div>
                </div>

                <div class="qr-instructions">
                    <h3><i class="fas fa-info-circle"></i> Como Funciona</h3>
                    <ul>
                        <li>Cliente abre o app Tem de Tudo</li>
                        <li>Toca em "Scanner" no menu inferior</li>
                        <li>Aponta a câmera para este QR Code</li>
                        <li>Pontos são creditados automaticamente</li>
                    </ul>
                </div>

                <div class="qr-actions">
                    <button class="qr-btn" onclick="downloadQR()">
                        <i class="fas fa-download"></i>
                        Baixar QR Code
                    </button>
                    <button class="qr-btn" onclick="printQR()">
                        <i class="fas fa-print"></i>
                        Imprimir
                    </button>
                </div>

                <div class="brightness-control">
                    <div class="brightness-label">
                        <i class="fas fa-sun"></i> Brilho do QR Code
                    </div>
                    <input type="range" class="brightness-slider" min="30" max="100" value="100" 
                           oninput="adjustBrightness(this.value)">
                </div>
            </div>
        </div>
    </main>

    <script>
        // Gerar QR Code
        const empresaId = 'EMP-12345';
        const qrData = JSON.stringify({
            type: 'empresa',
            id: empresaId,
            name: 'Popeye Hamburguer'
        });

        new QRCode(document.getElementById("qrcode"), {
            text: qrData,
            width: 280,
            height: 280,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });

        function downloadQR() {
            const canvas = document.querySelector('#qrcode canvas');
            const url = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = `qrcode-${empresaId}.png`;
            link.href = url;
            link.click();
        }

        function printQR() {
            window.print();
        }

        function adjustBrightness(value) {
            const wrapper = document.querySelector('.qr-wrapper');
            const brightness = value / 100;
            document.body.style.filter = `brightness(${brightness})`;
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Relatórios - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f; color: #ffffff; display: flex; min-height: 100vh;
        }
        .sidebar {
            width: 260px; background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0; position: fixed; height: 100vh; overflow-y: auto;
        }
        .logo { padding: 0 24px 24px; border-bottom: 1px solid rgba(102, 126, 234, 0.1); margin-bottom: 24px; }
        .logo h1 { font-size: 24px; font-weight: 900; color: #667eea; }
        .logo p { font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px; }
        .nav-menu { list-style: none; }
        .nav-item { padding: 0 16px; margin-bottom: 4px; }
        .nav-link {
            display: flex; align-items: center; padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7); text-decoration: none;
            border-radius: 12px; transition: all 0.3s; font-size: 14px; font-weight: 500;
        }
        .nav-link i { margin-right: 12px; font-size: 18px; width: 24px; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .nav-link.active { background: rgba(102, 126, 234, 0.15); color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
        .main-content { margin-left: 260px; flex: 1; padding: 32px; }
        .header { margin-bottom: 32px; display: flex; justify-content: space-between; align-items: center; }
        .header-left h2 { font-size: 32px; font-weight: 800; margin-bottom: 8px; }
        .header-left p { color: rgba(255, 255, 255, 0.6); font-size: 14px; }
        .filters {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 24px; margin-bottom: 24px;
            display: flex; gap: 16px; align-items: center; flex-wrap: wrap;
        }
        .filter-group { flex: 1; min-width: 200px; }
        .filter-label { display: block; font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase; color: #667eea; }
        .filter-select {
            width: 100%; padding: 12px 16px;
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px; color: white; font-size: 14px; font-family: inherit;
        }
        .export-btn {
            padding: 12px 24px; background: linear-gradient(135deg, #667eea, #764ba2);
            border: none; border-radius: 12px; color: white; font-size: 13px; font-weight: 700;
            cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 8px;
        }
        .export-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4); }
        .reports-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 24px; }
        .report-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.1);
            border-radius: 16px; padding: 24px; transition: all 0.3s;
        }
        .report-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3); border-color: rgba(102, 126, 234, 0.3); }
        .report-header {
            display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;
        }
        .report-icon {
            width: 56px; height: 56px; background: rgba(102, 126, 234, 0.1);
            border-radius: 12px; display: flex; align-items: center; justify-content: center;
            font-size: 28px;
        }
        .report-title { font-size: 18px; font-weight: 800; margin-bottom: 4px; }
        .report-desc { font-size: 13px; color: rgba(255, 255, 255, 0.6); }
        .report-metrics { margin-bottom: 20px; }
        .metric-row {
            display: flex; justify-content: space-between; padding: 12px 0;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1); font-size: 14px;
        }
        .metric-row:last-child { border-bottom: none; }
        .metric-label { color: rgba(255, 255, 255, 0.6); }
        .metric-value { font-weight: 700; color: #667eea; }
        .report-btn {
            width: 100%; padding: 12px; background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 10px;
            color: #667eea; font-size: 13px; font-weight: 600;
            cursor: pointer; transition: all 0.3s;
        }
        .report-btn:hover { background: #667eea; color: white; }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 16px; }
            .header { flex-direction: column; align-items: flex-start; gap: 16px; }
            .filters { flex-direction: column; }
            .reports-grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item"><a href="empresa-dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i>Dashboard</a></li>
            <li class="nav-item"><a href="empresa-qrcode.html" class="nav-link"><i class="fas fa-qrcode"></i>QR Code</a></li>
            <li class="nav-item"><a href="empresa-scanner.html" class="nav-link"><i class="fas fa-camera"></i>Scanner</a></li>
            <li class="nav-item"><a href="empresa-clientes.html" class="nav-link"><i class="fas fa-users"></i>Clientes</a></li>
            <li class="nav-item"><a href="empresa-promocoes.html" class="nav-link"><i class="fas fa-gift"></i>Promoções</a></li>
            <li class="nav-item"><a href="empresa-bonus.html" class="nav-link"><i class="fas fa-star"></i>Bônus</a></li>
            <li class="nav-item"><a href="empresa-notificacoes.html" class="nav-link"><i class="fas fa-bell"></i>Notificações</a></li>
            <li class="nav-item"><a href="empresa-relatorios.html" class="nav-link active"><i class="fas fa-file-alt"></i>Relatórios</a></li>
            <li class="nav-item"><a href="empresa-configuracoes.html" class="nav-link"><i class="fas fa-cog"></i>Configurações</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <div class="header-left">
                <h2>Relatórios</h2>
                <p>Análises e estatísticas do seu negócio</p>
            </div>
        </div>

        <div class="filters">
            <div class="filter-group">
                <label class="filter-label">Período</label>
                <select class="filter-select">
                    <option>Últimos 7 dias</option>
                    <option selected>Últimos 30 dias</option>
                    <option>Últimos 90 dias</option>
                    <option>Este ano</option>
                    <option>Personalizado</option>
                </select>
            </div>
            <div class="filter-group">
                <label class="filter-label">Tipo de Cliente</label>
                <select class="filter-select">
                    <option selected>Todos</option>
                    <option>Premium</option>
                    <option>Regular</option>
                </select>
            </div>
            <button class="export-btn">
                <i class="fas fa-download"></i>
                Exportar PDF
            </button>
        </div>

        <div class="reports-grid">
            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Desempenho Geral</div>
                        <div class="report-desc">Métricas principais do período</div>
                    </div>
                    <div class="report-icon" style="color: #667eea;">??</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Total de Visitas:</span>
                        <span class="metric-value">1.234</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Novos Clientes:</span>
                        <span class="metric-value">347</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Pontos Distribuídos:</span>
                        <span class="metric-value">45.678</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Crescimento:</span>
                        <span class="metric-value">+18%</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>

            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Promoções</div>
                        <div class="report-desc">Performance das campanhas</div>
                    </div>
                    <div class="report-icon" style="color: #e74c3c;">??</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Promoções Ativas:</span>
                        <span class="metric-value">3</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Total Ativações:</span>
                        <span class="metric-value">560</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Taxa Conversão:</span>
                        <span class="metric-value">45%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">ROI Estimado:</span>
                        <span class="metric-value">+230%</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>

            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Fidelidade</div>
                        <div class="report-desc">Retenção e engajamento</div>
                    </div>
                    <div class="report-icon" style="color: #f39c12;">??</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Taxa Retorno:</span>
                        <span class="metric-value">68%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Clientes Fiéis:</span>
                        <span class="metric-value">1.847</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Visitas Médias/Mês:</span>
                        <span class="metric-value">4.2</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Churn Rate:</span>
                        <span class="metric-value">-8%</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>

            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Recompensas</div>
                        <div class="report-desc">Pontos e resgates</div>
                    </div>
                    <div class="report-icon" style="color: #27ae60;">??</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Pontos Emitidos:</span>
                        <span class="metric-value">45.678</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Pontos Resgatados:</span>
                        <span class="metric-value">12.345</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Taxa Resgate:</span>
                        <span class="metric-value">27%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Recompensa Popular:</span>
                        <span class="metric-value">Hamburguer</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>

            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Horários de Pico</div>
                        <div class="report-desc">Análise de tráfego</div>
                    </div>
                    <div class="report-icon" style="color: #9b59b6;">?</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Melhor Horário:</span>
                        <span class="metric-value">18h - 20h</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Melhor Dia:</span>
                        <span class="metric-value">Sábado</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Pico de Visitas:</span>
                        <span class="metric-value">19:30</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Capacidade Média:</span>
                        <span class="metric-value">73%</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>

            <div class="report-card">
                <div class="report-header">
                    <div>
                        <div class="report-title">Avaliações</div>
                        <div class="report-desc">Feedback dos clientes</div>
                    </div>
                    <div class="report-icon" style="color: #f39c12;">?</div>
                </div>
                <div class="report-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Avaliação Média:</span>
                        <span class="metric-value">4.9 ?</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Total Avaliações:</span>
                        <span class="metric-value">847</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">5 Estrelas:</span>
                        <span class="metric-value">89%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">NPS Score:</span>
                        <span class="metric-value">92</span>
                    </div>
                </div>
                <button class="report-btn"><i class="fas fa-eye"></i> Ver Relatório Completo</button>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Scanner Empresa - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f;
            color: #ffffff;
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 260px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-right: 1px solid rgba(102, 126, 234, 0.1);
            padding: 24px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            padding: 0 24px 24px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            margin-bottom: 24px;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 900;
            color: #667eea;
        }

        .logo p {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 4px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            padding: 0 16px;
            margin-bottom: 4px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-link i {
            margin-right: 12px;
            font-size: 18px;
            width: 24px;
        }

        .nav-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .nav-link.active {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 32px;
        }

        .header {
            margin-bottom: 32px;
        }

        .header h2 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .header p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        .scanner-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .scanner-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 24px;
            padding: 32px;
            text-align: center;
        }

        #reader {
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 24px;
        }

        .scanner-controls {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-bottom: 24px;
        }

        .scanner-btn {
            padding: 14px 32px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .scanner-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        .scanner-btn.stop {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .scanner-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .scanner-instructions {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            padding: 24px;
            text-align: left;
        }

        .scanner-instructions h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #667eea;
        }

        .scanner-instructions ul {
            list-style: none;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.8);
        }

        .scanner-instructions li {
            margin-bottom: 8px;
            padding-left: 24px;
            position: relative;
        }

        .scanner-instructions li::before {
            content: '?';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: 700;
        }

        .success-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .success-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 24px;
            padding: 48px;
            text-align: center;
            max-width: 400px;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .success-icon {
            font-size: 72px;
            margin-bottom: 24px;
        }

        .success-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #667eea;
        }

        .success-details {
            margin: 24px 0;
            padding: 24px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
        }

        .success-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .success-detail-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .success-detail-value {
            font-weight: 700;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                padding: 16px;
            }

            .scanner-card {
                padding: 24px;
            }

            .scanner-controls {
                flex-direction: column;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="empresa"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>Tem de Tudo</h1>
            <p>Painel Empresa</p>
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="empresa-dashboard.html" class="nav-link">
                    <i class="fas fa-chart-line"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-qrcode.html" class="nav-link">
                    <i class="fas fa-qrcode"></i>
                    QR Code
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-scanner.html" class="nav-link active">
                    <i class="fas fa-camera"></i>
                    Scanner
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-clientes.html" class="nav-link">
                    <i class="fas fa-users"></i>
                    Clientes
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-promocoes.html" class="nav-link">
                    <i class="fas fa-gift"></i>
                    Promoções
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-bonus.html" class="nav-link">
                    <i class="fas fa-star"></i>
                    Bônus
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-notificacoes.html" class="nav-link">
                    <i class="fas fa-bell"></i>
                    Notificações
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-relatorios.html" class="nav-link">
                    <i class="fas fa-file-alt"></i>
                    Relatórios
                </a>
            </li>
            <li class="nav-item">
                <a href="empresa-configuracoes.html" class="nav-link">
                    <i class="fas fa-cog"></i>
                    Configurações
                </a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header">
            <h2>Scanner de QR Code</h2>
            <p>Escaneie o QR Code dos clientes para creditar pontos</p>
        </div>

        <div class="scanner-container">
            <div class="scanner-card">
                <div id="reader"></div>

                <div class="scanner-controls">
                    <button class="scanner-btn" id="startBtn" onclick="startScanner()">
                        <i class="fas fa-camera"></i>
                        Iniciar Scanner
                    </button>
                    <button class="scanner-btn stop" id="stopBtn" onclick="stopScanner()" style="display: none;">
                        <i class="fas fa-stop"></i>
                        Parar Scanner
                    </button>
                </div>

                <div class="scanner-instructions">
                    <h3><i class="fas fa-info-circle"></i> Instruções</h3>
                    <ul>
                        <li>Clique em "Iniciar Scanner"</li>
                        <li>Permita o acesso à câmera</li>
                        <li>Aponte para o QR Code do cliente</li>
                        <li>Aguarde a confirmação automática</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">?</div>
            <div class="success-title">Pontos Creditados!</div>
            <div class="success-details">
                <div class="success-detail-row">
                    <span class="success-detail-label">Cliente:</span>
                    <span class="success-detail-value" id="clientName">-</span>
                </div>
                <div class="success-detail-row">
                    <span class="success-detail-label">Pontos:</span>
                    <span class="success-detail-value" id="points">-</span>
                </div>
                <div class="success-detail-row">
                    <span class="success-detail-label">Total Acumulado:</span>
                    <span class="success-detail-value" id="totalPoints">-</span>
                </div>
            </div>
            <button class="scanner-btn" onclick="closeModal()">
                <i class="fas fa-check"></i>
                Continuar Escaneando
            </button>
        </div>
    </div>

    <script>
        let html5QrcodeScanner;

        function startScanner() {
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'flex';

            html5QrcodeScanner = new Html5Qrcode("reader");

            html5QrcodeScanner.start(
                { facingMode: "environment" },
                { fps: 10, qrbox: 250 },
                onScanSuccess,
                onScanFailure
            );
        }

        function stopScanner() {
            html5QrcodeScanner.stop().then(() => {
                document.getElementById('startBtn').style.display = 'flex';
                document.getElementById('stopBtn').style.display = 'none';
            });
        }

        function onScanSuccess(decodedText) {
            try {
                const data = JSON.parse(decodedText);
                
                // Simular chamada API
                creditPoints(data);
                
                // Parar scanner
                stopScanner();
            } catch (e) {
                alert('QR Code inválido');
            }
        }

        function onScanFailure(error) {
            // Ignorar erros de scan contínuo
        }

        function creditPoints(clientData) {
            // Mock data - integrar com API real
            document.getElementById('clientName').textContent = clientData.name || 'João Silva';
            document.getElementById('points').textContent = '+50 pontos';
            document.getElementById('totalPoints').textContent = '1.297 pontos';
            
            document.getElementById('successModal').style.display = 'flex';

            // API call exemplo:
            // fetch('/api/empresa/credit-points', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify({ clientId: clientData.id })
            // });
        }

        function closeModal() {
            document.getElementById('successModal').style.display = 'none';
            startScanner();
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Empresa - Tem de Tudo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="company-header">
        <button class="back-button" onclick="window.history.back()">
            <i class="fas fa-arrow-left"></i>
        </button>
        
        <div class="company-logo-lg">
            <i class="fas fa-store"></i>
        </div>
        
        <div class="company-title" id="empresaNome">Carregando...</div>
        <div class="company-category" id="empresaCategoria"></div>
        <div class="company-rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <span id="empresaRating">5.0</span>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <i class="fas fa-tag"></i>
            Promo??es Ativas
        </div>
        <div id="promocoes"></div>
    </div>

    <div class="section">
        <div class="section-header">
            <i class="fas fa-credit-card"></i>
            Cart?o Fidelidade
        </div>
        <div id="cartoes"></div>
    </div>

    <div class="section">
        <div class="section-header">
            <i class="fas fa-info-circle"></i>
            Informa??es
        </div>
        <div class="card-fidelidade">
            <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <span id="empresaEndereco">-</span>
            </div>
            <div class="info-item">
                <i class="fab fa-whatsapp"></i>
                <a href="#" id="empresaWhatsapp" style="color:#666;text-decoration:none;">-</a>
            </div>
            <div class="info-item">
                <i class="fab fa-instagram"></i>
                <a href="#" id="empresaInstagram" style="color:#666;text-decoration:none;">-</a>
            </div>
            <div class="info-item">
                <i class="fab fa-facebook"></i>
                <a href="#" id="empresaFacebook" style="color:#666;text-decoration:none;">-</a>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <i class="fas fa-comments"></i>
            Avalia??es
        </div>
        <div id="avaliacoes"></div>
    </div>

    <script>
        const empresaId = new URLSearchParams(window.location.search).get('id');
        const token = localStorage.getItem('token');

        async function carregarEmpresa() {
            if (!empresaId) {
                alert('Empresa n?o encontrada');
                window.history.back();
                return;
            }

            try {
                const token = localStorage.getItem('token');
                const res = await fetch(`/api/cliente/empresas/${empresaId}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                const result = await res.json();
                
                if (result.success) {
                    const empresa = result.data;
                    document.getElementById('empresaNome').textContent = empresa.nome;
                    document.getElementById('empresaCategoria').textContent = empresa.ramo_formatado || empresa.ramo || 'Estabelecimento';
                    document.getElementById('empresaEndereco').textContent = empresa.endereco || 'N?o informado';
                    
                    if (empresa.telefone) {
                        document.getElementById('empresaWhatsapp').textContent = empresa.telefone;
                        document.getElementById('empresaWhatsapp').href = `https://wa.me/${empresa.telefone.replace(/\D/g, '')}`;
                    }

                    verificarBonusAdesao();
                }
            } catch (error) {
                console.error('Erro:', error);
            }
        }

        async function verificarBonusAdesao() {
            if (!token) return;

            try {
                const res = await fetch(`/api/cliente/bonus-adesao/${empresaId}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const data = await res.json();
                
                if (data.temBonus) {
                    mostrarPopupBonus(data.bonus);
                }
            } catch (error) {
                console.error('Erro ao verificar b?nus:', error);
            }
        }

        function mostrarPopupBonus(bonus) {
            const popup = document.createElement('div');
            popup.innerHTML = `
                <div style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;">
                    <div style="background:white;border-radius:20px;padding:30px;text-align:center;max-width:350px;">
                        <div style="font-size:60px;margin-bottom:15px;">??</div>
                        <h2 style="color:#333;margin-bottom:10px;">Parab?ns!</h2>
                        <p style="color:#666;margin-bottom:20px;">Voc? ganhou ${bonus.descricao}!</p>
                        ${bonus.imagem ? `<img src="${bonus.imagem}" style="width:100%;border-radius:12px;margin-bottom:20px;">` : ''}
                        <button onclick="resgatarBonus(${bonus.id}, this.parentElement.parentElement)" style="width:100%;padding:15px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;border:none;border-radius:12px;font-weight:600;cursor:pointer;">
                            Resgatar B?nus
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(popup);
        }

        async function resgatarBonus(bonusId, popup) {
            try {
                const res = await fetch(`/api/cliente/resgatar-bonus/${bonusId}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (res.ok) {
                    popup.remove();
                    alert('B?nus resgatado! Mostre esta tela para o estabelecimento.');
                }
            } catch (error) {
                alert('Erro ao resgatar b?nus');
            }
        }

        carregarEmpresa();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Entrar - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="form-container">
        <div class="logo">
            <img src="img/logo.png" alt="Tem de Tudo" class="logo-img">
        </div>
        
        <div class="welcome">
            <h1>Bem-vindo de volta!</h1>
            <p>Entre para acessar sua conta</p>
        </div>
        
        <div class="social-login">
            <button class="btn-social" onclick="loginGoogle()">
                <i class="fab fa-google"></i> Google
            </button>
            <button class="btn-social" onclick="loginFacebook()">
                <i class="fab fa-facebook-f"></i> Facebook
            </button>
        </div>
        
        <div class="divider">
            <span>ou continue com e-mail</span>
        </div>
        
        <form id="loginForm" onsubmit="handleLogin(event)">
            <div class="form-group">
                <label for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        placeholder="Digite seu e-mail"
                        required
                    >
                </div>
            </div>
            
            <div class="form-group">
                <label for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        placeholder="Digite sua senha"
                        required
                    >
                </div>
            </div>
            
            <div class="forgot-password">
                <a href="#" onclick="recuperarSenha(event)">Esqueceu sua senha?</a>
            </div>
            
            <button type="submit" class="btn btn-primary">
                ENTRAR
            </button>
        </form>
        
        <div class="register-link">
            <p>Ainda não tem conta? <a href="cadastro.html">Cadastre-se gràtis</a></p>
        </div>
        
        <div class="back-link">
            <a href="index.html">
                <i class="fas fa-arrow-left"></i>
                Voltar para inàcio
            </a>
        </div>
    </div>
    
    <script>
        async function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const submitBtn = event.target.querySelector('button[type="submit"]');
            
            // Validações
            if (!Validators.required(email) || !Validators.required(password)) {
                showToast('Por favor, preencha email e senha.', 'warning');
                return;
            }
            
            if (!Validators.email(email)) {
                showToast('Email inválido. Verifique e tente novamente.', 'error');
                return;
            }
            
            if (!Validators.password(password)) {
                showToast('A senha deve ter no mínimo 6 caracteres.', 'error');
                return;
            }
            
            // Loading state
            setLoading(submitBtn, true);
            
            try {
                // Usar AuthManager
                const result = await authManager.login({ email, password });
                
                if (result.success) {
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> Sucesso!';
                    submitBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                    
                    showToast('Login realizado com sucesso!', 'success');
                    
                    // Redirecionar
                    setTimeout(() => {
                        window.location.href = result.redirect;
                    }, 500);
                } else {
                    throw new Error(result.message);
                }
            } catch (error) {
                console.error('? Erro no login:', error);
                showToast(error.message || 'Erro ao conectar com o servidor.', 'error');
                setLoading(submitBtn, false);
            }
        }
        
        function loginGoogle() {
            showToast('Login com Google será implementado em breve!', 'info');
        }
        
        function loginFacebook() {
            showToast('Login com Facebook será implementado em breve!', 'info');
        }
        
        function recuperarSenha(event) {
            event.preventDefault();
            showToast('Funcionalidade de recuperação de senha será implementada em breve!', 'info');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrar - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 440px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        
        .welcome h1 {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome p {
            color: var(--text-secondary);
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .forgot {
            text-align: right;
            margin-bottom: 24px;
        }
        
        .forgot a {
            color: var(--purple-1);
            font-size: 13px;
            font-weight: 600;
            text-decoration: none;
        }
        
        .forgot a:hover {
            text-decoration: underline;
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: var(--gradient-purple);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        .divider {
            text-align: center;
            margin: 24px 0;
            position: relative;
        }
        
        .divider::before,
        .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: var(--border-color);
        }
        
        .divider::before { left: 0; }
        .divider::after { right: 0; }
        
        .divider span {
            background: var(--bg-card);
            padding: 0 10px;
            color: var(--text-muted);
            font-size: 13px;
        }
        
        .register {
            text-align: center;
            margin-top: 24px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .register a {
            color: var(--purple-1);
            font-weight: 600;
            text-decoration: none;
        }
        
        .register a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
        </div>
        
        <div class="welcome">
            <h1>Bem-vindo de volta!</h1>
            <p>Entre para acessar sua conta</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="loginForm">
            <div class="form-group">
                <label class="form-label" for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" class="form-control" placeholder="seu@email.com" required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" class="form-control" placeholder="Digite sua senha" required>
                </div>
            </div>
            
            <div class="forgot">
                <a href="/recuperar-senha.html">Esqueceu sua senha?</a>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                ENTRAR
            </button>
        </form>
        
        <div class="divider">
            <span>ou</span>
        </div>
        
        <div class="register">
            NÃ£o tem uma conta? <a href="/cadastro.html">Cadastre-se grÃ¡tis</a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('loginForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 3000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading"></span>ENTRANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'ENTRAR';
            }
        }
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Erro ao fazer login');
                }
                
                // Salvar token e dados do usuÃ¡rio
                localStorage.setItem('token', data.token);
                localStorage.setItem('user', JSON.stringify(data.user));
                
                showAlert('Login realizado com sucesso!', 'success');
                
                // Redirecionar baseado no tipo de usuÃ¡rio
                setTimeout(() => {
                    if (data.user.tipo === 'admin') {
                        window.location.href = '/admin-dashboard.html';
                    } else if (data.user.tipo === 'empresa') {
                        window.location.href = '/dashboard-empresa.html';
                    } else {
                        window.location.href = '/dashboard-cliente.html';
                    }
                }, 1000);
                
            } catch (error) {
                setLoading(false);
                showAlert(error.message || 'Erro ao fazer login. Tente novamente.');
            }
        });
        
        // Verificar se jÃ¡ estÃ¡ logado
        if (localStorage.getItem('token')) {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if (user.tipo === 'admin') {
                window.location.href = '/admin-dashboard.html';
            } else if (user.tipo === 'empresa') {
                window.location.href = '/dashboard-empresa.html';
            } else {
                window.location.href = '/dashboard-cliente.html';
            }
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrar - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 440px;
            padding: 40px;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        
        .welcome h1 {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome p {
            color: var(--text-secondary);
            font-size: 14px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .forgot {
            text-align: right;
            margin-bottom: 24px;
        }
        
        .forgot a {
            color: var(--purple-1);
            font-size: 13px;
            font-weight: 600;
            text-decoration: none;
        }
        
        .forgot a:hover {
            text-decoration: underline;
        }
        
        .btn-submit {
            width: 100%;
            padding: 16px;
            background: var(--gradient-purple);
            color: white;
            font-size: 16px;
            font-weight: 700;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        
        .divider {
            text-align: center;
            margin: 24px 0;
            position: relative;
        }
        
        .divider::before,
        .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: var(--border-color);
        }
        
        .divider::before { left: 0; }
        .divider::after { right: 0; }
        
        .divider span {
            background: var(--bg-card);
            padding: 0 10px;
            color: var(--text-muted);
            font-size: 13px;
        }
        
        .register {
            text-align: center;
            margin-top: 24px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .register a {
            color: var(--purple-1);
            font-weight: 600;
            text-decoration: none;
        }
        
        .register a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo">
        </div>
        
        <div class="welcome">
            <h1>Bem-vindo de volta!</h1>
            <p>Entre para acessar sua conta</p>
        </div>
        
        <div id="alertBox" class="alert"></div>
        
        <form id="loginForm">
            <div class="form-group">
                <label class="form-label" for="email">E-mail</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" class="form-control" placeholder="seu@email.com" required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="password">Senha</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" class="form-control" placeholder="Digite sua senha" required>
                </div>
            </div>
            
            <div class="forgot">
                <a href="/recuperar-senha.html">Esqueceu sua senha?</a>
            </div>
            
            <button type="submit" class="btn-submit" id="btnSubmit">
                ENTRAR
            </button>
        </form>
        
        <div class="divider">
            <span>ou</span>
        </div>
        
        <div class="register">
            NÃ£o tem uma conta? <a href="/cadastro.html">Cadastre-se grÃ¡tis</a>
        </div>
    </div>
    
    <script>
        const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? 'http://127.0.0.1:8001/api'
            : '/api';
        
        const form = document.getElementById('loginForm');
        const btnSubmit = document.getElementById('btnSubmit');
        const alertBox = document.getElementById('alertBox');
        
        function showAlert(message, type = 'error') {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 3000);
            }
        }
        
        function setLoading(loading) {
            if (loading) {
                btnSubmit.disabled = true;
                btnSubmit.innerHTML = '<span class="loading"></span>ENTRANDO...';
            } else {
                btnSubmit.disabled = false;
                btnSubmit.textContent = 'ENTRAR';
            }
        }
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            alertBox.style.display = 'none';
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            setLoading(true);
            
            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Erro ao fazer login');
                }
                
                // Salvar token e dados do usuÃ¡rio
                localStorage.setItem('token', data.token);
                localStorage.setItem('user', JSON.stringify(data.user));
                
                showAlert('Login realizado com sucesso!', 'success');
                
                // Redirecionar baseado no tipo de usuÃ¡rio
                setTimeout(() => {
                    if (data.user.tipo === 'admin') {
                        window.location.href = '/admin-dashboard.html';
                    } else if (data.user.tipo === 'empresa') {
                        window.location.href = '/dashboard-empresa.html';
                    } else {
                        window.location.href = '/dashboard-cliente.html';
                    }
                }, 1000);
                
            } catch (error) {
                setLoading(false);
                showAlert(error.message || 'Erro ao fazer login. Tente novamente.');
            }
        });
        
        // Verificar se jÃ¡ estÃ¡ logado
        if (localStorage.getItem('token')) {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if (user.tipo === 'admin') {
                window.location.href = '/admin-dashboard.html';
            } else if (user.tipo === 'empresa') {
                window.location.href = '/dashboard-empresa.html';
            } else {
                window.location.href = '/dashboard-cliente.html';
            }
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Estabelecimentos - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:90px;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;"><div style="max-width:1200px;margin:0 auto;"><div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;"><div style="width:42px;height:42px;background:rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-sparkles" style="font-size:20px;"></i></div><div><div style="font-size:18px;font-weight:900;">Estabelecimentos</div><div style="font-size:12px;opacity:0.8;">Parceiros Tem de Tudo</div></div></div><div style="background:rgba(255,255,255,0.2);backdrop-filter:blur(10px);border-radius:16px;padding:14px 20px;display:flex;align-items:center;gap:12px;"><i class="fas fa-search" style="opacity:0.8;"></i><input type="text" id="search" placeholder="Buscar..." style="background:none;border:none;color:white;font-size:15px;flex:1;outline:none;"></div></div></header>
<div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><div id="list"></div></div>
<nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Início</span></a><a href="/meus-pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav>
<script>async function load(){const token=localStorage.getItem('token');try{const r=await fetch('/api/estabelecimentos',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('list').innerHTML=d.map(e=>`<div style="background:white;border-radius:20px;padding:20px;margin-bottom:16px;box-shadow:0 4px 12px rgba(102,126,234,0.08);"><h3 style="font-size:18px;font-weight:800;color:#1a1a2e;margin:0 0 8px;">${e.nome}</h3><p style="color:#7c8db0;font-size:14px;margin:0;">${e.endereco||''}</p></div>`).join('');}}catch(e){}}load();</script>
</body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>FAQ - Central de Ajuda | Tem de Tudo</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="Central de ajuda com todas as respostas para suas d?vidas sobre o sistema de fidelidade Tem de Tudo">
    <meta name="theme-color" content="#4c1d95">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/frontend/img/logo.png">
    <link rel="apple-touch-icon" href="/frontend/img/logo.png">
    
    <!-- Stylesheets -->
    
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header glass-header">
            <div class="header-container">
                <a href="/" class="logo">
                    <img src="/frontend/img/logo.png" alt="Tem de Tudo" class="logo-image">
                </a>
                
                <nav class="nav-menu">
                    <a href="/"><i class="fas fa-home icon-sm"></i> In?cio</a>
                    <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>
                    <a href="/faq.html" class="active"><i class="fas fa-question-circle icon-sm"></i> FAQ</a>
                    <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>
                    <a href="/entrar.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>
                </nav>
                
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-menu">
                <a href="/"><i class="fas fa-home icon-sm"></i> In?cio</a>
                <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>
                <a href="/faq.html" class="active"><i class="fas fa-question-circle icon-sm"></i> FAQ</a>
                <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>
                <a href="/entrar.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Hero Section -->
            <section style="background: var(--gradient-primary); color: white; padding: var(--space-16) var(--space-6); text-align: center;">
                <div style="max-width: 800px; margin: 0 auto;">
                    <h1 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 1rem;">
                        <i class="fas fa-question-circle icon-lg" style="margin-right: 1rem;"></i>
                        Central de Ajuda
                    </h1>
                    <p style="font-size: 1.25rem; opacity: 0.9; margin-bottom: 2rem;">
                        Encontre respostas para todas as suas d?vidas sobre o sistema de fidelidade
                    </p>
                    
                    <!-- Search Bar -->
                    <div style="position: relative; max-width: 600px; margin: 0 auto;">
                        <input 
                            type="text" 
                            id="searchFAQ"
                            placeholder="Busque sua d?vida..." 
                            style="width: 100%; padding: 1rem 1rem 1rem 3rem; border: none; border-radius: var(--radius-lg); font-size: 1rem; background: rgba(255,255,255,0.95); color: var(--gray-800);"
                        >
                        <i class="fas fa-search" style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--gray-500);"></i>
                    </div>
                </div>
            </section>

            <!-- FAQ Categories -->
            <section style="padding: var(--space-8) var(--space-6) var(--space-4);">
                <div style="max-width: 1200px; margin: 0 auto;">
                    <div style="display: flex; gap: var(--space-3); flex-wrap: wrap; justify-content: center;">
                        <button class="filter-chip active" data-filter="all" onclick="setFAQFilter('all')">
                            Todas
                        </button>
                        <button class="filter-chip" data-filter="conta" onclick="setFAQFilter('conta')">
                            <i class="fas fa-user"></i> Conta
                        </button>
                        <button class="filter-chip" data-filter="pontos" onclick="setFAQFilter('pontos')">
                            <i class="fas fa-coins"></i> Pontos
                        </button>
                        <button class="filter-chip" data-filter="resgates" onclick="setFAQFilter('resgates')">
                            <i class="fas fa-gift"></i> Resgates
                        </button>
                        <button class="filter-chip" data-filter="empresas" onclick="setFAQFilter('empresas')">
                            <i class="fas fa-building"></i> Empresas
                        </button>
                        <button class="filter-chip" data-filter="problemas" onclick="setFAQFilter('problemas')">
                            <i class="fas fa-exclamation-triangle"></i> Problemas
                        </button>
                    </div>
                </div>
            </section>

            <!-- FAQ Content -->
            <section style="padding: 0 var(--space-6) var(--space-16);">
                <div style="max-width: 800px; margin: 0 auto;">
                    <div class="faq-container" id="faqContainer">

                        <!-- Conta -->
                        <div class="faq-item" data-category="conta">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-user-plus" style="color: var(--primary-purple); margin-right: 0.5rem;"></i>Como criar uma conta?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Para criar sua conta ? muito simples:</p>
                                <ol>
                                    <li>Clique em "Cadastro" no menu superior</li>
                                    <li>Escolha o tipo de conta (Cliente ou Empresa)</li>
                                    <li>Preencha seus dados pessoais</li>
                                    <li>Confirme seu email</li>
                                    <li>Pronto! Voc? j? pode come?ar a acumular pontos</li>
                                </ol>
                                <p><strong>Clientes recebem 100 pontos de b?nus de boas-vindas!</strong></p>
                            </div>
                        </div>

                        <div class="faq-item" data-category="conta">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-lock" style="color: var(--primary-purple); margin-right: 0.5rem;"></i>Esqueci minha senha, como recuperar?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Para recuperar sua senha:</p>
                                <ol>
                                    <li>V? para a p?gina de login</li>
                                    <li>Clique em "Esqueci minha senha"</li>
                                    <li>Digite seu email cadastrado</li>
                                    <li>Verifique sua caixa de entrada</li>
                                    <li>Clique no link recebido e crie uma nova senha</li>
                                </ol>
                                <p><em>N?o encontrou o email? Verifique a pasta de spam ou lixo eletr?nico.</em></p>
                            </div>
                        </div>

                        <!-- Pontos -->
                        <div class="faq-item" data-category="pontos">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-coins" style="color: var(--accent-orange); margin-right: 0.5rem;"></i>Como funciona o sistema de pontos?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>O sistema de pontos ? baseado em suas compras:</p>
                                <ul>
                                    <li><strong>Regra geral:</strong> R$ 1,00 gasto = 1 ponto</li>
                                    <li><strong>Estabelecimentos especiais:</strong> Podem ter multiplicadores (2x, 3x pontos)</li>
                                    <li><strong>Promo??es:</strong> Pontos extras em datas especiais</li>
                                    <li><strong>B?nus:</strong> 100 pontos de boas-vindas ao se cadastrar</li>
                                </ul>
                                <p>Os pontos s?o creditados automaticamente ap?s a confirma??o da compra pelo estabelecimento.</p>
                            </div>
                        </div>

                        <div class="faq-item" data-category="pontos">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-star" style="color: var(--accent-orange); margin-right: 0.5rem;"></i>Quais s?o os n?veis de fidelidade?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Temos 5 n?veis exclusivos com benef?cios crescentes:</p>
                                <div style="background: var(--gray-50); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
                                    <ul style="list-style: none; padding: 0;">
                                        <li style="margin-bottom: 0.5rem;"><strong>?? Bronze:</strong> 0-499 pontos</li>
                                        <li style="margin-bottom: 0.5rem;"><strong>?? Prata:</strong> 500-1999 pontos</li>
                                        <li style="margin-bottom: 0.5rem;"><strong>?? Ouro:</strong> 2000-4999 pontos</li>
                                        <li style="margin-bottom: 0.5rem;"><strong>?? Platina:</strong> 5000-9999 pontos</li>
                                        <li><strong>?? Diamante:</strong> 10000+ pontos</li>
                                    </ul>
                                </div>
                                <p>Quanto maior seu n?vel, mais benef?cios exclusivos voc? desbloqueia!</p>
                            </div>
                        </div>

                        <!-- Resgates -->
                        <div class="faq-item" data-category="resgates">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-gift" style="color: var(--accent-green); margin-right: 0.5rem;"></i>Como resgatar meus pontos?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Para resgatar seus pontos:</p>
                                <ol>
                                    <li>Acesse sua conta</li>
                                    <li>V? para a se??o "Resgates"</li>
                                    <li>Escolha a recompensa desejada</li>
                                    <li>Confirme o resgate</li>
                                    <li>Retire no estabelecimento ou receba por delivery</li>
                                </ol>
                                <p><strong>Importante:</strong> Pontos resgatados n?o podem ser devolvidos.</p>
                            </div>
                        </div>

                        <!-- Empresas -->
                        <div class="faq-item" data-category="empresas">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-building" style="color: var(--primary-purple); margin-right: 0.5rem;"></i>Como minha empresa pode participar?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Para tornar-se um estabelecimento parceiro:</p>
                                <ol>
                                    <li>Entre em contato via WhatsApp: <a href="https://wa.me/5511999999999" target="_blank" style="color: var(--primary-purple);">(11) 99999-9999</a></li>
                                    <li>Ou envie email para: <a href="mailto:parceiros@temdeTudo.com" style="color: var(--primary-purple);">parceiros@temdeTudo.com</a></li>
                                    <li>Nossa equipe entrar? em contato</li>
                                    <li>An?lise da proposta comercial</li>
                                    <li>Assinatura do contrato</li>
                                    <li>Treinamento da equipe</li>
                                    <li>Ativa??o no sistema</li>
                                </ol>
                                <p><strong>Benef?cios para empresas:</strong> Fideliza??o de clientes, an?lise de vendas, marketing digital.</p>
                            </div>
                        </div>

                        <!-- Problemas T?cnicos -->
                        <div class="faq-item" data-category="problemas">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-exclamation-triangle" style="color: var(--accent-red); margin-right: 0.5rem;"></i>Meus pontos n?o foram creditados</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Se seus pontos n?o foram creditados:</p>
                                <ol>
                                    <li>Aguarde at? 24h ap?s a compra</li>
                                    <li>Verifique se o estabelecimento ? parceiro</li>
                                    <li>Confirme se voc? informou CPF/email na compra</li>
                                    <li>Guarde o comprovante da compra</li>
                                    <li>Entre em contato conosco pelo WhatsApp</li>
                                </ol>
                                <p><strong>WhatsApp Suporte:</strong> <a href="https://wa.me/5511999999999" target="_blank" style="color: var(--primary-purple);">(11) 99999-9999</a></p>
                            </div>
                        </div>

                        <div class="faq-item" data-category="problemas">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-mobile-alt" style="color: var(--accent-red); margin-right: 0.5rem;"></i>App/Site n?o est? funcionando</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Se estiver com problemas t?cnicos:</p>
                                <ol>
                                    <li>Atualize a p?gina (F5 no computador)</li>
                                    <li>Limpe o cache do navegador</li>
                                    <li>Tente usar outro navegador</li>
                                    <li>Verifique sua conex?o com a internet</li>
                                    <li>Tente novamente em alguns minutos</li>
                                </ol>
                                <p>Se o problema persistir, entre em contato:</p>
                                <ul>
                                    <li><strong>WhatsApp:</strong> <a href="https://wa.me/5511999999999" target="_blank" style="color: var(--primary-purple);">(11) 99999-9999</a></li>
                                    <li><strong>Email:</strong> <a href="mailto:suporte@temdeTudo.com" style="color: var(--primary-purple);">suporte@temdeTudo.com</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Mais Perguntas -->
                        <div class="faq-item" data-category="conta">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-edit" style="color: var(--primary-purple); margin-right: 0.5rem;"></i>Como alterar meus dados pessoais?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Para alterar seus dados:</p>
                                <ol>
                                    <li>Fa?a login na sua conta</li>
                                    <li>V? para "Meu Perfil"</li>
                                    <li>Clique em "Editar Dados"</li>
                                    <li>Altere as informa??es desejadas</li>
                                    <li>Salve as altera??es</li>
                                </ol>
                                <p><em>Algumas altera??es podem precisar de confirma??o por email.</em></p>
                            </div>
                        </div>

                        <div class="faq-item" data-category="pontos">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <h3><i class="fas fa-calendar" style="color: var(--accent-orange); margin-right: 0.5rem;"></i>Meus pontos t?m validade?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p><strong>Sim, os pontos t?m validade!</strong></p>
                                <ul>
                                    <li><strong>Validade:</strong> 12 meses a partir do ac?mulo</li>
                                    <li><strong>Renova??o:</strong> A cada nova compra, os pontos ganham mais 12 meses</li>
                                    <li><strong>Aviso:</strong> Voc? recebe notifica??o 30 dias antes do vencimento</li>
                                    <li><strong>Consulta:</strong> Veja o extrato completo no seu perfil</li>
                                </ul>
                                <p>Mantenha-se ativo para n?o perder seus pontos!</p>
                            </div>
                        </div>

                    </div>

                    <!-- Contact CTA -->
                    <div style="margin-top: 4rem; padding: 2rem; background: var(--gradient-primary); border-radius: 1rem; text-align: center; color: white;">
                        <h3 style="margin-bottom: 1rem;"><i class="fas fa-question-circle"></i> N?o encontrou sua resposta?</h3>
                        <p style="margin-bottom: 2rem; opacity: 0.9;">Nossa equipe est? pronta para ajudar voc?!</p>
                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                            <a href="https://wa.me/5511999999999" target="_blank" class="btn btn-outline" style="background: rgba(255,255,255,0.1); border-color: white; color: white;">
                                <i class="fab fa-whatsapp"></i> WhatsApp Suporte
                            </a>
                            <a href="mailto:suporte@temdeTudo.com" class="btn btn-outline" style="background: rgba(255,255,255,0.1); border-color: white; color: white;">
                                <i class="fas fa-envelope"></i> Email Suporte
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer style="background: var(--gray-900); color: white; padding: var(--space-12) var(--space-6);">
            <div style="max-width: 1200px; margin: 0 auto; text-align: center;">
                <p>&copy; 2025 Tem de Tudo. Todos os direitos reservados.</p>
            </div>
        </footer>
    </div><script>
        // Menu mobile
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.classList.toggle('active');
        }

        // FAQ Toggle
        function toggleFAQ(element) {
            const faqItem = element.parentElement;
            const isActive = faqItem.classList.contains('active');
            
            // Fechar todos os outros
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Abrir/fechar o atual
            if (!isActive) {
                faqItem.classList.add('active');
            }
        }

        // Filter FAQ
        function setFAQFilter(category) {
            // Atualizar bot?es ativos
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            document.querySelector(`[data-filter="${category}"]`).classList.add('active');

            // Filtrar items
            const items = document.querySelectorAll('.faq-item');
            items.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
        }

        // Search FAQ
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchFAQ');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const items = document.querySelectorAll('.faq-item');
                    
                    items.forEach(item => {
                        const question = item.querySelector('h3').textContent.toLowerCase();
                        const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
                        
                        if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                            item.classList.remove('hidden');
                        } else {
                            item.classList.add('hidden');
                        }
                    });
                });
            }
        });
    </script>
    <script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Histórico - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">    `n    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;">Histórico de Transaààes</h1></header><div style="max-width:900px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:24px;text-align:center;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><p style="color:#7c8db0;margin:0;">Nenhuma transação registrada</p></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tem de Tudo - Sistema de Fidelidade</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 480px;
            padding: 40px 24px;
            text-align: center;
        }
        
        .logo {
            font-size: 80px;
            margin-bottom: 24px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        h1 {
            font-size: 42px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }
        
        .subtitle {
            font-size: 18px;
            color: #b0b0b0;
            margin-bottom: 48px;
            line-height: 1.5;
        }
        
        .features {
            display: grid;
            gap: 16px;
            margin-bottom: 48px;
        }
        
        .feature {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.3s;
        }
        
        .feature:hover {
            transform: translateX(4px);
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
        }
        
        .feature-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }
        
        .feature-text {
            flex: 1;
            text-align: left;
        }
        
        .feature-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .feature-desc {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .cta-buttons {
            display: grid;
            gap: 12px;
        }
        
        .btn {
            padding: 18px 32px;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 700;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            color: white;
            border: 2px solid rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .footer-text {
            margin-top: 32px;
            font-size: 13px;
            color: #666;
        }
        
        @media (max-width: 480px) {
            .container { padding: 24px 20px; }
            h1 { font-size: 36px; }
            .logo { font-size: 64px; }
            .subtitle { font-size: 16px; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="logo">??</div>
        
        <h1>Tem de Tudo</h1>
        <p class="subtitle">
            O sistema de fidelidade mais completo.<br>
            Acumule pontos e ganhe recompensas!
        </p>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">QR Code Exclusivo</div>
                    <div class="feature-desc">Seu cartão de fidelidade digital</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Acumule Pontos</div>
                    <div class="feature-desc">A cada compra você ganha pontos</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Ganhe Prêmios</div>
                    <div class="feature-desc">Troque pontos por descontos</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Várias Empresas</div>
                    <div class="feature-desc">Um único app, várias lojas parceiras</div>
                </div>
            </div>
        </div>
        
        <div class="cta-buttons">
            <a href="entrar.html" class="btn btn-primary">
                <i class="fas fa-sign-in-alt"></i> Entrar no Sistema
            </a>
            <a href="cadastro.html" class="btn btn-secondary">
                <i class="fas fa-user-plus"></i> Criar Nova Conta
            </a>
        </div>
        
        <p class="footer-text">
            Tem de Tudo © 2026 - Sistema de Fidelidade
        </p>
    </div>
    
    <script>
        // Efeito parallax suave no scroll
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            document.querySelector('.logo').style.transform = `translateY(${scrolled * 0.5}px)`;
        });
        
        // Animação de entrada
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.container').style.animation = 'fadeIn 0.6s ease-out';
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tem de Tudo - Sistema de Fidelidade Premium</title>
    
    <meta name="description" content="Sistema completo de fideliza??o digital para empresas">
    <meta name="theme-color" content="#667eea">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-logo">?? Tem de Tudo</div>
        <ul class="navbar-links">
            <li><a href="#features">Recursos</a></li>
            <li><a href="#benefits">Benef?cios</a></li>
            <li><a href="#pricing">Planos</a></li>
            <li><a href="entrar.html" class="btn-primary">Entrar</a></li>
        </ul>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <i class="fas fa-rocket"></i>
                <span>Sistema #1 em Fideliza??o Digital</span>
            </div>
            
            <h1 class="hero-title">Fidelidade que<br>Transforma Neg?cios</h1>
            
            <p class="hero-subtitle">
                Plataforma completa de fideliza??o inteligente. Aumente vendas, engaje clientes e cres?a seu neg?cio.
            </p>
            
            <div class="hero-buttons">
                <a href="cadastro-empresa.html" class="btn-hero btn-primary">
                    <i class="fas fa-rocket"></i>
                    <span>Come?ar Gr?tis</span>
                </a>
                <a href="#features" class="btn-hero btn-secondary">
                    <i class="fas fa-play-circle"></i>
                    <span>Ver Demo</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <section class="stats">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-store"></i></div>
                <div class="stat-number">10K+</div>
                <div class="stat-label">Empresas Ativas</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-number">2.5M</div>
                <div class="stat-label">Clientes Cadastrados</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                <div class="stat-number">+45%</div>
                <div class="stat-label">Aumento em Vendas</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-star"></i></div>
                <div class="stat-number">4.9</div>
                <div class="stat-label">Avalia??o M?dia</div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features" id="features">
        <div class="section-header">
            <span class="section-badge">Recursos Inteligentes</span>
            <h2 class="section-title">Tudo que voc? precisa<br>em um s? lugar</h2>
            <p class="section-description">
                Ferramentas poderosas para criar campanhas, gerenciar pontos e aumentar engajamento
            </p>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-qrcode"></i>
                </div>
                <h3 class="feature-title">QR Code Inteligente</h3>
                <p class="feature-description">
                    Sistema de pontos autom?tico via QR Code. Cliente escaneia e acumula pontos instantaneamente.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <h3 class="feature-title">Programa de Recompensas</h3>
                <p class="feature-description">
                    Crie campanhas personalizadas, cupons de desconto e b?nus de anivers?rio automaticamente.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-pie"></i>
                </div>
                <h3 class="feature-title">Dashboard Completo</h3>
                <p class="feature-description">
                    Relat?rios em tempo real, an?lise de comportamento e insights para decis?es inteligentes.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">App Mobile</h3>
                <p class="feature-description">
                    Experi?ncia premium no celular. Cliente gerencia pontos, cupons e recompensas.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <h3 class="feature-title">Notifica??es Push</h3>
                <p class="feature-description">
                    Engaje clientes com notifica??es personalizadas sobre promo??es e novidades.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title">100% Seguro</h3>
                <p class="feature-description">
                    Criptografia de ponta a ponta, conformidade LGPD e prote??o total de dados.
                </p>
            </div>
        </div>
    </section>

    <!-- Pricing -->
    <section class="pricing" id="pricing">
        <div class="section-header">
            <span class="section-badge">Planos</span>
            <h2 class="section-title">Escolha seu plano ideal</h2>
            <p class="section-description">
                14 dias gr?tis em todos os planos. Cancele quando quiser.
            </p>
        </div>

        <div class="pricing-grid">
            <div class="pricing-card">
                <div class="pricing-header">
                    <h3 class="pricing-title">B?sico</h3>
                    <div class="pricing-price">
                        <span class="price-currency">R$</span>
                        <span class="price-value">49</span>
                        <span class="price-period">/m?s</span>
                    </div>
                </div>
                <ul class="pricing-features">
                    <li><i class="fas fa-check"></i> At? 500 clientes</li>
                    <li><i class="fas fa-check"></i> QR Code ilimitado</li>
                    <li><i class="fas fa-check"></i> Dashboard b?sico</li>
                    <li><i class="fas fa-check"></i> Suporte por email</li>
                </ul>
                <a href="cadastro-empresa.html" class="btn-pricing">Come?ar Gr?tis</a>
            </div>

            <div class="pricing-card pricing-featured">
                <div class="pricing-badge">Mais Popular</div>
                <div class="pricing-header">
                    <h3 class="pricing-title">Premium</h3>
                    <div class="pricing-price">
                        <span class="price-currency">R$</span>
                        <span class="price-value">99</span>
                        <span class="price-period">/m?s</span>
                    </div>
                </div>
                <ul class="pricing-features">
                    <li><i class="fas fa-check"></i> At? 2.000 clientes</li>
                    <li><i class="fas fa-check"></i> Todos recursos B?sico</li>
                    <li><i class="fas fa-check"></i> Dashboard avan?ado</li>
                    <li><i class="fas fa-check"></i> Notifica??es push</li>
                    <li><i class="fas fa-check"></i> Suporte priorit?rio</li>
                </ul>
                <a href="cadastro-empresa.html" class="btn-pricing btn-primary">Come?ar Gr?tis</a>
            </div>

            <div class="pricing-card">
                <div class="pricing-header">
                    <h3 class="pricing-title">Enterprise</h3>
                    <div class="pricing-price">
                        <span class="price-currency">R$</span>
                        <span class="price-value">299</span>
                        <span class="price-period">/m?s</span>
                    </div>
                </div>
                <ul class="pricing-features">
                    <li><i class="fas fa-check"></i> Clientes ilimitados</li>
                    <li><i class="fas fa-check"></i> Todos recursos Premium</li>
                    <li><i class="fas fa-check"></i> API completa</li>
                    <li><i class="fas fa-check"></i> White label</li>
                    <li><i class="fas fa-check"></i> Suporte 24/7</li>
                </ul>
                <a href="cadastro-empresa.html" class="btn-pricing">Falar com Vendas</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Tem de Tudo</h4>
                <p>Sistema completo de fideliza??o digital para empresas modernas.</p>
            </div>
            
            <div class="footer-section">
                <h4>Produto</h4>
                <ul>
                    <li><a href="#features">Recursos</a></li>
                    <li><a href="#pricing">Planos</a></li>
                    <li><a href="entrar.html">Entrar</a></li>
                    <li><a href="cadastro-empresa.html">Cadastrar</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Suporte</h4>
                <ul>
                    <li><a href="ajuda.html">Central de Ajuda</a></li>
                    <li><a href="contato.html">Contato</a></li>
                    <li><a href="termos.html">Termos de Uso</a></li>
                    <li><a href="privacidade.html">Privacidade</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Tem de Tudo. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tem de Tudo - Sistema de Fidelidade</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    
    <style>
        /* Estilos específicos da landing page */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 480px;
            padding: 40px 24px;
            text-align: center;
        }
        
        .logo {
            font-size: 80px;
            margin-bottom: 24px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        h1 {
            font-size: 42px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }
        
        .subtitle {
            font-size: 18px;
            color: #b0b0b0;
            margin-bottom: 48px;
            line-height: 1.5;
        }
        
        .features {
            display: grid;
            gap: 16px;
            margin-bottom: 48px;
        }
        
        .feature {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.3s;
        }
        
        .feature:hover {
            transform: translateX(4px);
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
        }
        
        .feature-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }
        
        .feature-text {
            flex: 1;
            text-align: left;
        }
        
        .feature-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .feature-desc {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .cta-buttons {
            display: grid;
            gap: 12px;
        }
        
        .btn {
            padding: 18px 32px;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 700;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            color: white;
            border: 2px solid rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .footer-text {
            margin-top: 32px;
            font-size: 13px;
            color: #666;
        }
        
        @media (max-width: 480px) {
            .container { padding: 24px 20px; }
            h1 { font-size: 36px; }
            .logo { font-size: 64px; }
            .subtitle { font-size: 16px; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/img/logo.png" alt="Tem de Tudo" style="width: 120px; height: 120px; border-radius: 24px; box-shadow: 0 12px 32px rgba(102, 126, 234, 0.3);">
        </div>
        
        <h1>Tem de Tudo</h1>
        <p class="subtitle">
            O sistema de fidelidade mais completo.<br>
            Acumule pontos e ganhe recompensas!
        </p>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">QR Code Exclusivo</div>
                    <div class="feature-desc">Seu cartão de fidelidade digital</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Acumule Pontos</div>
                    <div class="feature-desc">A cada compra você ganha pontos</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Ganhe Prêmios</div>
                    <div class="feature-desc">Troque pontos por descontos</div>
                </div>
            </div>
            
            <div class="feature">
                <div class="feature-icon">??</div>
                <div class="feature-text">
                    <div class="feature-title">Várias Empresas</div>
                    <div class="feature-desc">Um único app, várias lojas parceiras</div>
                </div>
            </div>
        </div>
        
        <div class="cta-buttons">
            <a href="entrar.html" class="btn btn-primary">
                <i class="fas fa-sign-in-alt"></i> Entrar no Sistema
            </a>
            <a href="cadastro.html" class="btn btn-secondary">
                <i class="fas fa-user-plus"></i> Criar Nova Conta
            </a>
        </div>
        
        <p class="footer-text">
            Tem de Tudo © 2026 - Sistema de Fidelidade
        </p>
    </div>
    
    <script>
        // Efeito parallax suave no scroll
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            document.querySelector('.logo').style.transform = `translateY(${scrolled * 0.5}px)`;
        });
        
        // Animação de entrada
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.container').style.animation = 'fadeIn 0.6s ease-out';
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Início - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:90px;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px 60px;position:relative;overflow:hidden;"><div style="max-width:1200px;margin:0 auto;"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;"><div style="display:flex;align-items:center;gap:12px;"><div style="width:50px;height:50px;background:rgba(255,255,255,0.2);border-radius:12px;display:flex;align-items:center;justify-content:center;"><i class="fas fa-sparkles" style="font-size:24px;"></i></div><div style="font-size:22px;font-weight:900;">Tem de Tudo</div></div><i class="fas fa-bell" style="font-size:24px;"></i></div><div style="font-size:14px;opacity:0.9;margin-bottom:8px;">Olá!</div><div style="font-size:28px;font-weight:900;" id="userName">Cliente</div></div></header>
<div style="max-width:1200px;margin:-40px auto 0;padding:0 20px;"><div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);margin-bottom:24px;"><div style="text-align:center;"><div style="font-size:48px;font-weight:900;color:#667eea;" id="pontosTotal">0</div><div style="color:#7c8db0;font-size:14px;font-weight:600;">Pontos Disponíveis</div></div></div>
<h2 style="font-size:22px;font-weight:800;color:#1a1a2e;margin:24px 0 16px;">Estabelecimentos</h2><div id="estabelecimentos"></div></div>
<nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Início</span></a><a href="/meus-pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav>
<script>async function load(){const token=localStorage.getItem('token');if(!token){window.location.href='/entrar';return;}try{const r=await fetch('/api/cliente/dashboard',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('userName').textContent=d.nome||'Cliente';document.getElementById('pontosTotal').textContent=d.pontos||0;}}catch(e){}}load();</script>
</body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Meu QR Code - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><h1 style="font-size:28px;font-weight:900;margin:0;">Meu QR Code</h1></header><div style="max-width:600px;margin:0 auto;padding:32px 20px;text-align:center;"><div style="background:white;border-radius:24px;padding:40px;box-shadow:0 20px 60px rgba(102,126,234,0.12);"><canvas id="qr" style="max-width:100%;"></canvas></div></div><script>const userData={type:"cliente_checkin",cliente_id:localStorage.getItem("userId")||"demo"};QRCode.toCanvas(document.getElementById("qr"),JSON.stringify(userData),{width:300,margin:2});</script></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meus Descontos - Tem de Tudo</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <nav class="nav-bar">
        <ul>
            <li><a href="/dashboard-estabelecimento.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/profile-company.html"><i class="fas fa-building"></i> Painel Empresa</a></li>
            <li><a href="/configurar-descontos.html"><i class="fas fa-percent"></i> Configurar Descontos</a></li>
            <li><a href="/aplicar-desconto.html"><i class="fas fa-tag"></i> Aplicar Desconto</a></li>
            <li><a href="/meus-descontos.html"><i class="fas fa-list"></i> Meus Descontos</a></li>
            <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </nav>

    <div class="page-header">
        <h1 class="page-title"><i class="fas fa-history"></i> Hist?rico de Descontos</h1>
        <p class="page-subtitle">Acompanhe todos os descontos aplicados em sua empresa</p>
    </div>

    <div class="container">
        <div class="stats-bar">
            <div class="stat-box blue">
                <div class="stat-icon"><i class="fas fa-receipt"></i></div>
                <div class="stat-value" id="totalDiscounts">0</div>
                <div class="stat-label">Total de Descontos</div>
            </div>
            <div class="stat-box green">
                <div class="stat-icon"><i class="fas fa-coins"></i></div>
                <div class="stat-value" id="totalSavings">R$ 0</div>
                <div class="stat-label">Economia dos Clientes</div>
            </div>
            <div class="stat-box orange">
                <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                <div class="stat-value" id="avgDiscount">0%</div>
                <div class="stat-label">Desconto M?dio</div>
            </div>
        </div>

        <div class="filters-section">
            <span class="filter-label"><i class="fas fa-filter"></i> Filtrar por:</span>
            <select class="filter-select" id="periodFilter" onchange="filterDiscounts()">
                <option value="all">Todos os per?odos</option>
                <option value="today">Hoje</option>
                <option value="week">Esta semana</option>
                <option value="month">Este m?s</option>
            </select>
            <select class="filter-select" id="levelFilter" onchange="filterDiscounts()">
                <option value="all">Todos os n?veis</option>
                <option value="bronze">Bronze</option>
                <option value="silver">Prata</option>
                <option value="gold">Ouro</option>
                <option value="platinum">Platina</option>
                <option value="diamond">Diamante</option>
            </select>
        </div>

        <div id="discountsList" class="timeline">
            <div class="empty-state">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Carregando hist?rico de descontos...</p>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            localStorage.removeItem('tem_de_tudo_token');
            localStorage.removeItem('tem_de_tudo_user');
            window.location.href = '/entrar.html';
        }

        function checkAuth() {
            const token = localStorage.getItem('tem_de_tudo_token');
            if (!token) {
                window.location.href = '/entrar.html';
                return false;
            }
            return true;
        }

        function loadDiscounts() {
            // Simula??o de dados (integre com sua API)
            const mockDiscounts = [
                {
                    id: 1,
                    customerName: 'Maria Santos',
                    date: '2024-11-28 14:30',
                    level: 'Diamante',
                    discount: 25,
                    originalValue: 450.00,
                    finalValue: 337.50,
                    savings: 112.50
                },
                {
                    id: 2,
                    customerName: 'Jo?o Silva',
                    date: '2024-11-28 13:15',
                    level: 'Platina',
                    discount: 20,
                    originalValue: 289.90,
                    finalValue: 231.92,
                    savings: 57.98
                },
                {
                    id: 3,
                    customerName: 'Ana Paula',
                    date: '2024-11-28 11:45',
                    level: 'Ouro',
                    discount: 15,
                    originalValue: 320.00,
                    finalValue: 272.00,
                    savings: 48.00
                },
                {
                    id: 4,
                    customerName: 'Carlos Mendes',
                    date: '2024-11-28 10:20',
                    level: 'Prata',
                    discount: 10,
                    originalValue: 159.90,
                    finalValue: 143.91,
                    savings: 15.99
                },
                {
                    id: 5,
                    customerName: 'Fernanda Lima',
                    date: '2024-11-28 09:15',
                    level: 'Ouro',
                    discount: 15,
                    originalValue: 199.00,
                    finalValue: 169.15,
                    savings: 29.85
                },
                {
                    id: 6,
                    customerName: 'Pedro Costa',
                    date: '2024-11-27 16:45',
                    level: 'Bronze',
                    discount: 5,
                    originalValue: 89.90,
                    finalValue: 85.41,
                    savings: 4.49
                },
                {
                    id: 7,
                    customerName: 'Juliana Alves',
                    date: '2024-11-27 15:30',
                    level: 'Platina',
                    discount: 20,
                    originalValue: 550.00,
                    finalValue: 440.00,
                    savings: 110.00
                },
                {
                    id: 8,
                    customerName: 'Roberto Oliveira',
                    date: '2024-11-27 14:10',
                    level: 'Prata',
                    discount: 10,
                    originalValue: 125.50,
                    finalValue: 112.95,
                    savings: 12.55
                }
            ];

            displayDiscounts(mockDiscounts);
            updateStats(mockDiscounts);
        }

        function displayDiscounts(discounts) {
            const container = document.getElementById('discountsList');

            if (discounts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-receipt"></i>
                        <p>Nenhum desconto aplicado ainda.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = discounts.map(discount => `
                <div class="discount-item">
                    <div class="discount-header">
                        <div>
                            <h3 class="customer-name">${discount.customerName}</h3>
                            <span class="discount-date">
                                <i class="fas fa-calendar-alt"></i> ${discount.date}
                            </span>
                        </div>
                        <span class="discount-badge">${discount.discount}% OFF</span>
                    </div>
                    <div class="discount-details">
                        <div class="detail-item">
                            <span class="detail-label">N?vel</span>
                            <span class="detail-value">${discount.level}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Valor Original</span>
                            <span class="detail-value">R$ ${discount.originalValue.toFixed(2)}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Valor Final</span>
                            <span class="detail-value">R$ ${discount.finalValue.toFixed(2)}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Economia</span>
                            <span class="detail-value" style="color: #0ba360;">R$ ${discount.savings.toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateStats(discounts) {
            const totalDiscounts = discounts.length;
            const totalSavings = discounts.reduce((sum, d) => sum + d.savings, 0);
            const avgDiscount = discounts.reduce((sum, d) => sum + d.discount, 0) / discounts.length;

            document.getElementById('totalDiscounts').textContent = totalDiscounts;
            document.getElementById('totalSavings').textContent = 'R$ ' + totalSavings.toFixed(2);
            document.getElementById('avgDiscount').textContent = avgDiscount.toFixed(1) + '%';
        }

        function filterDiscounts() {
            // Implementar filtros (integre com sua API)
            console.log('Filtros aplicados');
            loadDiscounts();
        }

        checkAuth();
        loadDiscounts();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Meus Pontos - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:90px;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;"><div style="max-width:1200px;margin:0 auto;text-align:center;"><div style="width:80px;height:80px;background:rgba(255,255,255,0.2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;"><i class="fas fa-sparkles" style="font-size:40px;"></i></div><div style="font-size:14px;opacity:0.9;margin-bottom:8px;">Meu Saldo</div><div style="font-size:56px;font-weight:900;" id="pontos">0</div><div style="font-size:15px;opacity:0.9;">pontos disponíveis</div></div></header>
<div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><h2 style="font-size:22px;font-weight:800;color:#1a1a2e;margin-bottom:20px;"><i class="fas fa-history" style="color:#667eea;"></i> Histórico</h2><div id="historico"></div></div>
<nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Início</span></a><a href="/meus-pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav>
<script>async function load(){const token=localStorage.getItem('token');try{const r=await fetch('/api/cliente/pontos',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('pontos').textContent=d.total||0;}}catch(e){}}load();</script>
</body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Notificaààes - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;"><i class="fas fa-bell"></i> Notificaààes</h1></header><div style="max-width:800px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:24px;text-align:center;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><p style="color:#7c8db0;margin:0;">Nenhuma notificaàào nova</p></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Painel - Tem de Tudo Empresa</title>
    <meta name="theme-color" content="#667eea">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:80px;">
    
    <!-- Header Premium -->
    <header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px 60px;position:relative;overflow:hidden;">
        <div style="position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(255,255,255,0.1),transparent);top:-200px;right:-200px;border-radius:50%;"></div>
        
        <div style="position:relative;z-index:1;max-width:1200px;margin:0 auto;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;">
                <div style="display:flex;align-items:center;gap:12px;">
                    <div style="width:50px;height:50px;background:rgba(255,255,255,0.2);border-radius:12px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px);">
                        <i class="fas fa-sparkles" style="font-size:24px;"></i>
                    </div>
                    <div style="font-size:22px;font-weight:900;">Tem de Tudo</div>
                </div>
                <button onclick="logout()" style="background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.2);color:white;padding:10px 20px;border-radius:50px;cursor:pointer;font-weight:600;backdrop-filter:blur(10px);">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
            
            <div>
                <div style="font-size:14px;opacity:0.9;margin-bottom:8px;">Bem-vindo de volta!</div>
                <div style="font-size:28px;font-weight:900;" id="companyName">Carregando...</div>
            </div>
        </div>
    </header>

    <!-- Stats Cards -->
    <div style="max-width:1200px;margin:-40px auto 0;padding:0 20px;">
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;margin-bottom:32px;">
            <div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);border:1px solid rgba(102,126,234,0.08);">
                <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;">
                    <div style="width:56px;height:56px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(102,126,234,0.3);">
                        <i class="fas fa-users" style="font-size:24px;color:white;"></i>
                    </div>
                    <div>
                        <div style="font-size:32px;font-weight:900;color:#1a1a2e;" id="totalClientes">0</div>
                        <div style="font-size:13px;color:#7c8db0;font-weight:600;">Clientes Ativos</div>
                    </div>
                </div>
                <div style="font-size:12px;color:#10b981;font-weight:600;">
                    <i class="fas fa-arrow-up"></i> +12% este m?s
                </div>
            </div>

            <div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);border:1px solid rgba(102,126,234,0.08);">
                <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;">
                    <div style="width:56px;height:56px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(102,126,234,0.3);">
                        <i class="fas fa-check-circle" style="font-size:24px;color:white;"></i>
                    </div>
                    <div>
                        <div style="font-size:32px;font-weight:900;color:#1a1a2e;" id="totalCheckins">0</div>
                        <div style="font-size:13px;color:#7c8db0;font-weight:600;">Check-ins Hoje</div>
                    </div>
                </div>
                <div style="font-size:12px;color:#10b981;font-weight:600;">
                    <i class="fas fa-arrow-up"></i> +8% vs ontem
                </div>
            </div>

            <div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);border:1px solid rgba(102,126,234,0.08);">
                <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;">
                    <div style="width:56px;height:56px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(102,126,234,0.3);">
                        <i class="fas fa-star" style="font-size:24px;color:white;"></i>
                    </div>
                    <div>
                        <div style="font-size:32px;font-weight:900;color:#1a1a2e;" id="pontosDistribuidos">0</div>
                        <div style="font-size:13px;color:#7c8db0;font-weight:600;">Pontos Distribu?dos</div>
                    </div>
                </div>
                <div style="font-size:12px;color:#10b981;font-weight:600;">
                    <i class="fas fa-arrow-up"></i> +25% este m?s
                </div>
            </div>

            <div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);border:1px solid rgba(102,126,234,0.08);">
                <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;">
                    <div style="width:56px;height:56px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px rgba(102,126,234,0.3);">
                        <i class="fas fa-gift" style="font-size:24px;color:white;"></i>
                    </div>
                    <div>
                        <div style="font-size:32px;font-weight:900;color:#1a1a2e;" id="promocoesAtivas">0</div>
                        <div style="font-size:13px;color:#7c8db0;font-weight:600;">Promo??es Ativas</div>
                    </div>
                </div>
                <div style="font-size:12px;color:#667eea;font-weight:600;">
                    <i class="fas fa-plus"></i> Criar nova
                </div>
            </div>
        </div>
    </div>

    <!-- A??es R?pidas -->
    <div style="max-width:1200px;margin:0 auto;padding:0 20px 32px;">
        <h2 style="font-size:22px;font-weight:800;color:#1a1a2e;margin-bottom:20px;">
            <i class="fas fa-bolt" style="color:#667eea;"></i> A??es R?pidas
        </h2>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;">
            <a href="/empresa/qrcode" style="background:white;border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;box-shadow:0 4px 12px rgba(102,126,234,0.05);border:1px solid rgba(102,126,234,0.08);transition:all 0.3s;" onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 24px rgba(102,126,234,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 4px 12px rgba(102,126,234,0.05)';">
                <div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;">
                    <i class="fas fa-qrcode" style="font-size:20px;color:white;"></i>
                </div>
                <div style="font-weight:700;font-size:15px;">Meu QR Code</div>
            </a>

            <a href="/empresa/promocoes" style="background:white;border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;box-shadow:0 4px 12px rgba(102,126,234,0.05);border:1px solid rgba(102,126,234,0.08);transition:all 0.3s;" onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 24px rgba(102,126,234,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 4px 12px rgba(102,126,234,0.05)';">
                <div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;">
                    <i class="fas fa-tags" style="font-size:20px;color:white;"></i>
                </div>
                <div style="font-weight:700;font-size:15px;">Promo??es</div>
            </a>

            <a href="/empresa/clientes" style="background:white;border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;box-shadow:0 4px 12px rgba(102,126,234,0.05);border:1px solid rgba(102,126,234,0.08);transition:all 0.3s;" onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 24px rgba(102,126,234,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 4px 12px rgba(102,126,234,0.05)';">
                <div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;">
                    <i class="fas fa-users" style="font-size:20px;color:white;"></i>
                </div>
                <div style="font-weight:700;font-size:15px;">Ver Clientes</div>
            </a>

            <a href="/empresa/scanner" style="background:white;border-radius:16px;padding:20px;text-decoration:none;color:#1a1a2e;display:flex;align-items:center;gap:16px;box-shadow:0 4px 12px rgba(102,126,234,0.05);border:1px solid rgba(102,126,234,0.08);transition:all 0.3s;" onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 8px 24px rgba(102,126,234,0.12)';" onmouseout="this.style.transform='';this.style.boxShadow='0 4px 12px rgba(102,126,234,0.05)';">
                <div style="width:48px;height:48px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;">
                    <i class="fas fa-camera" style="font-size:20px;color:white;"></i>
                </div>
                <div style="font-weight:700;font-size:15px;">Escanear</div>
            </a>
        </div>
    </div>

    <!-- Bottom Nav -->
    <nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);z-index:100;">
        <a href="/empresa/painel" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;">
            <i class="fas fa-home" style="font-size:22px;"></i>
            <span style="font-size:11px;font-weight:700;">In?cio</span>
        </a>
        <a href="/empresa/promocoes" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;">
            <i class="fas fa-tags" style="font-size:22px;"></i>
            <span style="font-size:11px;font-weight:700;">Promo??es</span>
        </a>
        <a href="/empresa/scanner" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;">
            <i class="fas fa-qrcode" style="font-size:22px;"></i>
            <span style="font-size:11px;font-weight:700;">Scanner</span>
        </a>
        <a href="/empresa/clientes" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;">
            <i class="fas fa-users" style="font-size:22px;"></i>
            <span style="font-size:11px;font-weight:700;">Clientes</span>
        </a>
        <a href="/empresa/configuracoes" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;">
            <i class="fas fa-cog" style="font-size:22px;"></i>
            <span style="font-size:11px;font-weight:700;">Config</span>
        </a>
    </nav>

    <script>
        async function loadDashboard() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/entrar';
                return;
            }

            try {
                const response = await fetch('/api/empresa/dashboard', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('companyName').textContent = data.empresa?.nome_fantasia || 'Minha Empresa';
                    document.getElementById('totalClientes').textContent = data.total_clientes || 0;
                    document.getElementById('totalCheckins').textContent = data.checkins_hoje || 0;
                    document.getElementById('pontosDistribuidos').textContent = data.pontos_distribuidos || 0;
                    document.getElementById('promocoesAtivas').textContent = data.promocoes_ativas || 0;
                }
            } catch (error) {
                console.error('Erro:', error);
            }
        }

        function logout() {
            if (confirm('Deseja sair?')) {
                localStorage.removeItem('token');
                window.location.href = '/entrar';
            }
        }

        loadDashboard();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Meu Perfil - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="margin:0;padding:0;font-family:'Inter',sans-serif;background:#f8f9ff;padding-bottom:90px;">
<header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><div style="width:100px;height:100px;background:rgba(255,255,255,0.2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;font-size:48px;font-weight:900;" id="avatar">A</div><div style="font-size:24px;font-weight:900;" id="nome">Carregando...</div><div style="font-size:14px;opacity:0.9;" id="email"></div></header>
<div style="max-width:800px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h2 style="font-size:20px;font-weight:800;color:#1a1a2e;margin:0 0 24px;">Meus Dados</h2><div style="margin-bottom:16px;"><div style="font-size:12px;color:#7c8db0;font-weight:600;margin-bottom:4px;">CPF</div><div style="font-size:16px;color:#1a1a2e;font-weight:600;" id="cpf">-</div></div><div style="margin-bottom:16px;"><div style="font-size:12px;color:#7c8db0;font-weight:600;margin-bottom:4px;">Telefone</div><div style="font-size:16px;color:#1a1a2e;font-weight:600;" id="telefone">-</div></div><button onclick="logout()" style="width:100%;padding:14px;background:rgba(239,68,68,0.1);color:#ef4444;border:none;border-radius:12px;font-weight:700;cursor:pointer;margin-top:24px;"><i class="fas fa-sign-out-alt"></i> Sair</button></div></div>
<nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Início</span></a><a href="/meus-pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav>
<script>async function load(){const token=localStorage.getItem('token');try{const r=await fetch('/api/perfil',{headers:{'Authorization':'Bearer '+token}});if(r.ok){const d=await r.json();document.getElementById('nome').textContent=d.nome||'';document.getElementById('email').textContent=d.email||'';document.getElementById('cpf').textContent=d.cpf||'-';document.getElementById('telefone').textContent=d.telefone||'-';document.getElementById('avatar').textContent=(d.nome||'A').charAt(0).toUpperCase();}}catch(e){}}function logout(){authManager.logout();}load();</script>
</body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Planos e Preços - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            color: #fff;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1a2e, #0f3460);
            padding: 80px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)" /></svg>');
            opacity: 0.3;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            margin-bottom: 24px;
            opacity: 0.9;
            font-weight: 600;
        }
        
        .back-link:hover {
            opacity: 1;
        }
        
        .header h1 {
            font-size: 56px;
            font-weight: 900;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header p {
            font-size: 20px;
            opacity: 0.85;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .container {
            max-width: 1400px;
            margin: -60px auto 80px;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }
        
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
        }
        
        .plan-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 40px;
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #0f3460, #1a1a2e);
        }
        
        .plan-card:hover {
            border-color: #0f3460;
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(15, 52, 96, 0.4);
        }
        
        .plan-card.featured {
            background: linear-gradient(145deg, #0f3460, #1a1a2e);
            border-color: #667eea;
            transform: scale(1.05);
        }
        
        .plan-card.featured::before {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .plan-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 16px;
            letter-spacing: 1px;
        }
        
        .plan-name {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 12px;
            color: #fff;
        }
        
        .plan-description {
            color: #b0b0b0;
            margin-bottom: 24px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .plan-price {
            margin-bottom: 32px;
        }
        
        .price-value {
            font-size: 48px;
            font-weight: 900;
            color: #fff;
        }
        
        .price-value small {
            font-size: 24px;
            font-weight: 600;
            opacity: 0.7;
        }
        
        .price-period {
            color: #b0b0b0;
            font-size: 14px;
        }
        
        .plan-features {
            list-style: none;
            margin-bottom: 32px;
        }
        
        .plan-features li {
            padding: 12px 0;
            display: flex;
            align-items: start;
            gap: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .plan-features li:last-child {
            border-bottom: none;
        }
        
        .plan-features i {
            color: #667eea;
            font-size: 18px;
            margin-top: 2px;
        }
        
        .plan-features .disabled {
            opacity: 0.3;
        }
        
        .plan-features .disabled i {
            color: #666;
        }
        
        .btn-plan {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-plan-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .btn-plan-primary:hover {
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.5);
            transform: translateY(-2px);
        }
        
        .btn-plan-secondary {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
        }
        
        .btn-plan-secondary:hover {
            background: #667eea;
            color: white;
        }
        
        .comparison-section {
            margin-top: 80px;
            padding: 60px 40px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
        }
        
        .comparison-section h2 {
            font-size: 36px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 48px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: #0f3460;
            padding: 16px;
            text-align: left;
            font-weight: 800;
            border-bottom: 2px solid #667eea;
        }
        
        .comparison-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .comparison-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        .check-icon {
            color: #4caf50;
            font-size: 20px;
        }
        
        .x-icon {
            color: #666;
            font-size: 20px;
            opacity: 0.3;
        }
        
        .faq-section {
            margin-top: 80px;
            padding: 60px 40px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
        }
        
        .faq-section h2 {
            font-size: 36px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 48px;
        }
        
        .faq-item {
            padding: 24px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .faq-item:last-child {
            border-bottom: none;
        }
        
        .faq-item h3 {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 12px;
        }
        
        .faq-item p {
            color: #b0b0b0;
            line-height: 1.8;
        }
        
        .footer {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        @media (max-width: 1024px) {
            .plans-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .plan-card.featured {
                transform: scale(1);
            }
            
            .header h1 {
                font-size: 36px;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <div class="header-content">
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left"></i> Voltar para Home
            </a>
            <h1>Planos e Preços</h1>
            <p>Escolha o plano ideal para o seu negócio. Sem taxas ocultas, sem pegadinhas.</p>
        </div>
    </div>
    
    <div class="container">
        <div class="plans-grid">
            <!-- PLANO STARTER -->
            <div class="plan-card">
                <div class="plan-name">Starter</div>
                <div class="plan-description">Ideal para começar e testar o sistema</div>
                
                <div class="plan-price">
                    <div class="price-value">R$ <small>97</small></div>
                    <div class="price-period">/mês</div>
                </div>
                
                <ul class="plan-features">
                    <li><i class="fas fa-check-circle"></i> <span>Cadastre até 500 clientes ativos</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Acúmulo e resgate de pontos sem limites</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>QR Code exclusivo para seu negócio</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Aplicativo mobile para seus clientes</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Painel gerencial com métricas essenciais</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Atendimento por email em até 24h</span></li>
                    <li class="disabled"><i class="fas fa-times-circle"></i> <span>Envio de promoções via notificação</span></li>
                    <li class="disabled"><i class="fas fa-times-circle"></i> <span>Análise detalhada de performance</span></li>
                    <li class="disabled"><i class="fas fa-times-circle"></i> <span>Integração com outros sistemas</span></li>
                </ul>
                
                <button class="btn-plan btn-plan-secondary" onclick="selectPlan('starter')">
                    Começar Agora
                </button>
            </div>
            
            <!-- PLANO PROFESSIONAL (DESTAQUE) -->
            <div class="plan-card featured">
                <span class="plan-badge">?? Mais Popular</span>
                <div class="plan-name">Professional</div>
                <div class="plan-description">Para negócios que querem resultados sérios</div>
                
                <div class="plan-price">
                    <div class="price-value">R$ <small>197</small></div>
                    <div class="price-period">/mês</div>
                </div>
                
                <ul class="plan-features">
                    <li><i class="fas fa-check-circle"></i> <span>Escale até 2.000 clientes fidelizados</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Programa de pontos 100% automatizado</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>QR Code com identidade visual do seu negócio</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>App mobile profissional e sem marcas</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Dashboard com análises completas em tempo real</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Engaje clientes com notificações personalizadas</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Decisões estratégicas baseadas em dados</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Suporte VIP direto via WhatsApp</span></li>
                    <li class="disabled"><i class="fas fa-times-circle"></i> <span>Conecte com ERP, CRM e outros sistemas</span></li>
                </ul>
                
                <button class="btn-plan btn-plan-primary" onclick="selectPlan('professional')">
                    Começar Agora
                </button>
            </div>
            
            <!-- PLANO ENTERPRISE -->
            <div class="plan-card">
                <div class="plan-name">Enterprise</div>
                <div class="plan-description">Para redes e franquias que precisam de poder total</div>
                
                <div class="plan-price">
                    <div class="price-value">R$ <small>397</small></div>
                    <div class="price-period">/mês</div>
                </div>
                
                <ul class="plan-features">
                    <li><i class="fas fa-check-circle"></i> <span>Base de clientes ilimitada - cresça sem barreiras</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Gerencie múltiplas lojas ou franquias unificadas</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>QR Codes personalizados por estabelecimento</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>App exclusivo com sua marca e identidade</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Business Intelligence completo e dashboards customizados</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Campanhas de marketing automatizadas ilimitadas</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Relatórios sob medida para seu modelo de negócio</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Integração total via API REST com seus sistemas</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Time dedicado de suporte 24/7 e consultoria estratégica</span></li>
                </ul>
                
                <button class="btn-plan btn-plan-secondary" onclick="selectPlan('enterprise')">
                    Falar com Consultor
                </button>
            </div>
        </div>
        
        <!-- TABELA COMPARAÇÃO -->
        <div class="comparison-section">
            <h2>Comparação Completa de Recursos</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Recurso</th>
                        <th>Starter</th>
                        <th>Professional</th>
                        <th>Enterprise</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Clientes cadastrados</strong></td>
                        <td>Até 500</td>
                        <td>Até 2.000</td>
                        <td>Ilimitado</td>
                    </tr>
                    <tr>
                        <td><strong>Estabelecimentos</strong></td>
                        <td>1</td>
                        <td>1</td>
                        <td>Ilimitado</td>
                    </tr>
                    <tr>
                        <td><strong>Notificações push/mês</strong></td>
                        <td class="x-icon"><i class="fas fa-times"></i></td>
                        <td>Ilimitadas</td>
                        <td>Ilimitadas</td>
                    </tr>
                    <tr>
                        <td><strong>Relatórios exportação</strong></td>
                        <td class="check-icon"><i class="fas fa-check"></i></td>
                        <td class="check-icon"><i class="fas fa-check"></i></td>
                        <td class="check-icon"><i class="fas fa-check"></i></td>
                    </tr>
                    <tr>
                        <td><strong>API de integração</strong></td>
                        <td class="x-icon"><i class="fas fa-times"></i></td>
                        <td class="x-icon"><i class="fas fa-times"></i></td>
                        <td class="check-icon"><i class="fas fa-check"></i></td>
                    </tr>
                    <tr>
                        <td><strong>White-label</strong></td>
                        <td class="x-icon"><i class="fas fa-times"></i></td>
                        <td class="x-icon"><i class="fas fa-times"></i></td>
                        <td class="check-icon"><i class="fas fa-check"></i></td>
                    </tr>
                    <tr>
                        <td><strong>Suporte</strong></td>
                        <td>Email</td>
                        <td>WhatsApp prioritário</td>
                        <td>24/7 dedicado</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- FAQ -->
        <div class="faq-section">
            <h2>Perguntas Frequentes sobre Planos</h2>
            
            <div class="faq-item">
                <h3>?? Quais formas de pagamento vocês aceitam?</h3>
                <p>Aceitamos cartão de crédito (Visa, Mastercard, Elo, Amex) e boleto bancário. Pagamento via Pix disponível para planos anuais.</p>
            </div>
            
            <div class="faq-item">
                <h3>?? Posso mudar de plano depois?</h3>
                <p>Sim! Você pode fazer upgrade ou downgrade a qualquer momento. Mudanças são efetivadas no próximo ciclo de faturamento.</p>
            </div>
            
            <div class="faq-item">
                <h3>?? Tem desconto para pagamento anual?</h3>
                <p>Sim! Pagamento anual à vista tem 20% de desconto. Plano Professional anual sai por R$ 1.893 (equivalente a R$ 157/mês).</p>
            </div>
            
            <div class="faq-item">
                <h3>?? Posso testar antes de pagar?</h3>
                <p>Sim! Oferecemos 14 dias grátis em todos os planos. Não pedimos cartão de crédito no teste.</p>
            </div>
            
            <div class="faq-item">
                <h3>?? Como funciona o cancelamento?</h3>
                <p>Sem multa, sem burocracia. Cancele quando quiser com 7 dias de antecedência. Dados são mantidos por 90 dias após cancelamento.</p>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2025 Tem de Tudo. Todos os direitos reservados.</p>
        <p><a href="index.html" style="color: #667eea; text-decoration: none;">Voltar para Home</a></p>
    </div>

    <script>
        function selectPlan(plan) {
            // Redireciona para cadastro com parâmetro do plano
            const planNames = {
                starter: 'Starter - R$ 97/mês',
                professional: 'Professional - R$ 197/mês',
                enterprise: 'Enterprise - R$ 397/mês'
            };
            
            if (confirm(`Você selecionou o plano ${planNames[plan]}.\n\nDeseja prosseguir para o cadastro?`)) {
                window.location.href = `cadastro-empresa.html?plan=${plan}`;
            }
        }
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pol?tica de Privacidade - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #0f3460;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 8px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            margin-bottom: 16px;
            opacity: 0.9;
        }
        
        .back-link:hover {
            opacity: 1;
        }
        
        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .content {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .last-update {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e9ecef;
        }
        
        h2 {
            font-size: 24px;
            font-weight: 800;
            margin-top: 32px;
            margin-bottom: 16px;
            color: #1a1a2e;
        }
        
        h3 {
            font-size: 18px;
            font-weight: 700;
            margin-top: 24px;
            margin-bottom: 12px;
            color: #0f3460;
        }
        
        p {
            margin-bottom: 16px;
            color: #495057;
        }
        
        ul, ol {
            margin-left: 24px;
            margin-bottom: 16px;
        }
        
        li {
            margin-bottom: 8px;
            color: #495057;
        }
        
        .highlight {
            background: #d1ecf1;
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #17a2b8;
            margin: 24px 0;
        }
        
        .warning {
            background: #fff3cd;
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 24px 0;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .data-table th {
            background: #1a1a2e;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 700;
        }
        
        .data-table td {
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Voltar para Home
        </a>
        <h1>Pol?tica de Privacidade</h1>
        <p>Transpar?ncia total sobre como tratamos seus dados</p>
    </div>
    
    <div class="container">
        <div class="content">
            <p class="last-update"><strong>?ltima atualiza??o:</strong> 17 de dezembro de 2025</p>
            
            <div class="highlight">
                <strong>?? Compromisso:</strong> Seus dados s?o tratados com m?xima seguran?a e em total conformidade com a Lei Geral de Prote??o de Dados (LGPD - Lei 13.709/2018).
            </div>
            
            <h2>1. Quem Somos</h2>
            <p>O <strong>Tem de Tudo</strong> ? uma plataforma de fideliza??o digital que conecta clientes e estabelecimentos comerciais atrav?s de programa de pontos e recompensas.</p>
            
            <p><strong>Controlador de Dados:</strong><br>
            [Nome da Empresa]<br>
            CNPJ: [N?mero]<br>
            Endere?o: [Endere?o Completo]<br>
            Email: privacidade@temdetudo.com.br</p>
            
            <h2>2. Dados que Coletamos</h2>
            
            <h3>2.1 Dados Fornecidos por Voc?</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Tipo de Dado</th>
                        <th>Finalidade</th>
                        <th>Base Legal (LGPD)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Nome completo</td>
                        <td>Identifica??o e personaliza??o</td>
                        <td>Execu??o de contrato</td>
                    </tr>
                    <tr>
                        <td>Email</td>
                        <td>Comunica??o e recupera??o de conta</td>
                        <td>Execu??o de contrato</td>
                    </tr>
                    <tr>
                        <td>Telefone/WhatsApp</td>
                        <td>Notifica??es e suporte</td>
                        <td>Consentimento</td>
                    </tr>
                    <tr>
                        <td>CPF/CNPJ</td>
                        <td>Valida??o de identidade e compliance fiscal</td>
                        <td>Obriga??o legal</td>
                    </tr>
                    <tr>
                        <td>Data de nascimento</td>
                        <td>B?nus de anivers?rio</td>
                        <td>Consentimento</td>
                    </tr>
                    <tr>
                        <td>Localiza??o (CEP/cidade)</td>
                        <td>Sugest?o de estabelecimentos pr?ximos</td>
                        <td>Consentimento</td>
                    </tr>
                    <tr>
                        <td>Foto de perfil</td>
                        <td>Personaliza??o da conta</td>
                        <td>Consentimento</td>
                    </tr>
                    <tr>
                        <td>Dados de pagamento</td>
                        <td>Processamento de assinaturas (estabelecimentos)</td>
                        <td>Execu??o de contrato</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>2.2 Dados Coletados Automaticamente</h3>
            <ul>
                <li><strong>Dados de navega??o:</strong> IP, navegador, sistema operacional, p?ginas visitadas;</li>
                <li><strong>Cookies:</strong> Prefer?ncias, sess?o de login, an?lise de uso;</li>
                <li><strong>Geolocaliza??o:</strong> Apenas se autorizado, para sugerir estabelecimentos pr?ximos;</li>
                <li><strong>Hist?rico de intera??es:</strong> Pontos acumulados, resgates, visitas a estabelecimentos;</li>
                <li><strong>Dados de dispositivo:</strong> Tipo de dispositivo, ID ?nico (para PWA).</li>
            </ul>
            
            <h2>3. Como Usamos Seus Dados</h2>
            
            <h3>3.1 Finalidades Essenciais</h3>
            <ul>
                <li>Criar e gerenciar sua conta de usu?rio;</li>
                <li>Processar ac?mulo e resgate de pontos;</li>
                <li>Validar transa??es via QR Code;</li>
                <li>Enviar notifica??es sobre promo??es (se autorizado);</li>
                <li>Fornecer suporte t?cnico;</li>
                <li>Detectar e prevenir fraudes.</li>
            </ul>
            
            <h3>3.2 Finalidades Secund?rias (com consentimento)</h3>
            <ul>
                <li>Enviar ofertas personalizadas baseadas em hist?rico;</li>
                <li>Realizar pesquisas de satisfa??o;</li>
                <li>Melhorar produtos e servi?os atrav?s de an?lise de dados;</li>
                <li>Enviar newsletters e conte?do marketing.</li>
            </ul>
            
            <div class="warning">
                <strong>?? Voc? pode retirar seu consentimento a qualquer momento</strong> atrav?s das configura??es da conta ou contato com privacidade@temdetudo.com.br.
            </div>
            
            <h2>4. Compartilhamento de Dados</h2>
            
            <h3>4.1 Com Quem Compartilhamos</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Destinat?rio</th>
                        <th>Dados Compartilhados</th>
                        <th>Finalidade</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Estabelecimentos parceiros</td>
                        <td>Nome, telefone, hist?rico de pontos</td>
                        <td>Validar resgates e oferecer promo??es</td>
                    </tr>
                    <tr>
                        <td>Processadores de pagamento</td>
                        <td>Dados de cart?o (criptografados)</td>
                        <td>Processar assinaturas</td>
                    </tr>
                    <tr>
                        <td>Provedores de infraestrutura</td>
                        <td>Dados t?cnicos e de navega??o</td>
                        <td>Hospedar e operar a plataforma</td>
                    </tr>
                    <tr>
                        <td>Ferramentas de an?lise</td>
                        <td>Dados agregados e anonimizados</td>
                        <td>Melhorar experi?ncia do usu?rio</td>
                    </tr>
                    <tr>
                        <td>Autoridades p?blicas</td>
                        <td>Conforme solicitado por ordem judicial</td>
                        <td>Cumprimento de obriga??o legal</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>4.2 Nunca Vendemos Seus Dados</h3>
            <p>Seus dados pessoais <strong>NUNCA</strong> s?o vendidos, alugados ou comercializados com terceiros para fins de marketing.</p>
            
            <h2>5. Seguran?a dos Dados</h2>
            
            <h3>5.1 Medidas de Prote??o</h3>
            <ul>
                <li><strong>Criptografia:</strong> Todos os dados s?o transmitidos via HTTPS/TLS;</li>
                <li><strong>Banco de dados:</strong> Armazenamento criptografado e com backup di?rio;</li>
                <li><strong>Autentica??o:</strong> Senhas armazenadas com hash bcrypt;</li>
                <li><strong>Firewall:</strong> Prote??o contra ataques DDoS e invas?es;</li>
                <li><strong>Monitoramento:</strong> Logs de acesso e detec??o de anomalias;</li>
                <li><strong>Acesso restrito:</strong> Apenas funcion?rios autorizados acessam dados sens?veis;</li>
                <li><strong>Testes de seguran?a:</strong> Auditorias trimestrais de vulnerabilidades.</li>
            </ul>
            
            <h2>6. Seus Direitos (LGPD)</h2>
            
            <p>Voc? tem direito a:</p>
            
            <ul>
                <li><strong>Confirma??o e acesso:</strong> Saber se tratamos seus dados e acess?-los;</li>
                <li><strong>Corre??o:</strong> Atualizar dados incompletos ou incorretos;</li>
                <li><strong>Anonimiza??o ou bloqueio:</strong> De dados desnecess?rios ou excessivos;</li>
                <li><strong>Elimina??o:</strong> Excluir dados tratados com consentimento (exceto obriga??es legais);</li>
                <li><strong>Portabilidade:</strong> Receber seus dados em formato estruturado (CSV/JSON);</li>
                <li><strong>Informa??o sobre compartilhamento:</strong> Saber com quem compartilhamos;</li>
                <li><strong>Revoga??o de consentimento:</strong> Cancelar autoriza??es a qualquer momento;</li>
                <li><strong>Oposi??o:</strong> Contestar tratamento realizado sem consentimento;</li>
                <li><strong>Revis?o de decis?es automatizadas:</strong> Questionar decis?es baseadas apenas em algoritmos.</li>
            </ul>
            
            <div class="highlight">
                <strong>?? Como exercer seus direitos:</strong><br>
                Envie email para <strong>privacidade@temdetudo.com.br</strong> ou acesse <strong>Configura??es ? Privacidade e Dados</strong> no app.
            </div>
            
            <h2>7. Reten??o de Dados</h2>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Tipo de Dado</th>
                        <th>Per?odo de Reten??o</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Dados de cadastro</td>
                        <td>Enquanto conta estiver ativa</td>
                    </tr>
                    <tr>
                        <td>Hist?rico de pontos</td>
                        <td>5 anos (obriga??o fiscal)</td>
                    </tr>
                    <tr>
                        <td>Dados de pagamento</td>
                        <td>5 anos (obriga??o fiscal)</td>
                    </tr>
                    <tr>
                        <td>Logs de acesso</td>
                        <td>6 meses (Marco Civil da Internet)</td>
                    </tr>
                    <tr>
                        <td>Cookies</td>
                        <td>At? 12 meses</td>
                    </tr>
                    <tr>
                        <td>Dados de marketing</td>
                        <td>At? revoga??o de consentimento</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>8. Cookies e Tecnologias Semelhantes</h2>
            
            <h3>8.1 Tipos de Cookies Usados</h3>
            <ul>
                <li><strong>Essenciais:</strong> Necess?rios para funcionamento da plataforma (login, sess?o);</li>
                <li><strong>Prefer?ncias:</strong> Armazenam configura??es do usu?rio;</li>
                <li><strong>Estat?sticos:</strong> Analisam comportamento e melhoram o servi?o;</li>
                <li><strong>Marketing:</strong> Personalizam an?ncios (apenas com consentimento).</li>
            </ul>
            
            <h3>8.2 Gerenciar Cookies</h3>
            <p>Voc? pode desabilitar cookies nas configura??es do navegador, mas isso pode afetar funcionalidades da plataforma.</p>
            
            <h2>9. Transfer?ncia Internacional de Dados</h2>
            <p>Alguns provedores de servi?os podem estar localizados fora do Brasil. Nesses casos, garantimos:</p>
            <ul>
                <li>Cl?usulas contratuais de prote??o de dados;</li>
                <li>Conformidade com padr?es internacionais (GDPR);</li>
                <li>Criptografia durante toda transfer?ncia.</li>
            </ul>
            
            <h2>10. Menores de Idade</h2>
            <p>N?o coletamos intencionalmente dados de menores de 18 anos sem consentimento dos respons?veis. Se identificarmos tal coleta, os dados ser?o exclu?dos imediatamente.</p>
            
            <h2>11. Altera??es nesta Pol?tica</h2>
            <p>Podemos atualizar esta pol?tica periodicamente. Mudan?as significativas ser?o notificadas por:</p>
            <ul>
                <li>Email cadastrado;</li>
                <li>Notifica??o no app;</li>
                <li>Aviso na p?gina inicial.</li>
            </ul>
            
            <h2>12. Encarregado de Dados (DPO)</h2>
            <p>Nosso Encarregado de Prote??o de Dados est? dispon?vel para esclarecer d?vidas:</p>
            
            <p><strong>DPO:</strong> [Nome do Respons?vel]<br>
            <strong>Email:</strong> dpo@temdetudo.com.br<br>
            <strong>Telefone:</strong> (11) 99999-9999</p>
            
            <h2>13. Autoridade Nacional de Prote??o de Dados (ANPD)</h2>
            <p>Se n?o ficar satisfeito com nossas respostas, voc? pode registrar reclama??o na ANPD:</p>
            <p><strong>Site:</strong> <a href="https://www.gov.br/anpd" target="_blank">www.gov.br/anpd</a></p>
            
            <h2>14. Contato</h2>
            <p>Para qualquer quest?o sobre privacidade:</p>
            <ul>
                <li><strong>Email:</strong> privacidade@temdetudo.com.br</li>
                <li><strong>WhatsApp:</strong> (11) 99999-9999</li>
                <li><strong>Formul?rio:</strong> <a href="contato.html">P?gina de Contato</a></li>
            </ul>
            
            <div class="highlight">
                <strong>?? Vers?o:</strong> 1.0 | <strong>Data:</strong> 17/12/2025
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2025 Tem de Tudo. Todos os direitos reservados.</p>
        <p><a href="index.html" style="color: #0f3460; text-decoration: none;">Voltar para Home</a></p>
    </div>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Pontos - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;padding-bottom:90px;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><div style="font-size:14px;opacity:0.9;margin-bottom:8px;">Meus Pontos</div><div style="font-size:56px;font-weight:900;" id="pontos">0</div></header><div style="max-width:900px;margin:0 auto;padding:24px 20px;"><h2 style="font-size:22px;font-weight:800;color:#1a1a2e;margin-bottom:20px;">Histórico</h2><div id="historico"></div></div><nav style="position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid rgba(102,126,234,0.1);display:flex;justify-content:space-around;padding:12px 0;box-shadow:0 -10px 40px rgba(102,126,234,0.08);"><a href="/inicio" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-home" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Inàcio</span></a><a href="/pontos" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#667eea;background:rgba(102,126,234,0.08);padding:8px;border-radius:12px;"><i class="fas fa-star" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Pontos</span></a><a href="/cupons" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-ticket-alt" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Cupons</span></a><a href="/perfil" style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#7c8db0;padding:8px;"><i class="fas fa-user" style="font-size:22px;"></i><span style="font-size:11px;font-weight:700;">Perfil</span></a></nav></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Política de Privacidade - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">    `n    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;padding:40px 20px;"><div style="max-width:900px;margin:0 auto;background:white;border-radius:24px;padding:40px;box-shadow:0 12px 40px rgba(102,126,234,0.08);"><h1 style="font-size:32px;font-weight:900;color:#1a1a2e;margin:0 0 24px;">Política de Privacidade</h1><p style="color:#7c8db0;line-height:1.8;">Respeitamos sua privacidade e protegemos seus dados...</p></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Perfil - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;padding-bottom:90px;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 20px;text-align:center;"><div style="width:100px;height:100px;background:rgba(255,255,255,0.2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;font-size:48px;font-weight:900;">C</div><div style="font-size:24px;font-weight:900;">Cliente</div></header><div style="max-width:800px;margin:0 auto;padding:24px 20px;"><div style="background:white;border-radius:20px;padding:24px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h2 style="font-size:20px;font-weight:800;color:#1a1a2e;margin:0 0 16px;">Meu Perfil</h2><p style="color:#7c8db0;margin:0;">Informaààes do cliente</p></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Painel Empresarial - Tem de Tudo</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <nav class="nav-bar">
        <ul>
            <li><a href="/dashboard-estabelecimento.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/profile-company.html"><i class="fas fa-building"></i> Painel Empresa</a></li>
            <li><a href="/configurar-descontos.html"><i class="fas fa-percent"></i> Configurar Descontos</a></li>
            <li><a href="/aplicar-desconto.html"><i class="fas fa-tag"></i> Aplicar Desconto</a></li>
            <li><a href="/meus-descontos.html"><i class="fas fa-list"></i> Meus Descontos</a></li>
            <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </nav>

    <div class="page-header">
        <div class="header-content">
            <div class="company-avatar">
                <i class="fas fa-store"></i>
            </div>
            <div class="company-info">
                <h1 id="companyName">Minha Empresa</h1>
                <p id="companyCategory">Categoria: Varejo</p>
                <p>Painel Administrativo Empresarial</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="stats-grid">
            <div class="stat-card blue">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-value" id="totalCustomers">0</div>
                <div class="stat-label">Clientes Ativos</div>
            </div>
            <div class="stat-card green">
                <div class="stat-icon"><i class="fas fa-coins"></i></div>
                <div class="stat-value" id="pointsDistributed">0</div>
                <div class="stat-label">Pontos Distribu?dos</div>
            </div>
            <div class="stat-card orange">
                <div class="stat-icon"><i class="fas fa-percentage"></i></div>
                <div class="stat-value" id="activeDiscounts">0</div>
                <div class="stat-label">Descontos Ativos</div>
            </div>
            <div class="stat-card pink">
                <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                <div class="stat-value" id="monthlyRevenue">R$ 0</div>
                <div class="stat-label">Faturamento Mensal</div>
            </div>
        </div>

        <div class="section-card">
            <h2 class="section-title">
                <i class="fas fa-rocket"></i>
                A??es R?pidas
            </h2>
            <div class="actions-grid">
                <a href="/configurar-descontos.html" style="text-decoration: none;">
                    <div class="action-card">
                        <div class="action-icon"><i class="fas fa-sliders-h"></i></div>
                        <h3 class="action-title">Configurar Descontos</h3>
                        <p class="action-desc">Defina n?veis e porcentagens de desconto</p>
                    </div>
                </a>
                <a href="/aplicar-desconto.html" style="text-decoration: none;">
                    <div class="action-card">
                        <div class="action-icon"><i class="fas fa-calculator"></i></div>
                        <h3 class="action-title">Aplicar Desconto</h3>
                        <p class="action-desc">Calcule e aplique descontos em vendas</p>
                    </div>
                </a>
                <a href="/meus-descontos.html" style="text-decoration: none;">
                    <div class="action-card">
                        <div class="action-icon"><i class="fas fa-history"></i></div>
                        <h3 class="action-title">Hist?rico de Descontos</h3>
                        <p class="action-desc">Veja todos os descontos aplicados</p>
                    </div>
                </a>
                <a href="/empresa-qrcode.html" style="text-decoration: none;">
                    <div class="action-card">
                        <div class="action-icon"><i class="fas fa-qrcode"></i></div>
                        <h3 class="action-title">Gerar QR Code</h3>
                        <p class="action-desc">Crie QR codes para check-in de clientes</p>
                    </div>
                </a>
            </div>
        </div>

        <div class="section-card">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Relat?rios e An?lises
            </h2>
            <p style="color: var(--gray-600); margin-bottom: 1.5rem;">
                Acompanhe o desempenho da sua empresa com relat?rios detalhados sobre clientes, pontos e descontos.
            </p>
            <div class="actions-grid">
                <div class="action-card">
                    <div class="action-icon"><i class="fas fa-user-friends"></i></div>
                    <h3 class="action-title">Top Clientes</h3>
                    <p class="action-desc">Clientes que mais acumulam pontos</p>
                </div>
                <div class="action-card">
                    <div class="action-icon"><i class="fas fa-trophy"></i></div>
                    <h3 class="action-title">N?veis de Clientes</h3>
                    <p class="action-desc">Distribui??o por n?vel de fidelidade</p>
                </div>
                <div class="action-card">
                    <div class="action-icon"><i class="fas fa-calendar-alt"></i></div>
                    <h3 class="action-title">Vendas do M?s</h3>
                    <p class="action-desc">Performance de vendas mensais</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            localStorage.removeItem('tem_de_tudo_token');
            localStorage.removeItem('tem_de_tudo_user');
            window.location.href = '/entrar.html';
        }

        async function loadCompanyData() {
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!token) {
                window.location.href = '/entrar.html';
                return;
            }

            try {
                const response = await fetch('/api/user', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                });

                if (!response.ok) {
                    if (response.status === 401) {
                        logout();
                        return;
                    }
                    throw new Error('Erro ao carregar dados');
                }

                const data = await response.json();

                if (data.success) {
                    const user = data.data.user || data.data;
                    document.getElementById('companyName').textContent = user.name || 'Minha Empresa';
                }

                // Carregar estat?sticas da empresa (simulado por enquanto)
                document.getElementById('totalCustomers').textContent = '156';
                document.getElementById('pointsDistributed').textContent = '12,450';
                document.getElementById('activeDiscounts').textContent = '8';
                document.getElementById('monthlyRevenue').textContent = 'R$ 45.890';
            } catch (error) {
                console.error('Erro ao carregar dados da empresa:', error);
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadCompanyData);
        } else {
            loadCompanyData();
        }
    </script>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Promoções Ativas - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;"><i class="fas fa-tags"></i> Promoções Ativas</h1></header><div style="max-width:1200px;margin:0 auto;padding:24px 20px;"><p style="color:#7c8db0;text-align:center;">Nenhuma promoàào ativa no momento</p></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Registro de Administrador - Tem de Ponto</title>
    <meta name="description" content="P?gina de registro para administradores do sistema Tem de Ponto">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    
    <!-- Modern Theme CSS -->
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="register-container">
        <!-- Logo Section -->
        <div class="logo-section">
            <div class="logo">
                <i class="fas fa-crown"></i>
            </div>
            <h2 style="color: var(--gray-900); margin: 0;">Registro de Administrador</h2>
            <p style="color: var(--gray-600); margin: var(--space-2) 0 0;">Sistema Tem de Ponto</p>
        </div>

        <!-- Help Box -->
        <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); border: 1px solid #667eea; border-radius: var(--radius-lg); padding: var(--space-4); margin-bottom: var(--space-4);">
            <div style="text-align: center; margin-bottom: var(--space-3);">
                <i class="fas fa-info-circle" style="color: #1d4ed8; font-size: 1.5rem;"></i>
            </div>
            <h4 style="color: #764ba2; text-align: center; margin-bottom: var(--space-2);">?? Como Obter o Token</h4>
            <div style="color: #1e3a8a; font-size: 0.875rem;">
                <p style="margin-bottom: var(--space-2);"><strong>Op??o 1:</strong> Use um dos tokens j? dispon?veis abaixo (clique para copiar)</p>
                <p style="margin-bottom: var(--space-2);"><strong>Op??o 2:</strong> Aperte <kbd>F12</kbd> ? aba "Console" para ver os tokens</p>
                <p style="margin: 0;"><strong>Op??o 3:</strong> Use o admin de teste: <code>admin@temdeponto.com</code> (qualquer senha)</p>
            </div>
        </div>

        <!-- Success Message -->
        <div id="successMessage" class="success-message">
            <i class="fas fa-check-circle"></i>
            <h4 style="color: #065f46; margin: 0 0 var(--space-2);">Administrador Criado com Sucesso!</h4>
            <p style="color: #047857; margin: 0;">Voc? pode agora fazer login com as credenciais criadas.</p>
        </div>

        <!-- Registration Form -->
        <form id="adminRegisterForm">
            <!-- Token Section -->
            <div class="form-section">
                <div class="section-title">
                    <i class="fas fa-key"></i>
                    Token de Acesso
                </div>
                <div class="token-info">
                    <strong>Tokens de Desenvolvimento Dispon?veis:</strong><br>
                    <div style="background: var(--gray-100); padding: var(--space-3); border-radius: var(--radius-md); margin-top: var(--space-2); font-family: monospace;">
                        <div style="margin-bottom: var(--space-1);"><strong>Copie um destes:</strong></div>
                        <div style="color: var(--primary-600); cursor: pointer;" onclick="copyToken('TEMDETUDO_ADMIN_2025')" title="Clique para copiar">
                            ?? TEMDETUDO_ADMIN_2025
                        </div>
                        <div style="color: var(--primary-600); cursor: pointer;" onclick="copyToken('MASTER_ACCESS_TOKEN_2025')" title="Clique para copiar">
                            ?? MASTER_ACCESS_TOKEN_2025
                        </div>
                        <div style="color: var(--primary-600); cursor: pointer;" onclick="copyToken('TDP_ADMIN_CREATE_2025')" title="Clique para copiar">
                            ?? TDP_ADMIN_CREATE_2025
                        </div>
                        <small style="color: var(--gray-500); margin-top: var(--space-2); display: block;">
                            ?? Clique em qualquer token para copiar automaticamente
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Token de Acesso *</label>
                    <input type="password" 
                           id="accessToken" 
                           class="form-control" 
                           placeholder="Digite o token fornecido pelo desenvolvedor"
                           required>
                </div>
            </div>

            <!-- Admin Info Section -->
            <div class="form-section">
                <div class="section-title">
                    <i class="fas fa-user-shield"></i>
                    Informa??es do Administrador
                </div>
                
                <div class="form-group">
                    <label class="form-label">Nome Completo *</label>
                    <input type="text" 
                           id="adminName" 
                           class="form-control" 
                           placeholder="Seu nome completo"
                           required>
                </div>

                <div class="form-group">
                    <label class="form-label">Email *</label>
                    <input type="email" 
                           id="adminEmail" 
                           class="form-control" 
                           placeholder="admin@empresa.com"
                           required>
                </div>

                <div class="form-group">
                    <label class="form-label">Telefone *</label>
                    <input type="tel" 
                           id="adminPhone" 
                           class="form-control" 
                           placeholder="(11) 99999-9999"
                           required>
                </div>

                <div class="form-group">
                    <label class="form-label">Senha *</label>
                    <input type="password" 
                           id="adminPassword" 
                           class="form-control" 
                           placeholder="Crie uma senha segura"
                           minlength="6"
                           required>
                </div>

                <div class="form-group">
                    <label class="form-label">Confirmar Senha *</label>
                    <input type="password" 
                           id="confirmPassword" 
                           class="form-control" 
                           placeholder="Digite a senha novamente"
                           minlength="6"
                           required>
                </div>
            </div>

            <!-- Company Info Section -->
            <div class="form-section">
                <div class="section-title">
                    <i class="fas fa-building"></i>
                    Informa??es da Empresa (opcional)
                </div>
                
                <div class="form-group">
                    <label class="form-label">Nome da Empresa</label>
                    <input type="text" 
                           id="companyName" 
                           class="form-control" 
                           placeholder="Nome da sua empresa">
                </div>

                <div class="form-group">
                    <label class="form-label">CNPJ</label>
                    <input type="text" 
                           id="companyCnpj" 
                           class="form-control" 
                           placeholder="00.000.000/0000-00"
                           maxlength="18">
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-full">
                <i class="fas fa-user-plus icon-sm"></i>
                Criar Conta de Administrador
            </button>
        </form>

        <!-- Info Box -->
        <div style="background: linear-gradient(135deg, #e0f2fe, #b3e5fc); border: 1px solid #0288d1; border-radius: var(--radius-lg); padding: var(--space-4); margin-top: var(--space-6); text-align: center;">
            <i class="fas fa-info-circle" style="color: #0277bd; font-size: 1.5rem; margin-bottom: var(--space-2);"></i>
            <h4 style="color: #01579b; margin-bottom: var(--space-2);">?? Novo Sistema Seguro</h4>
            <p style="color: #0277bd; font-size: 0.875rem; margin-bottom: var(--space-3);">
                Agora apenas administradores logados podem criar outros administradores atrav?s do painel administrativo.
            </p>
            <div style="display: flex; gap: var(--space-3); justify-content: center; flex-wrap: wrap;">
                <a href="/entrar.html" class="btn btn-outline btn-sm" style="border-color: #0288d1; color: #0288d1;">
                    <i class="fas fa-sign-in-alt icon-sm"></i> Fazer Login
                </a>
                <button onclick="showQuickAccess()" class="btn btn-primary btn-sm" style="background: #0288d1; border-color: #0288d1;">
                    <i class="fas fa-rocket icon-sm"></i> Acesso R?pido
                </button>
            </div>
        </div>

        <!-- Back Link -->
        <div class="back-link">
            <a href="/entrar.html">
                <i class="fas fa-arrow-left"></i>
                Voltar para o Login
            </a>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); z-index: 1000; align-items: center; justify-content: center;">
        <div style="text-align: center; color: white;">
            <div style="width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: white; animation: spin 1s ease-in-out infinite; margin: 0 auto var(--space-4);"></div>
            <p>Criando conta de administrador...</p>
        </div>
    </div>

    <script>
        // Valid access tokens (em um sistema real, isso seria validado no backend)
        const VALID_TOKENS = [
            'TEMDETUDO_ADMIN_2025',
            'MASTER_ACCESS_TOKEN_2025',
            'TDP_ADMIN_CREATE_2025'
        ];

        // Format CNPJ input
        document.getElementById('companyCnpj').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/, '$1.$2');
            value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
            value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
            value = value.replace(/(\d{4})(\d)/, '$1-$2');
            e.target.value = value;
        });

        // Format phone input
        document.getElementById('adminPhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/, '($1) $2');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        });

        // Copy token function
        function copyToken(token) {
            navigator.clipboard.writeText(token).then(function() {
                // Fill the token field automatically
                document.getElementById('accessToken').value = token;
                
                // Show success feedback
                const element = event.target;
                const originalText = element.innerHTML;
                element.innerHTML = '? Token copiado e preenchido!';
                element.style.color = 'var(--success-green)';
                
                setTimeout(() => {
                    element.innerHTML = originalText;
                    element.style.color = 'var(--primary-600)';
                }, 2000);
            }).catch(function() {
                // Fallback: just fill the field
                document.getElementById('accessToken').value = token;
                alert('Token preenchido no campo!');
            });
        }

        // Form submission
        document.getElementById('adminRegisterForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form data
            const token = document.getElementById('accessToken').value;
            const name = document.getElementById('adminName').value;
            const email = document.getElementById('adminEmail').value;
            const phone = document.getElementById('adminPhone').value;
            const password = document.getElementById('adminPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const companyName = document.getElementById('companyName').value;
            const companyCnpj = document.getElementById('companyCnpj').value;

            // Validations
            if (!VALID_TOKENS.includes(token)) {
                alert('Token de acesso inv?lido. Entre em contato com o desenvolvedor para obter um token v?lido.');
                return;
            }

            if (password !== confirmPassword) {
                alert('As senhas n?o coincidem. Verifique e tente novamente.');
                return;
            }

            if (password.length < 6) {
                alert('A senha deve ter pelo menos 6 caracteres.');
                return;
            }

            // Check if admin already exists
            const existingAdmins = JSON.parse(localStorage.getItem('systemAdmins') || '[]');
            if (existingAdmins.find(admin => admin.email === email)) {
                alert('J? existe um administrador cadastrado com este email.');
                return;
            }

            // Show loading
            document.getElementById('loadingOverlay').style.display = 'flex';

            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));

                // Create admin user
                const adminUser = {
                    id: Date.now(),
                    nome: name,
                    email: email,
                    telefone: phone,
                    tipo: 'admin',
                    nivel: 'Master',
                    empresa: companyName || 'Sistema Tem de Ponto',
                    cnpj: companyCnpj || null,
                    permissoes: [
                        'gerenciar_empresas',
                        'relatorios_financeiros',
                        'configuracoes_sistema',
                        'criar_administradores'
                    ],
                    criadoEm: new Date().toISOString(),
                    status: 'ativo'
                };

                // Save to localStorage (em um sistema real seria salvo no banco de dados)
                existingAdmins.push(adminUser);
                localStorage.setItem('systemAdmins', JSON.stringify(existingAdmins));

                // Hide loading
                document.getElementById('loadingOverlay').style.display = 'none';

                // Show success message
                document.getElementById('successMessage').style.display = 'block';
                document.getElementById('adminRegisterForm').style.display = 'none';

                // Redirect after 3 seconds
                setTimeout(() => {
                    window.location.href = '/entrar.html';
                }, 3000);

            } catch (error) {
                document.getElementById('loadingOverlay').style.display = 'none';
                alert('Erro ao criar conta de administrador. Tente novamente.');
            }
        });

        // Show tokens for testing (remove in production)
        console.log('? SISTEMA DE ADMINISTRADORES - TEM DE PONTO');
        console.log('-------------------------------------------');
        console.log('?? TOKENS DE ACESSO V?LIDOS:');
        console.log('   ? TEMDETUDO_ADMIN_2025');
        console.log('   ? MASTER_ACCESS_TOKEN_2025');
        console.log('   ? TDP_ADMIN_CREATE_2025');
        console.log('');
        console.log('?? COMO USAR:');
        console.log('   1. Preencha o formul?rio');
        console.log('   2. Use um dos tokens acima');
        console.log('   3. Crie uma senha segura');
        console.log('   4. Ap?s criar, fa?a login normalmente');
        console.log('');
        console.log('? ADMIN DE TESTE J? DISPON?VEL:');
        console.log('   Email: admin@temdeponto.com');
        console.log('   Senha: adm@123');
        console.log('-------------------------------------------');

        // Quick access function
        function showQuickAccess() {
            alert(`?? ACESSO R?PIDO AO SISTEMA ADMIN

Para testar rapidamente:

1?? ADMIN DE TESTE (Mais R?pido):
   ? Email: admin@temdeponto.com
   ? Senha: adm@123
   ? Acesso: Direto ao painel

2?? CRIAR NOVO ADMIN:
   ? Fa?a login como admin de teste
   ? V? em "A??es R?pidas"  
   ? Clique "Criar Administrador"
   ? Preencha os dados normalmente

? Sistema 100% seguro agora!`);
        }
    </script><script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cadastro Recebido - TemDeTudo Empresarial</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="Cadastro empresarial recebido - Pr?ximos passos para parceria">
    <meta name="theme-color" content="#4c1d95">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/frontend/img/logo.png">
    
    <!-- Stylesheets -->
    
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body style="background: var(--gradient-primary); min-height: 100vh; display: flex; align-items: center; justify-content: center;">
    
    <div class="success-container" style="width: 100%; max-width: 600px; margin: 2rem; text-align: center;">
        <!-- Success Card -->
        <div class="card" style="background: white; border-radius: var(--radius-2xl); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); overflow: hidden;">
            <!-- Header -->
            <div style="background: var(--gradient-success); color: white; padding: var(--space-8);">
                <div style="background: white; width: 80px; height: 80px; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; box-shadow: 0 10px 25px rgba(0,0,0,0.1);">
                    <i class="fas fa-check" style="font-size: 2rem; color: var(--success-green);"></i>
                </div>
                <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">Cadastro Recebido!</h1>
                <p style="opacity: 0.9; font-size: 1.125rem;">Sua empresa est? sendo analisada</p>
            </div>
            
            <!-- Content -->
            <div style="padding: var(--space-8);">
                <!-- Timeline -->
                <div style="margin-bottom: 2rem;">
                    <h2 style="color: var(--gray-900); font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; text-align: left;">
                        <i class="fas fa-clock" style="color: var(--primary-purple);"></i>
                        Pr?ximos Passos
                    </h2>
                    
                    <div style="position: relative; padding-left: 2rem;">
                        <!-- Timeline line -->
                        <div style="position: absolute; left: 0.75rem; top: 0; bottom: 0; width: 2px; background: var(--gray-200);"></div>
                        
                        <!-- Step 1 -->
                        <div style="position: relative; margin-bottom: 1.5rem;">
                            <div style="position: absolute; left: -1.75rem; top: 0.25rem; width: 1.5rem; height: 1.5rem; background: var(--success-green); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-check" style="color: white; font-size: 0.75rem;"></i>
                            </div>
                            <div>
                                <h3 style="font-weight: 600; color: var(--gray-900); margin-bottom: 0.25rem;">Cadastro Enviado</h3>
                                <p style="color: var(--gray-600); font-size: 0.875rem;">Dados recebidos e sendo processados</p>
                            </div>
                        </div>
                        
                        <!-- Step 2 -->
                        <div style="position: relative; margin-bottom: 1.5rem;">
                            <div style="position: absolute; left: -1.75rem; top: 0.25rem; width: 1.5rem; height: 1.5rem; background: var(--warning-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-search" style="color: white; font-size: 0.75rem;"></i>
                            </div>
                            <div>
                                <h3 style="font-weight: 600; color: var(--gray-900); margin-bottom: 0.25rem;">An?lise Comercial</h3>
                                <p style="color: var(--gray-600); font-size: 0.875rem;">1-2 dias ?teis para an?lise</p>
                            </div>
                        </div>
                        
                        <!-- Step 3 -->
                        <div style="position: relative; margin-bottom: 1.5rem;">
                            <div style="position: absolute; left: -1.75rem; top: 0.25rem; width: 1.5rem; height: 1.5rem; background: var(--gray-300); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-envelope" style="color: white; font-size: 0.75rem;"></i>
                            </div>
                            <div>
                                <h3 style="font-weight: 600; color: var(--gray-900); margin-bottom: 0.25rem;">Proposta Comercial</h3>
                                <p style="color: var(--gray-600); font-size: 0.875rem;">Envio por email com valores e condi??es</p>
                            </div>
                        </div>
                        
                        <!-- Step 4 -->
                        <div style="position: relative;">
                            <div style="position: absolute; left: -1.75rem; top: 0.25rem; width: 1.5rem; height: 1.5rem; background: var(--gray-300); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-rocket" style="color: white; font-size: 0.75rem;"></i>
                            </div>
                            <div>
                                <h3 style="font-weight: 600; color: var(--gray-900); margin-bottom: 0.25rem;">Ativa??o</h3>
                                <p style="color: var(--gray-600); font-size: 0.875rem;">24-48h ap?s aprova??o</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Pricing Info -->
                <div style="background: var(--gray-50); border-radius: var(--radius-lg); padding: 1.5rem; margin-bottom: 2rem; border: 2px solid var(--primary-purple); position: relative; overflow: hidden;">
                    <!-- Decorative element -->
                    <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: var(--gradient-primary); border-radius: 50%; opacity: 0.1;"></div>
                    
                    <h3 style="color: var(--primary-purple); font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-tag"></i>
                        Informa??es de Cobran?a
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div style="background: white; padding: 1rem; border-radius: var(--radius-md); border: 1px solid var(--gray-200);">
                            <div style="font-size: 0.875rem; color: var(--gray-600); margin-bottom: 0.25rem;">Taxa de Ades?o</div>
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary-purple);">R$ 149,90</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">Pagamento ?nico</div>
                        </div>
                        
                        <div style="background: white; padding: 1rem; border-radius: var(--radius-md); border: 1px solid var(--gray-200);">
                            <div style="font-size: 0.875rem; color: var(--gray-600); margin-bottom: 0.25rem;">Mensalidade</div>
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary-purple);">R$ 79,90</div>
                            <div style="font-size: 0.75rem; color: var(--gray-500);">A partir do 2? m?s</div>
                        </div>
                    </div>
                    
                    <div style="background: var(--gradient-success); color: white; padding: 0.75rem; border-radius: var(--radius-md); text-align: center; font-weight: 600;">
                        ?? PRIMEIRO M?S GR?TIS!
                    </div>
                </div>
                
                <!-- Contact Info -->
                <div style="background: linear-gradient(135deg, #1f2937 0%, #374151 100%); color: white; padding: 1.5rem; border-radius: var(--radius-lg); margin-bottom: 2rem;">
                    <h3 style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-headset"></i>
                        Precisa de Ajuda?
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <a href="tel:1140001234" style="display: flex; align-items: center; gap: 0.75rem; color: white; text-decoration: none; padding: 0.75rem; background: rgba(255,255,255,0.1); border-radius: var(--radius-md); transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                            <i class="fas fa-phone" style="color: var(--accent-orange);"></i>
                            <div>
                                <div style="font-weight: 600; font-size: 0.875rem;">(11) 4000-1234</div>
                                <div style="font-size: 0.75rem; opacity: 0.8;">Seg-Sex 8h-18h</div>
                            </div>
                        </a>
                        
                        <a href="mailto:parcerias@temdetudo.com" style="display: flex; align-items: center; gap: 0.75rem; color: white; text-decoration: none; padding: 0.75rem; background: rgba(255,255,255,0.1); border-radius: var(--radius-md); transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                            <i class="fas fa-envelope" style="color: var(--accent-orange);"></i>
                            <div>
                                <div style="font-weight: 600; font-size: 0.875rem;">Email Direto</div>
                                <div style="font-size: 0.75rem; opacity: 0.8;">parcerias@temdetudo.com</div>
                            </div>
                        </a>
                    </div>
                </div>
                
                <!-- Actions -->
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <a href="/" class="btn btn-outline btn-lg" style="text-decoration: none; display: inline-block;">
                        <i class="fas fa-home icon-sm"></i>
                        Voltar ao In?cio
                    </a>
                    
                    <a href="/contato.html" class="btn btn-primary btn-lg" style="text-decoration: none; display: inline-block;">
                        <i class="fas fa-comments icon-sm"></i>
                        Falar Conosco
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Footer Note -->
        <div style="margin-top: 2rem; color: rgba(255,255,255,0.8); font-size: 0.875rem;">
            <p>
                <i class="fas fa-shield-alt" style="margin-right: 0.5rem;"></i>
                Seus dados est?o seguros e protegidos conforme a LGPD
            </p>
        </div>
    </div>
    
    <!-- Auto redirect script -->
    <script>
        // Show countdown for redirect (optional)
        let countdown = 30;
        const redirectTimer = document.createElement('div');
        redirectTimer.id = 'redirect-timer';
        redirectTimer.style.cssText = 'position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.8); color: white; padding: 1rem; border-radius: 8px; font-size: 0.875rem; z-index: 1000;';
        redirectTimer.innerHTML = `
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-info-circle" style="color: #8b9cf5;"></i>
                <span>Redirecionamento autom?tico em <strong id="countdown">${countdown}</strong>s</span>
                <button onclick="this.parentElement.parentElement.style.display='none'" style="background: none; border: none; color: white; cursor: pointer; margin-left: 0.5rem;">?</button>
            </div>
        `;
        
        // Only show timer if not manually closed before
        if (!localStorage.getItem('hide_redirect_timer')) {
            document.body.appendChild(redirectTimer);
            
            const countdownEl = document.getElementById('countdown');
            const interval = setInterval(() => {
                countdown--;
                if (countdownEl) countdownEl.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(interval);
                    window.location.href = '/';
                }
            }, 1000);
        }
        
        // Log successful company registration
        console.log('?? Cadastro empresarial conclu?do:', {
            timestamp: new Date().toISOString(),
            page: 'register-company-success',
            next_steps: [
                'An?lise comercial (1-2 dias)',
                'Envio de proposta por email',
                'Ativa??o ap?s aprova??o (24-48h)'
            ],
            pricing: {
                taxa_adesao: 149.90,
                mensalidade: 79.90,
                primeiro_mes_gratis: true
            }
        });
    </script>
    <script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cadastro Empresarial - Tem de Tudo</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="Cadastre sua empresa no programa de fidelidade Tem de Tudo">
    <meta name="theme-color" content="#667eea">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="/frontend/img/logo.png">
    
    <!-- Stylesheets -->
    
    
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-container">
                <a href="/" class="logo">
                    <img src="/frontend/img/logo.png" alt="Tem de Tudo" class="logo-image">
                </a>
                
                <nav class="nav-menu">
                    <a href="/"><i class="fas fa-home icon-sm"></i> In?cio</a>
                    <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>
                    <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>
                    <a href="/entrar.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>
                </nav>
                
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-menu">
                <a href="/"><i class="fas fa-home icon-sm"></i> In?cio</a>
                <a href="/estabelecimentos.html"><i class="fas fa-store icon-sm"></i> Estabelecimentos</a>
                <a href="/contato.html"><i class="fas fa-envelope icon-sm"></i> Contato</a>
                <a href="/entrar.html"><i class="fas fa-sign-in-alt icon-sm"></i> Login</a>
            </div>
        </div>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Hero Section -->
            <section style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: var(--space-12) var(--space-6); text-align: center;">
                <div style="max-width: 800px; margin: 0 auto;">
                    <i class="fas fa-store" style="font-size: 3rem; color: var(--accent-orange); margin-bottom: 1rem; display: block;"></i>
                    <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem;">Cadastre sua Empresa</h1>
                    <p style="font-size: 1.125rem; opacity: 0.9;">Junte-se ao programa de fidelidade e aumente suas vendas!</p>
                </div>
            </section>

            <!-- Step Indicator -->
            <div style="background: white; padding: var(--space-6) var(--space-6); border-bottom: 1px solid var(--gray-200);">
                <div style="max-width: 1000px; margin: 0 auto;">
                    <div class="step-indicator" id="stepIndicator">
                        <div class="step active">
                            <div class="step-number">1</div>
                            <div class="step-label">Planos</div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-label">Dados</div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-label">Pagamento</div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-label">Confirma??o</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <section style="padding: var(--space-12) var(--space-6); background: var(--gray-50); min-height: 70vh;">
                <div style="max-width: 1000px; margin: 0 auto;">
                    
                    <!-- Step 1: Plans -->
                    <div id="step1" class="step-content active">
                        <div style="text-align: center; margin-bottom: 3rem;">
                            <h2 style="font-size: 2rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem;">Escolha seu Plano</h2>
                            <p style="color: var(--gray-600); font-size: 1.125rem;">Selecione o plano que melhor atende s necessidades da sua empresa</p>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                            
                            <!-- Plano Bsico -->
                            <div class="plan-card" onclick="selectPlan('basico')">
                                <div class="plan-header">
                                    <h3>Plano Bsico</h3>
                                    <div class="plan-price">
                                        <span class="price">R$ 89</span>
                                        <span class="period">/ms</span>
                                    </div>
                                </div>
                                <div class="plan-body">
                                    <ul class="plan-features">
                                        <li><i class="fas fa-check"></i> At 500 clientes cadastrados</li>
                                        <li><i class="fas fa-check"></i> QR Code personalizado</li>
                                        <li><i class="fas fa-check"></i> Relatrios bsicos</li>
                                        <li><i class="fas fa-check"></i> Suporte por email</li>
                                        <li><i class="fas fa-check"></i> 3 campanhas por m?s</li>
                                    </ul>
                                </div>
                                <div class="plan-footer">
                                    <div class="plan-tag">Ideal para pequenos neg?cios</div>
                                </div>
                            </div>

                            <!-- Plano Profissional -->
                            <div class="plan-card popular" onclick="selectPlan('profissional')">
                                <div class="popular-badge">Mais Popular</div>
                                <div class="plan-header">
                                    <h3>Plano Profissional</h3>
                                    <div class="plan-price">
                                        <span class="price">R$ 189</span>
                                        <span class="period">/ms</span>
                                    </div>
                                </div>
                                <div class="plan-body">
                                    <ul class="plan-features">
                                        <li><i class="fas fa-check"></i> At 2.000 clientes</li>
                                        <li><i class="fas fa-check"></i> QR Code + App personalizado</li>
                                        <li><i class="fas fa-check"></i> Relatrios avanados</li>
                                        <li><i class="fas fa-check"></i> Suporte prioritrio</li>
                                        <li><i class="fas fa-check"></i> Campanhas ilimitadas</li>
                                        <li><i class="fas fa-check"></i> Integrao com redes sociais</li>
                                        <li><i class="fas fa-check"></i> Dashboard analytics</li>
                                    </ul>
                                </div>
                                <div class="plan-footer">
                                    <div class="plan-tag">Perfeito para empresas em crescimento</div>
                                </div>
                            </div>

                            <!-- Plano Empresarial -->
                            <div class="plan-card" onclick="selectPlan('empresarial')">
                                <div class="plan-header">
                                    <h3>Plano Empresarial</h3>
                                    <div class="plan-price">
                                        <span class="price">R$ 389</span>
                                        <span class="period">/ms</span>
                                    </div>
                                </div>
                                <div class="plan-body">
                                    <ul class="plan-features">
                                        <li><i class="fas fa-check"></i> Clientes ilimitados</li>
                                        <li><i class="fas fa-check"></i> Mltiplas filiais</li>
                                        <li><i class="fas fa-check"></i> API personalizada</li>
                                        <li><i class="fas fa-check"></i> Gerente de conta dedicado</li>
                                        <li><i class="fas fa-check"></i> White label disponvel</li>
                                        <li><i class="fas fa-check"></i> Integraes avanadas</li>
                                        <li><i class="fas fa-check"></i> Suporte 24/7</li>
                                        <li><i class="fas fa-check"></i> Treinamento da equipe</li>
                                    </ul>
                                </div>
                                <div class="plan-footer">
                                    <div class="plan-tag">Para grandes empresas</div>
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn btn-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 3rem;" onclick="nextStep()" id="continueBtn" disabled>
                                <i class="fas fa-arrow-right icon-sm"></i> Continuar com Plano Selecionado
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Company Data -->
                    <div id="step2" class="step-content">
                        <div style="text-align: center; margin-bottom: 3rem;">
                            <h2 style="font-size: 2rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem;">Dados da Empresa</h2>
                            <p style="color: var(--gray-600); font-size: 1.125rem;">Preencha as informaes da sua empresa</p>
                        </div>

                        <div class="card" style="max-width: 700px; margin: 0 auto;">
                            <form id="companyForm" class="card-body" style="padding: 10px;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="form-group">
                                        <label for="razaoSocial" class="form-label">
                                            <i class="fas fa-building icon-sm"></i> Razo Social *
                                        </label>
                                        <input type="text" id="razaoSocial" name="razaoSocial" class="form-control" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="nomeFantasia" class="form-label">
                                            <i class="fas fa-store icon-sm"></i> Nome Fantasia *
                                        </label>
                                        <input type="text" id="nomeFantasia" name="nomeFantasia" class="form-control" required>
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="form-group">
                                        <label for="cnpj" class="form-label">
                                            <i class="fas fa-id-card icon-sm"></i> CNPJ *
                                        </label>
                                        <input type="text" id="cnpj" name="cnpj" class="form-control" placeholder="00.000.000/0000-00" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="inscricaoEstadual" class="form-label">
                                            <i class="fas fa-certificate icon-sm"></i> Inscri??o Estadual
                                        </label>
                                        <input type="text" id="inscricaoEstadual" name="inscricaoEstadual" class="form-control">
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="form-group">
                                        <label for="email" class="form-label">
                                            <i class="fas fa-envelope icon-sm"></i> Email Empresarial *
                                        </label>
                                        <input type="email" id="email" name="email" class="form-control" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="telefone" class="form-label">
                                            <i class="fas fa-phone icon-sm"></i> Telefone *
                                        </label>
                                        <input type="tel" id="telefone" name="telefone" class="form-control" placeholder="(11) 99999-9999" required>
                                    </div>
                                </div>

                                <div class="form-group" style="margin-bottom: 1.5rem;">
                                    <label for="website" class="form-label">
                                        <i class="fas fa-globe icon-sm"></i> Website (opcional)
                                    </label>
                                    <input type="url" id="website" name="website" class="form-control" placeholder="https://www.exemplo.com">
                                </div>

                                <div class="form-group" style="margin-bottom: 1.5rem;">
                                    <label for="descricao" class="form-label">
                                        <i class="fas fa-align-left icon-sm"></i> Descri??o do Neg?cio *
                                    </label>
                                    <textarea id="descricao" name="descricao" class="form-control" rows="4" placeholder="Descreva brevemente sua empresa e os produtos/servios oferecidos..." required></textarea>
                                </div>

                                <h4 style="color: var(--gray-900); margin-bottom: 1rem; border-bottom: 1px solid var(--gray-200); padding-bottom: 0.5rem;">
                                    <i class="fas fa-map-marker-alt icon-sm"></i> Endere?o
                                </h4>

                                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="form-group">
                                        <label for="cep" class="form-label">CEP *</label>
                                        <input type="text" id="cep" name="cep" class="form-control" placeholder="00000-000" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="numero" class="form-label">N?mero *</label>
                                        <input type="text" id="numero" name="numero" class="form-control" required>
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="form-group">
                                        <label for="endereco" class="form-label">Endere?o *</label>
                                        <input type="text" id="endereco" name="endereco" class="form-control" readonly>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="complemento" class="form-label">Complemento</label>
                                        <input type="text" id="complemento" name="complemento" class="form-control">
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                                    <div class="form-group">
                                        <label for="bairro" class="form-label">Bairro *</label>
                                        <input type="text" id="bairro" name="bairro" class="form-control" readonly>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="cidade" class="form-label">Cidade *</label>
                                        <input type="text" id="cidade" name="cidade" class="form-control" readonly>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="uf" class="form-label">UF *</label>
                                        <input type="text" id="uf" name="uf" class="form-control" readonly>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div style="text-align: center; margin-top: 2rem; display: flex; gap: 1rem; justify-content: center;">
                            <button class="btn btn-ghost" onclick="prevStep()">
                                <i class="fas fa-arrow-left icon-sm"></i> Voltar
                            </button>
                            <button class="btn btn-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 3rem;" onclick="validateFormAndNext()">
                                <i class="fas fa-arrow-right icon-sm"></i> Continuar
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Payment -->
                    <div id="step3" class="step-content">
                        <div style="text-align: center; margin-bottom: 3rem;">
                            <h2 style="font-size: 2rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem;">Pagamento</h2>
                            <p style="color: var(--gray-600); font-size: 1.125rem;">Confirme seu plano e m?todo de pagamento</p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 400px; gap: 3rem; align-items: start;" class="payment-grid">
                            
                            <!-- Payment Methods -->
                            <div>
                                <div class="card" style="margin-bottom: 2rem;">
                                    <div class="card-header">
                                        <h3 style="color: white; margin: 0;"><i class="fas fa-credit-card icon-sm"></i> M?todo de Pagamento</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="payment-methods">
                                            <div class="payment-method" onclick="selectPaymentMethod('credit')">
                                                <div class="method-icon">
                                                    <i class="fas fa-credit-card"></i>
                                                </div>
                                                <div class="method-info">
                                                    <h4>Cart?o de Cr?dito</h4>
                                                    <p>Pagamento mensal autom?tico</p>
                                                </div>
                                                <div class="method-check">
                                                    <i class="fas fa-check"></i>
                                                </div>
                                            </div>

                                            <div class="payment-method" onclick="selectPaymentMethod('pix')">
                                                <div class="method-icon">
                                                    <i class="fab fa-pix"></i>
                                                </div>
                                                <div class="method-info">
                                                    <h4>PIX</h4>
                                                    <p>Pagamento  vista com 10% desconto</p>
                                                </div>
                                                <div class="method-check">
                                                    <i class="fas fa-check"></i>
                                                </div>
                                            </div>

                                            <div class="payment-method" onclick="selectPaymentMethod('boleto')">
                                                <div class="method-icon">
                                                    <i class="fas fa-barcode"></i>
                                                </div>
                                                <div class="method-info">
                                                    <h4>Boleto Banc?rio</h4>
                                                    <p>Vencimento em 5 dias teis</p>
                                                </div>
                                                <div class="method-check">
                                                    <i class="fas fa-check"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Payment Form -->
                                <div id="paymentForm" class="card" style="display: none;">
                                    <div class="card-body">
                                        <!-- Credit Card Form -->
                                        <div id="creditForm" style="display: none;">
                                            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                                                <div class="form-group">
                                                    <label class="form-label">N?mero do Cart?o</label>
                                                    <input type="text" class="form-control" placeholder="0000 0000 0000 0000" maxlength="19">
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">CVV</label>
                                                    <input type="text" class="form-control" placeholder="000" maxlength="3">
                                                </div>
                                            </div>
                                            
                                            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 1rem; margin-bottom: 1rem;">
                                                <div class="form-group">
                                                    <label class="form-label">Validade</label>
                                                    <input type="text" class="form-control" placeholder="MM/AA" maxlength="5">
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Nome no Carto</label>
                                                    <input type="text" class="form-control" placeholder="Nome como impresso no carto">
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PIX Form -->
                                        <div id="pixForm" style="display: none; text-align: center;">
                                            <div style="background: #f0f9ff; padding: 2rem; border-radius: 12px; margin-bottom: 1rem;">
                                                <i class="fab fa-pix" style="font-size: 3rem; color: #0369a1; margin-bottom: 1rem;"></i>
                                                <h4>Pagamento via PIX</h4>
                                                <p>Aps confirmar, voc receber o QR Code para pagamento</p>
                                            </div>
                                        </div>

                                        <!-- Boleto Form -->
                                        <div id="boletoForm" style="display: none; text-align: center;">
                                            <div style="background: #fef3c7; padding: 2rem; border-radius: 12px; margin-bottom: 1rem;">
                                                <i class="fas fa-barcode" style="font-size: 3rem; color: #764ba2; margin-bottom: 1rem;"></i>
                                                <h4>Boleto Bancrio</h4>
                                                <p>O boleto ser enviado por email e ter vencimento em 5 dias teis</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Summary -->
                            <div class="card">
                                <div class="card-header">
                                    <h3 style="color: white; margin: 0;"><i class="fas fa-file-invoice icon-sm"></i> Resumo do Pedido</h3>
                                </div>
                                <div class="card-body">
                                    <div id="orderSummary">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 2rem; display: flex; gap: 1rem; justify-content: center;">
                            <button class="btn btn-ghost" onclick="prevStep()">
                                <i class="fas fa-arrow-left icon-sm"></i> Voltar
                            </button>
                            <button class="btn btn-lg btn-success" onclick="processPayment()" id="payBtn" disabled style="padding: 1rem 3rem;">
                                <i class="fas fa-credit-card icon-sm"></i> Finalizar Pagamento
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Confirmation -->
                    <div id="step4" class="step-content">
                        <div style="text-align: center;">
                            <div style="background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 2rem auto; max-width: 600px;">
                                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 2rem;">
                                    <i class="fas fa-check" style="font-size: 2rem; color: white;"></i>
                                </div>
                                
                                <h2 style="font-size: 2rem; font-weight: 700; color: var(--gray-900); margin-bottom: 1rem;">Cadastro Realizado!</h2>
                                <p style="color: var(--gray-600); font-size: 1.125rem; margin-bottom: 2rem;">Sua empresa foi cadastrada com sucesso no programa de fidelidade Tem de Tudo.</p>
                                
                                <div id="confirmationDetails" style="text-align: left; background: var(--gray-50); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                                
                                <div style="background: #fef3c7; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                    <h4 style="color: #92400e; margin-bottom: 0.5rem;"><i class="fas fa-clock icon-sm"></i> Prximos Passos</h4>
                                    <p style="color: #92400e; margin-bottom: 0; font-size: 0.875rem;">
                                        Nossa equipe entrar em contato em at 24 horas para ativao da conta e treinamento inicial.
                                        Voc receber um email com as credenciais de acesso ao painel administrativo.
                                    </p>
                                </div>
                                
                                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                                    <a href="/" class="btn btn-ghost">
                                        <i class="fas fa-home icon-sm"></i> Voltar ao Incio
                                    </a>
                                    <a href="/contato.html" class="btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none;">
                                        <i class="fas fa-headset icon-sm"></i> Falar com Suporte
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: none; z-index: 9999; align-items: center; justify-content: center;">
        <div style="text-align: center; color: white;">
            <div style="border: 3px solid #667eea; border-top: 3px solid transparent; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
            <div id="loadingText">Processando...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/app-mobile.js"></script>
    <script>
        let currentStep = 1;
        let selectedPlan = null;
        let selectedPaymentMethod = null;
        let formData = {};

        const plans = {
            basico: {
                name: 'Plano B?sico',
                price: 89,
                features: ['At? 500 clientes', 'QR Code personalizado', 'Relat?rios b?sicos', 'Suporte por email', '3 campanhas/m?s']
            },
            profissional: {
                name: 'Plano Profissional', 
                price: 189,
                features: ['At? 2.000 clientes', 'App personalizado', 'Relat?rios avan?ados', 'Suporte priorit?rio', 'Campanhas ilimitadas', 'Redes sociais', 'Analytics']
            },
            empresarial: {
                name: 'Plano Empresarial',
                price: 389, 
                features: ['Clientes ilimitados', 'M?ltiplas filiais', 'API personalizada', 'Gerente dedicado', 'White label', 'Integra??es avan?adas', 'Suporte 24/7']
            }
        };

        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const btn = document.querySelector('.mobile-menu-btn');
            mobileNav.classList.toggle('active');
            btn.classList.toggle('active');
        }

        function selectPlan(planId) {
            // Remove previous selection
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked plan
            event.currentTarget.classList.add('selected');
            selectedPlan = planId;
            
            // Enable continue button
            document.getElementById('continueBtn').disabled = false;
            document.getElementById('continueBtn').style.opacity = '1';
        }

        function nextStep() {
            if (currentStep < 4) {
                // Hide current step
                document.getElementById(`step${currentStep}`).classList.remove('active');
                
                // Update step indicator
                document.querySelectorAll('.step')[currentStep - 1].classList.remove('active');
                document.querySelectorAll('.step')[currentStep - 1].classList.add('completed');
                
                currentStep++;
                
                // Show next step
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.querySelectorAll('.step')[currentStep - 1].classList.add('active');
                
                // Special handling for step 3 (payment)
                if (currentStep === 3) {
                    updateOrderSummary();
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                // Hide current step
                document.getElementById(`step${currentStep}`).classList.remove('active');
                
                // Update step indicator
                document.querySelectorAll('.step')[currentStep - 1].classList.remove('active');
                document.querySelectorAll('.step')[currentStep - 1].classList.remove('completed');
                
                currentStep--;
                
                // Show previous step
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.querySelectorAll('.step')[currentStep - 1].classList.add('active');
                document.querySelectorAll('.step')[currentStep - 1].classList.remove('completed');
            }
        }

        function validateFormAndNext() {
            const form = document.getElementById('companyForm');
            const formDataObj = new FormData(form);
            const data = Object.fromEntries(formDataObj);
            
            // Basic validation
            const requiredFields = ['razaoSocial', 'nomeFantasia', 'cnpj', 'email', 'telefone', 'descricao', 'cep', 'numero'];
            const missingFields = requiredFields.filter(field => !data[field] || data[field].trim() === '');
            
            if (missingFields.length > 0) {
                alert('Por favor, preencha todos os campos obrigat?rios marcados com *');
                return;
            }
            
            // CNPJ validation (basic)
            if (!isValidCNPJ(data.cnpj)) {
                alert('Por favor, insira um CNPJ v?lido');
                return;
            }
            
            // Email validation
            if (!isValidEmail(data.email)) {
                alert('Por favor, insira um email v?lido');
                return;
            }
            
            // Store form data
            formData = data;
            nextStep();
        }

        function selectPaymentMethod(method) {
            // Remove previous selection
            document.querySelectorAll('.payment-method').forEach(elem => {
                elem.classList.remove('selected');
            });
            
            // Add selection
            event.currentTarget.classList.add('selected');
            selectedPaymentMethod = method;
            
            // Show payment form
            document.getElementById('paymentForm').style.display = 'block';
            
            // Hide all forms first
            document.getElementById('creditForm').style.display = 'none';
            document.getElementById('pixForm').style.display = 'none'; 
            document.getElementById('boletoForm').style.display = 'none';
            
            // Show selected form
            document.getElementById(`${method}Form`).style.display = 'block';
            
            // Enable pay button
            document.getElementById('payBtn').disabled = false;
            
            // Update order summary
            updateOrderSummary();
        }

        function updateOrderSummary() {
            if (!selectedPlan) return;
            
            const plan = plans[selectedPlan];
            let discount = 0;
            let discountText = '';
            
            if (selectedPaymentMethod === 'pix') {
                discount = plan.price * 0.1;
                discountText = '<div style="color: #764ba2; font-weight: 600;"><i class="fas fa-tag icon-sm"></i> Desconto PIX (10%): -R$ ' + discount.toFixed(2) + '</div>';
            }
            
            const finalPrice = plan.price - discount;
            
            document.getElementById('orderSummary').innerHTML = `
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="color: #667eea; margin-bottom: 1rem;">${plan.name}</h4>
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        ${plan.features.map(feature => `<li style="padding: 0.25rem 0; color: var(--gray-600); font-size: 0.875rem;"><i class="fas fa-check" style="color: #667eea; margin-right: 0.5rem;"></i>${feature}</li>`).join('')}
                    </ul>
                </div>
                
                <div style="border-top: 1px solid var(--gray-200); padding-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Mensalidade:</span>
                        <span>R$ ${plan.price.toFixed(2)}</span>
                    </div>
                    ${discountText}
                    <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.125rem; color: #667eea; border-top: 1px solid var(--gray-200); padding-top: 1rem; margin-top: 1rem;">
                        <span>Total:</span>
                        <span>R$ ${finalPrice.toFixed(2)}</span>
                    </div>
                </div>
            `;
        }

        function processPayment() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            const loadingText = document.getElementById('loadingText');
            
            loadingOverlay.style.display = 'flex';
            loadingText.textContent = 'Processando pagamento...';
            
            // Simulate payment processing
            setTimeout(() => {
                loadingText.textContent = 'Criando conta empresarial...';
                
                setTimeout(() => {
                    loadingText.textContent = 'Enviando confirmaes...';
                    
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                        
                        // Show confirmation details
                        showConfirmation();
                        nextStep();
                        
                    }, 1500);
                }, 1500);
            }, 2000);
        }

        function showConfirmation() {
            const plan = plans[selectedPlan];
            const paymentMethodNames = {
                'credit': 'Carto de Crdito',
                'pix': 'PIX',
                'boleto': 'Boleto Banc?rio'
            };
            
            document.getElementById('confirmationDetails').innerHTML = `
                <div style="display: grid; gap: 0.75rem;">
                    <div style="display: flex; justify-content: space-between;">
                        <strong>Empresa:</strong>
                        <span>${formData.nomeFantasia}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <strong>CNPJ:</strong>
                        <span>${formData.cnpj}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <strong>Plano:</strong>
                        <span>${plan.name}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <strong>Pagamento:</strong>
                        <span>${paymentMethodNames[selectedPaymentMethod]}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <strong>Protocolo:</strong>
                        <span>#TDT${Date.now().toString().slice(-6)}</span>
                    </div>
                </div>
            `;
        }

        // Utility functions
        function isValidCNPJ(cnpj) {
            // Basic CNPJ validation
            cnpj = cnpj.replace(/[^\d]+/g, '');
            return cnpj.length === 14;
        }

        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // CEP lookup
        document.getElementById('cep').addEventListener('blur', function() {
            const cep = this.value.replace(/\D/g, '');
            if (cep.length === 8) {
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(response => response.json())
                    .then(data => {
                        if (!data.erro) {
                            document.getElementById('endereco').value = data.logradouro;
                            document.getElementById('bairro').value = data.bairro;
                            document.getElementById('cidade').value = data.localidade;
                            document.getElementById('uf').value = data.uf;
                        }
                    })
                    .catch(error => console.log('Erro ao buscar CEP:', error));
            }
        });

        // Input masks
        document.addEventListener('DOMContentLoaded', function() {
            // CNPJ mask
            document.getElementById('cnpj').addEventListener('input', function() {
                let value = this.value.replace(/\D/g, '');
                value = value.replace(/^(\d{2})(\d)/, '$1.$2');
                value = value.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
                value = value.replace(/\.(\d{3})(\d)/, '.$1/$2');
                value = value.replace(/(\d{4})(\d)/, '$1-$2');
                this.value = value;
            });

            // Phone mask
            document.getElementById('telefone').addEventListener('input', function() {
                let value = this.value.replace(/\D/g, '');
                value = value.replace(/(\d{2})(\d)/, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
                this.value = value;
            });

            // CEP mask
            document.getElementById('cep').addEventListener('input', function() {
                let value = this.value.replace(/\D/g, '');
                value = value.replace(/^(\d{5})(\d)/, '$1-$2');
                this.value = value;
            });
        });
    </script><script src="/js/global.js"></script>
</body>
</html>

  <script>
    // Menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.getElementById('menu-toggle');
      const navLinks = document.getElementById('nav-links');

      if (menuToggle && navLinks) {
        menuToggle.addEventListener('click', function() {
          navLinks.classList.toggle('active');
        });
      }

      // Form submission
      const form = document.getElementById('register-company-form');
      if (form) {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          const formData = new FormData(form);
          const data = Object.fromEntries(formData.entries());
          
          // Simple validation
          if (!data.companyName || !data.email || !data.phone || !data.address || !data.description) {
            alert('Por favor, preencha todos os campos obrigatrios.');
            return;
          }

          // Email validation
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(data.email)) {
            alert('Por favor, insira um email vlido.');
            return;
          }

          // Phone validation (basic)
          const phoneRegex = /^[\d\s\(\)\-\+]+$/;
          if (!phoneRegex.test(data.phone)) {
            alert('Por favor, insira um telefone vlido.');
            return;
          }

          // Simulate form submission
          const submitBtn = form.querySelector('button[type="submit"]');
          const originalText = submitBtn.textContent;
          submitBtn.textContent = 'Enviando...';
          submitBtn.disabled = true;

          // Simulate API call with billing notification
          setTimeout(() => {
            const billingMessage = `
? CADASTRO EMPRESARIAL RECEBIDO!

Ol, ${data.companyName}!

Sua solicitao de cadastro foi recebida com sucesso! 

?? PRXIMOS PASSOS:
1. Anlise dos dados (1-2 dias teis)
2. Envio da proposta comercial por email
3. Aprovao e ativao do perfil

?? INFORMAES DE COBRANA:
 Taxa de adeso: R$ 149,90 (pagamento nico)
 Mensalidade: R$ 79,90/ms
 Sem taxa por transao
 Primeiro ms GRTIS para teste!

?? DOCUMENTOS NECESSRIOS:
Voc receber um email em ${data.email} com:
 Contrato de parceria
 Informaes bancrias para pagamento
 Manual de integrao
 Cronograma de ativao

? PRAZO DE ATIVAO:
 Aps aprovao: 24-48h
 Treinamento da equipe incluso
 Suporte tcnico completo

Dvidas? Entre em contato:
?? (11) 4000-1234
?? parcerias@temdetudo.com
?? WhatsApp: (11) 94000-1234

Obrigado por escolher a TemDeTudo! ??
            `.trim();
            
            alert(billingMessage);
            
            // Simulate sending billing email
            console.log('?? Email de cobrana enviado para:', data.email);
            console.log('?? Dados para cobrana:', {
              empresa: data.companyName,
              email: data.email,
              telefone: data.phone,
              endereco: data.address,
              taxa_adesao: 149.90,
              mensalidade: 79.90,
              primeiro_mes_gratis: true
            });
            
            form.reset();
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
            
            // Redirect to confirmation page after 3 seconds
            setTimeout(() => {
              window.location.href = '/register-company-success.html';
            }, 3000);
          }, 2000);
        });
      }
    });
  </script>
    <script src="/js/global.js"></script>
</body>
</html>
<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Relatórios Descontos - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;"><i class="fas fa-percent"></i> Descontos</h1></header><div style="max-width:1200px;margin:0 auto;padding:24px 20px;text-align:center;"><div style="background:white;border-radius:20px;padding:40px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><p style="color:#7c8db0;margin:0;">Nenhum desconto aplicado</p></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Relatórios Financeiros - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;"><i class="fas fa-chart-line"></i> Relatórios Financeiros</h1></header><div style="max-width:1400px;margin:0 auto;padding:24px 20px;"><div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;"><div style="background:white;border-radius:20px;padding:28px;box-shadow:0 8px 24px rgba(102,126,234,0.08);"><h3 style="font-size:18px;font-weight:800;color:#1a1a2e;margin:0 0 16px;">Receita Total</h3><div style="font-size:42px;font-weight:900;color:#10b981;">R$ 0</div></div></div></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Scanner - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#1a1a2e;"><header style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:24px 20px;text-align:center;"><h1 style="font-size:24px;font-weight:900;margin:0;"><i class="fas fa-qrcode"></i> Scanner QR Code</h1></header><div style="padding:32px 20px;text-align:center;"><div id="reader" style="max-width:500px;margin:0 auto;background:white;border-radius:16px;overflow:hidden;"></div></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0f">
    <title>Selecione seu perfil - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(rgba(102, 126, 234, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(102, 126, 234, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
        }
        
        .container {
            max-width: 1100px;
            width: 100%;
            position: relative;
            z-index: 1;
        }
        
        .header {
            text-align: center;
            margin-bottom: 56px;
        }
        
        .logo {
            width: 140px;
            height: 140px;
            margin: 0 auto 28px;
        }
        
        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .header h1 {
            font-size: 42px;
            font-weight: 900;
            color: #fff;
            margin-bottom: 16px;
            letter-spacing: -1px;
        }
        
        .header p {
            font-size: 19px;
            color: #b0b0b0;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-bottom: 40px;
        }
        
        .profile-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 24px;
            padding: 48px 36px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            border: 2px solid rgba(102, 126, 234, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .profile-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.4s;
        }
        
        .profile-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }
        
        .profile-card:hover::before {
            transform: scaleX(1);
        }
        
        .profile-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 24px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            transition: all 0.4s;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .profile-card:hover .profile-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 36px rgba(102, 126, 234, 0.5);
        }
        
        .profile-card h2 {
            font-size: 28px;
            margin-bottom: 14px;
            color: #fff;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .profile-card p {
            color: #b0b0b0;
            line-height: 1.7;
            margin-bottom: 28px;
            font-size: 15px;
        }
        
        .profile-features {
            list-style: none;
            text-align: left;
            margin-bottom: 32px;
        }
        
        .profile-features li {
            color: #b0b0b0;
            margin-bottom: 12px;
            padding-left: 32px;
            position: relative;
            font-size: 14px;
        }
        
        .profile-features li::before {
            content: '?';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: 700;
            font-size: 18px;
        }
        
        .btn-select {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
            letter-spacing: 0.5px;
        }
        
        .btn-select:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px rgba(102, 126, 234, 0.5);
        }
        
        .badge {
            display: inline-block;
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .back-link {
            text-align: center;
            margin-top: 32px;
        }
        
        .back-link a {
            color: #b0b0b0;
            text-decoration: none;
            font-size: 15px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: color 0.3s;
            padding: 12px 24px;
            border-radius: 12px;
            background: rgba(26, 26, 46, 0.5);
        }
        
        .back-link a:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        @media (max-width: 968px) {
            .cards-grid {
                grid-template-columns: 1fr;
                max-width: 480px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .header h1 {
                font-size: 32px;
            }
            
            .header p {
                font-size: 16px;
            }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <img src="img/logo.png" alt="Tem de Tudo">
            </div>
            <h1>Como você quer usar o sistema?</h1>
            <p>Escolha o perfil que melhor se encaixa com suas necessidades</p>
        </div>
        
        <div class="cards-grid">
            <!-- CLIENTE -->
            <div class="profile-card" onclick="selectProfile('cliente')">
                <span class="badge">Mais Popular</span>
                <div class="profile-icon">
                    <i class="fas fa-user"></i>
                </div>
                <h2>Sou Cliente</h2>
                <p>Acumule pontos e ganhe recompensas em estabelecimentos parceiros</p>
                <ul class="profile-features">
                    <li>Acumule pontos a cada compra</li>
                    <li>Resgate recompensas exclusivas</li>
                    <li>QR Code pessoal para validação</li>
                    <li>Acompanhe seu histórico</li>
                    <li>Receba promoções personalizadas</li>
                </ul>
                <button class="btn-select">
                    CONTINUAR COMO CLIENTE
                </button>
            </div>
            
            <!-- EMPRESA -->
            <div class="profile-card" onclick="selectProfile('empresa')">
                <span class="badge">Para Negócios</span>
                <div class="profile-icon">
                    <i class="fas fa-store"></i>
                </div>
                <h2>Tenho Empresa</h2>
                <p>Fidelize seus clientes e aumente suas vendas com nosso sistema</p>
                <ul class="profile-features">
                    <li>Dashboard completo de métricas</li>
                    <li>Gerencie clientes e pontos</li>
                    <li>Crie promoções personalizadas</li>
                    <li>Scanner QR Code integrado</li>
                    <li>Relatórios detalhados de vendas</li>
                </ul>
                <button class="btn-select">
                    CONTINUAR COMO EMPRESA
                </button>
            </div>
            
            <!-- ADMIN -->
            <div class="profile-card" onclick="selectProfile('admin')">
                <span class="badge">Administração</span>
                <div class="profile-icon">
                    <i class="fas fa-shield-halved"></i>
                </div>
                <h2>Sou Administrador</h2>
                <p>Gerencie toda a plataforma e aprove novos estabelecimentos</p>
                <ul class="profile-features">
                    <li>Painel master de controle</li>
                    <li>Aprovar/reprovar estabelecimentos</li>
                    <li>Gerenciar todos os usuários</li>
                    <li>Relatórios globais da plataforma</li>
                    <li>Configurações avançadas do sistema</li>
                </ul>
                <button class="btn-select">
                    ACESSAR PAINEL ADMIN
                </button>
            </div>
        </div>
        
        <div class="back-link">
            <a href="index.html">
                <i class="fas fa-arrow-left"></i>
                Voltar para a página inicial
            </a>
        </div>
    </div>
    
    <script>
        function selectProfile(tipo) {
            // Verificar se usuário está autenticado
            const token = localStorage.getItem('tem_de_tudo_token');
            const user = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
            
            if (token && user.user_type) {
                // Usuário já logado, redirecionar direto
                redirectByType(user.user_type);
            } else {
                // Usuário não logado, salvar escolha e ir para cadastro
                localStorage.setItem('selectedProfile', tipo);
                
                if (tipo === 'admin') {
                    // Admin precisa de credenciais especiais
                    window.location.href = '/entrar.html';
                } else if (tipo === 'empresa') {
                    window.location.href = 'cadastro-empresa.html';
                } else {
                    window.location.href = 'cadastro.html';
                }
            }
        }
        
        function redirectByType(type) {
            switch(type) {
                case 'admin':
                    window.location.href = 'admin-dashboard.html';
                    break;
                case 'empresa':
                    window.location.href = 'empresa-dashboard.html';
                    break;
                case 'cliente':
                default:
                    window.location.href = 'app-inicio.html';
                    break;
            }
        }
        
        // Se usuário já está logado, pode mostrar apenas o card dele
        window.addEventListener('DOMContentLoaded', function() {
            const token = localStorage.getItem('tem_de_tudo_token');
            const user = JSON.parse(localStorage.getItem('tem_de_tudo_user') || '{}');
            
            if (token && user.user_type) {
                // Opcional: mostrar apenas o perfil do usuário logado
                // ou adicionar um botão "Continuar" em destaque
                console.log('Usuário já logado como:', user.user_type);
            }
        });
    </script>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Empresa - Sucesso - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;display:flex;align-items:center;justify-content:center;min-height:100vh;"><div style="text-align:center;max-width:600px;padding:40px;"><div style="width:120px;height:120px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:24px;box-shadow:0 20px 60px rgba(102,126,234,0.3);"><i class="fas fa-building" style="font-size:60px;color:white;"></i></div><h1 style="font-size:32px;font-weight:900;color:#1a1a2e;margin:0 0 16px;">Empresa Cadastrada!</h1><p style="color:#7c8db0;font-size:18px;margin:0 0 32px;">Seu cadastro está em análise</p><a href="/entrar.html" style="display:inline-block;padding:16px 32px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;text-decoration:none;border-radius:50px;font-weight:700;">Fazer Login</a></div></body></html>


<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Sucesso! - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">`n        <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;display:flex;align-items:center;justify-content:center;min-height:100vh;"><div style="text-align:center;max-width:600px;padding:40px;"><div style="width:120px;height:120px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:24px;box-shadow:0 20px 60px rgba(16,185,129,0.3);"><i class="fas fa-check" style="font-size:60px;color:white;"></i></div><h1 style="font-size:32px;font-weight:900;color:#1a1a2e;margin:0 0 16px;">Cadastro realizado!</h1><p style="color:#7c8db0;font-size:18px;margin:0 0 32px;">Bem-vindo ao Tem de Tudo</p><a href="/entrar.html" style="display:inline-block;padding:16px 32px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;text-decoration:none;border-radius:50px;font-weight:700;">Fazer Login</a></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Termos de Uso - Tem de Tudo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #0f3460;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 8px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            margin-bottom: 16px;
            opacity: 0.9;
        }
        
        .back-link:hover {
            opacity: 1;
        }
        
        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .content {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .last-update {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e9ecef;
        }
        
        h2 {
            font-size: 24px;
            font-weight: 800;
            margin-top: 32px;
            margin-bottom: 16px;
            color: #1a1a2e;
        }
        
        h3 {
            font-size: 18px;
            font-weight: 700;
            margin-top: 24px;
            margin-bottom: 12px;
            color: #0f3460;
        }
        
        p {
            margin-bottom: 16px;
            color: #495057;
        }
        
        ul, ol {
            margin-left: 24px;
            margin-bottom: 16px;
        }
        
        li {
            margin-bottom: 8px;
            color: #495057;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 24px 0;
        }
        
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="header">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Voltar para Home
        </a>
        <h1>Termos de Uso</h1>
        <p>Leia atentamente antes de usar a plataforma Tem de Tudo</p>
    </div>
    
    <div class="container">
        <div class="content">
            <p class="last-update"><strong>?ltima atualiza??o:</strong> 17 de dezembro de 2025</p>
            
            <h2>1. Aceita??o dos Termos</h2>
            <p>Ao acessar e usar a plataforma <strong>Tem de Tudo</strong>, voc? concorda com estes Termos de Uso. Se voc? n?o concordar com qualquer parte destes termos, n?o dever? usar nossos servi?os.</p>
            
            <h2>2. Defini??es</h2>
            <ul>
                <li><strong>Plataforma:</strong> Sistema Tem de Tudo, incluindo site, aplicativo mobile (PWA) e todos os servi?os relacionados.</li>
                <li><strong>Usu?rio:</strong> Qualquer pessoa que acessa a plataforma.</li>
                <li><strong>Cliente:</strong> Pessoa f?sica que acumula pontos em estabelecimentos parceiros.</li>
                <li><strong>Empresa:</strong> Estabelecimento comercial cadastrado que oferece programa de fidelidade.</li>
                <li><strong>Administrador:</strong> Pessoa autorizada a gerenciar a plataforma.</li>
            </ul>
            
            <h2>3. Cadastro e Conta de Usu?rio</h2>
            
            <h3>3.1 Requisitos de Cadastro</h3>
            <p>Para usar a plataforma, voc? deve:</p>
            <ul>
                <li>Ter pelo menos 18 anos de idade ou estar acompanhado por respons?vel legal;</li>
                <li>Fornecer informa??es verdadeiras, precisas e atualizadas;</li>
                <li>Manter suas credenciais de acesso em sigilo;</li>
                <li>Notificar imediatamente sobre qualquer uso n?o autorizado de sua conta.</li>
            </ul>
            
            <h3>3.2 Responsabilidade pela Conta</h3>
            <p>Voc? ? totalmente respons?vel por todas as atividades realizadas em sua conta. O Tem de Tudo n?o se responsabiliza por perdas decorrentes de uso n?o autorizado.</p>
            
            <h2>4. Uso da Plataforma</h2>
            
            <h3>4.1 Licen?a de Uso</h3>
            <p>Concedemos uma licen?a limitada, n?o exclusiva, intransfer?vel e revog?vel para usar a plataforma conforme estes termos.</p>
            
            <h3>4.2 Proibi??es</h3>
            <p>Voc? N?O pode:</p>
            <ul>
                <li>Usar a plataforma para atividades ilegais ou fraudulentas;</li>
                <li>Tentar hackear, reverter engenharia ou violar a seguran?a do sistema;</li>
                <li>Criar m?ltiplas contas para obter vantagens indevidas;</li>
                <li>Comercializar, vender ou transferir pontos de fidelidade sem autoriza??o;</li>
                <li>Usar bots, scripts ou automa??es n?o autorizadas;</li>
                <li>Coletar dados de outros usu?rios sem consentimento;</li>
                <li>Violar direitos de propriedade intelectual do Tem de Tudo ou terceiros.</li>
            </ul>
            
            <h2>5. Programa de Fidelidade</h2>
            
            <h3>5.1 Ac?mulo de Pontos</h3>
            <p>Clientes acumulam pontos ao realizar compras em estabelecimentos parceiros. O valor e crit?rios s?o definidos por cada estabelecimento.</p>
            
            <h3>5.2 Resgate de Pontos</h3>
            <ul>
                <li>Pontos podem ser resgatados conforme regras de cada estabelecimento;</li>
                <li>Pontos n?o t?m valor monet?rio e n?o podem ser convertidos em dinheiro;</li>
                <li>Estabelecimentos podem definir prazo de validade para pontos;</li>
                <li>O Tem de Tudo n?o se responsabiliza por altera??es nas regras dos estabelecimentos.</li>
            </ul>
            
            <h3>5.3 Cancelamento de Pontos</h3>
            <p>Pontos podem ser cancelados em caso de:</p>
            <ul>
                <li>Detec??o de fraude ou viola??o destes termos;</li>
                <li>Cancelamento da compra que gerou os pontos;</li>
                <li>Encerramento da conta do usu?rio;</li>
                <li>Encerramento do estabelecimento parceiro.</li>
            </ul>
            
            <h2>6. Responsabilidades dos Estabelecimentos</h2>
            <p>Estabelecimentos cadastrados devem:</p>
            <ul>
                <li>Fornecer informa??es verdadeiras sobre produtos e servi?os;</li>
                <li>Honrar promo??es e ofertas anunciadas na plataforma;</li>
                <li>Cumprir legisla??o aplic?vel ao seu ramo de atividade;</li>
                <li>Respeitar direitos dos consumidores conforme CDC;</li>
                <li>Pagar taxas de servi?o conforme plano contratado.</li>
            </ul>
            
            <h2>7. Pagamentos e Assinaturas</h2>
            
            <h3>7.1 Planos</h3>
            <p>Oferecemos diferentes planos de assinatura para estabelecimentos. Valores e funcionalidades est?o descritos na p?gina de Planos.</p>
            
            <h3>7.2 Faturamento</h3>
            <ul>
                <li>Cobran?as s?o realizadas mensalmente via cart?o de cr?dito ou boleto;</li>
                <li>Renova??o autom?tica salvo cancelamento com 7 dias de anteced?ncia;</li>
                <li>N?o h? reembolso proporcional em caso de cancelamento antecipado;</li>
                <li>Atrasos podem resultar em suspens?o ou cancelamento da conta.</li>
            </ul>
            
            <div class="highlight">
                <strong>?? Importante:</strong> O n?o pagamento pode resultar na perda permanente de dados e hist?rico de clientes. Realize backups regularmente.
            </div>
            
            <h2>8. Propriedade Intelectual</h2>
            <p>Todo conte?do da plataforma (c?digo, design, logotipos, textos, imagens) ? propriedade do Tem de Tudo e est? protegido por leis de direitos autorais.</p>
            
            <h2>9. Privacidade e Dados</h2>
            <p>O tratamento de dados pessoais ? regido por nossa <a href="politica-de-privacidade.html">Pol?tica de Privacidade</a>, em conformidade com a LGPD (Lei 13.709/2018).</p>
            
            <h2>10. Limita??o de Responsabilidade</h2>
            <p>O Tem de Tudo N?O se responsabiliza por:</p>
            <ul>
                <li>Problemas de conex?o ou indisponibilidade tempor?ria do servi?o;</li>
                <li>A??es ou omiss?es de estabelecimentos parceiros;</li>
                <li>Perda de dados causada por a??es do usu?rio;</li>
                <li>Danos indiretos, lucros cessantes ou danos morais;</li>
                <li>Conte?do postado por terceiros na plataforma.</li>
            </ul>
            
            <h2>11. Suspens?o e Encerramento</h2>
            
            <h3>11.1 Por Viola??o</h3>
            <p>Podemos suspender ou encerrar sua conta imediatamente se voc? violar estes termos.</p>
            
            <h3>11.2 Por Solicita??o</h3>
            <p>Voc? pode encerrar sua conta a qualquer momento atrav?s das configura??es ou contato com suporte.</p>
            
            <h3>11.3 Efeitos do Encerramento</h3>
            <ul>
                <li>Perda de acesso a todos os servi?os;</li>
                <li>Cancelamento de pontos n?o resgatados;</li>
                <li>Exclus?o de dados conforme Pol?tica de Privacidade;</li>
                <li>Sem reembolso de valores pagos.</li>
            </ul>
            
            <h2>12. Modifica??es dos Termos</h2>
            <p>Podemos alterar estes termos a qualquer momento. Mudan?as significativas ser?o notificadas por e-mail ou na plataforma. Uso continuado ap?s altera??es constitui aceita??o.</p>
            
            <h2>13. Lei Aplic?vel e Jurisdi??o</h2>
            <p>Estes termos s?o regidos pelas leis brasileiras. Foro da comarca de <strong>[Sua Cidade]</strong> para resolu??o de disputas.</p>
            
            <h2>14. Contato</h2>
            <p>Para d?vidas sobre estes termos, entre em contato:</p>
            <ul>
                <li><strong>Email:</strong> legal@temdetudo.com.br</li>
                <li><strong>WhatsApp:</strong> (11) 99999-9999</li>
                <li><strong>Endere?o:</strong> [Seu Endere?o Completo]</li>
            </ul>
            
            <div class="highlight">
                <strong>?? Vers?o:</strong> 1.0 | <strong>Data:</strong> 17/12/2025
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2025 Tem de Tudo. Todos os direitos reservados.</p>
        <p><a href="index.html" style="color: #0f3460; text-decoration: none;">Voltar para Home</a></p>
    </div>
</body>
</html>

<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes"><title>Termos de Uso - Tem de Tudo</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">    `n    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head><body style="margin:0;font-family:Inter,sans-serif;background:#f8f9ff;padding:40px 20px;"><div style="max-width:900px;margin:0 auto;background:white;border-radius:24px;padding:40px;box-shadow:0 12px 40px rgba(102,126,234,0.08);"><h1 style="font-size:32px;font-weight:900;color:#1a1a2e;margin:0 0 24px;">Termos de Uso</h1><p style="color:#7c8db0;line-height:1.8;">Ao utilizar nossa plataforma, você concorda com nossos termos e condições de uso...</p></div></body></html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DEBUG - Teste Login</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #0f0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #000;
            padding: 20px;
            border: 2px solid #0f0;
        }
        input, button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
        }
        button {
            background: #0f0;
            color: #000;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        #output {
            background: #111;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid #0f0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .success { color: #0f0; }
        .error { color: #f00; }
        .info { color: #ff0; }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <h1>?? DEBUG - Teste de Cadastro e Login</h1>
        
        <h2>1. CADASTRO</h2>
        <input type="text" id="reg_name" placeholder="Nome" value="Teste Debug">
        <input type="email" id="reg_email" placeholder="Email" value="debug@test.com">
        <input type="password" id="reg_password" placeholder="Senha" value="senha123">
        <input type="tel" id="reg_phone" placeholder="Telefone" value="11999999999">
        <button onclick="testRegister()">CADASTRAR</button>
        
        <h2>2. LOGIN</h2>
        <input type="email" id="login_email" placeholder="Email" value="debug@test.com">
        <input type="password" id="login_password" placeholder="Senha" value="senha123">
        <button onclick="testLogin()">LOGIN</button>
        
        <h2>?? OUTPUT:</h2>
        <div id="output">Aguardando teste...</div>
    </div>

    <script>
        function log(message, type = 'info') {
            const output = document.getElementById('output');
            const time = new Date().toLocaleTimeString();
            const color = type === 'success' ? 'success' : type === 'error' ? 'error' : 'info';
            output.innerHTML += `<span class="${color}">[${time}] ${message}</span>\n`;
        }

        async function testRegister() {
            const output = document.getElementById('output');
            output.innerHTML = '';
            
            log('?? INICIANDO CADASTRO...', 'info');
            
            const data = {
                name: document.getElementById('reg_name').value,
                email: document.getElementById('reg_email').value,
                password: document.getElementById('reg_password').value,
                phone: document.getElementById('reg_phone').value,
                perfil: 'cliente'
            };
            
            log('?? DADOS ENVIADOS:', 'info');
            log(JSON.stringify(data, null, 2), 'info');
            
            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                log(`?? STATUS: ${response.status} ${response.statusText}`, response.ok ? 'success' : 'error');
                
                const result = await response.json();
                
                log('?? RESPOSTA COMPLETA:', 'info');
                log(JSON.stringify(result, null, 2), response.ok ? 'success' : 'error');
                
                if (response.ok && result.success) {
                    log('? CADASTRO OK! Dados salvos:', 'success');
                    log(`Token: ${result.data.token.substring(0, 20)}...`, 'success');
                    log(`User ID: ${result.data.user.id}`, 'success');
                    log(`User Type: ${result.data.user.user_type}`, 'success');
                } else {
                    log('? CADASTRO FALHOU!', 'error');
                }
            } catch (error) {
                log('?? ERRO DE CONEX?O:', 'error');
                log(error.message, 'error');
            }
        }

        async function testLogin() {
            const output = document.getElementById('output');
            output.innerHTML = '';
            
            log('?? INICIANDO LOGIN...', 'info');
            
            const data = {
                email: document.getElementById('login_email').value,
                password: document.getElementById('login_password').value
            };
            
            log('?? DADOS ENVIADOS:', 'info');
            log(JSON.stringify(data, null, 2), 'info');
            
            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                log(`?? STATUS: ${response.status} ${response.statusText}`, response.ok ? 'success' : 'error');
                
                const result = await response.json();
                
                log('?? RESPOSTA COMPLETA:', 'info');
                log(JSON.stringify(result, null, 2), response.ok ? 'success' : 'error');
                
                if (response.ok && result.success) {
                    log('? LOGIN OK!', 'success');
                    log(`Token: ${result.data.token.substring(0, 20)}...`, 'success');
                    log(`User ID: ${result.data.user.id}`, 'success');
                    log(`User Type: ${result.data.user.user_type}`, 'success');
                    log(`Redirect: ${result.data.redirect_to}`, 'success');
                } else {
                    log('? LOGIN FALHOU!', 'error');
                    log(`Mensagem: ${result.message}`, 'error');
                }
            } catch (error) {
                log('?? ERRO DE CONEX?O:', 'error');
                log(error.message, 'error');
            }
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Teste Login - Sistema</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 100%;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            color: #555;
            font-weight: 600;
            margin-bottom: 8px;
        }
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-login {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .btn-register {
            background: #28a745;
            color: white;
        }
        .btn-register:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        .btn-clear {
            background: #6c757d;
            color: white;
            grid-column: span 2;
        }
        .btn-clear:hover {
            background: #5a6268;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .json-output {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .credentials {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .credentials h3 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .credentials p {
            color: #856404;
            font-size: 13px;
            margin: 5px 0;
        }
        .credentials strong {
            color: #856404;
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <h1>?? Teste de Login</h1>
        <p class="subtitle">Sistema de Fidelidade - Valida??o de Autentica??o</p>

        <div class="credentials">
            <h3>?? Credenciais de Teste</h3>
            <p><strong>Clientes:</strong> cliente1@email.com at? cliente50@email.com</p>
            <p><strong>Empresas:</strong> empresa1@email.com at? empresa20@email.com</p>
            <p><strong>Senha (todas):</strong> senha123</p>
        </div>

        <div class="form-group">
            <label for="testType">Tipo de Teste:</label>
            <select id="testType" onchange="updateEmail()">
                <option value="cliente">Cliente</option>
                <option value="empresa">Empresa</option>
                <option value="custom">Personalizado</option>
            </select>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" placeholder="Digite o email" value="cliente1@email.com">
        </div>

        <div class="form-group">
            <label for="password">Senha:</label>
            <input type="password" id="password" placeholder="Digite a senha" value="senha123">
        </div>

        <div class="btn-group">
            <button class="btn-login" onclick="testarLogin()">?? Testar Login</button>
            <button class="btn-register" onclick="testarRegistro()">?? Testar Registro</button>
            <button class="btn-clear" onclick="limpar()">??? Limpar</button>
        </div>

        <div id="result"></div>
    </div>

    <script>
        const API_URL = 'https://tem-de-tudo-backend.onrender.com/api';

        function updateEmail() {
            const type = document.getElementById('testType').value;
            const emailInput = document.getElementById('email');
            
            if (type === 'cliente') {
                emailInput.value = 'cliente1@email.com';
            } else if (type === 'empresa') {
                emailInput.value = 'empresa1@email.com';
            } else {
                emailInput.value = '';
            }
        }

        async function testarLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const resultDiv = document.getElementById('result');

            resultDiv.innerHTML = '<p>? Testando login...</p>';
            resultDiv.className = '';
            resultDiv.style.display = 'block';

            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    resultDiv.className = 'success';
                    resultDiv.innerHTML = `
                        <h3>? Login realizado com sucesso!</h3>
                        <p><strong>Usu?rio:</strong> ${data.data.user.name}</p>
                        <p><strong>Email:</strong> ${data.data.user.email}</p>
                        <p><strong>Perfil:</strong> ${data.data.user.perfil}</p>
                        <p><strong>Token:</strong> ${data.data.token.substring(0, 50)}...</p>
                        <div class="json-output">${JSON.stringify(data, null, 2)}</div>
                    `;
                } else {
                    resultDiv.className = 'error';
                    resultDiv.innerHTML = `
                        <h3>? Erro no login</h3>
                        <p><strong>Mensagem:</strong> ${data.message || 'Erro desconhecido'}</p>
                        <div class="json-output">${JSON.stringify(data, null, 2)}</div>
                    `;
                }
            } catch (error) {
                resultDiv.className = 'error';
                resultDiv.innerHTML = `
                    <h3>? Erro de conex?o</h3>
                    <p><strong>Erro:</strong> ${error.message}</p>
                `;
            }
        }

        async function testarRegistro() {
            const testType = document.getElementById('testType').value;
            const perfil = testType === 'custom' ? 'cliente' : testType;
            const resultDiv = document.getElementById('result');

            const randomId = Math.floor(Math.random() * 10000);
            const novoUsuario = {
                name: `Teste ${perfil} ${randomId}`,
                email: `teste${randomId}@email.com`,
                password: 'senha123',
                perfil: perfil,
                telefone: '(11) 99999-9999'
            };

            resultDiv.innerHTML = '<p>? Testando registro...</p>';
            resultDiv.className = '';
            resultDiv.style.display = 'block';

            try {
                const response = await fetch(`${API_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(novoUsuario)
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    resultDiv.className = 'success';
                    resultDiv.innerHTML = `
                        <h3>? Registro realizado com sucesso!</h3>
                        <p><strong>Usu?rio criado:</strong> ${data.data.user.name}</p>
                        <p><strong>Email:</strong> ${data.data.user.email}</p>
                        <p><strong>Perfil:</strong> ${data.data.user.perfil}</p>
                        <div class="json-output">${JSON.stringify(data, null, 2)}</div>
                    `;
                    
                    // Atualizar campos com novo usu?rio
                    document.getElementById('email').value = novoUsuario.email;
                    document.getElementById('password').value = novoUsuario.password;
                } else {
                    resultDiv.className = 'error';
                    resultDiv.innerHTML = `
                        <h3>? Erro no registro</h3>
                        <p><strong>Mensagem:</strong> ${data.message || 'Erro desconhecido'}</p>
                        <div class="json-output">${JSON.stringify(data, null, 2)}</div>
                    `;
                }
            } catch (error) {
                resultDiv.className = 'error';
                resultDiv.innerHTML = `
                    <h3>? Erro de conex?o</h3>
                    <p><strong>Erro:</strong> ${error.message}</p>
                `;
            }
        }

        function limpar() {
            document.getElementById('result').style.display = 'none';
            document.getElementById('result').innerHTML = '';
            updateEmail();
            document.getElementById('password').value = 'senha123';
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste API</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #0a0a0f; color: #fff; }
        .result { background: #1a1a2e; padding: 20px; margin: 10px 0; border-radius: 8px; }
        .empresa { background: #16213e; padding: 15px; margin: 10px 0; border-left: 4px solid #667eea; }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        button { background: #667eea; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #764ba2; }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <h1>?? Teste API - Tem de Tudo</h1>
    
    <div class="result">
        <h3>1. Testar Conexão</h3>
        <button onclick="testarConexao()">Testar</button>
        <div id="conexao"></div>
    </div>
    
    <div class="result">
        <h3>2. Fazer Login</h3>
        <button onclick="fazerLogin()">Login cliente1@email.com</button>
        <div id="login"></div>
    </div>
    
    <div class="result">
        <h3>3. Buscar Empresas</h3>
        <button onclick="buscarEmpresas()">Buscar</button>
        <div id="empresas"></div>
    </div>

    <script>
        let token = null;

        async function testarConexao() {
            const div = document.getElementById('conexao');
            try {
                const response = await fetch('/api/debug');
                const data = await response.json();
                div.innerHTML = `<p class="success">? Servidor funcionando! Status: ${data.status}</p>`;
            } catch (error) {
                div.innerHTML = `<p class="error">? Erro: ${error.message}</p>`;
            }
        }

        async function fazerLogin() {
            const div = document.getElementById('login');
            div.innerHTML = '<p>?? Fazendo login...</p>';
            
            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: 'cliente1@email.com',
                        password: 'senha123'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.token) {
                    token = data.token;
                    localStorage.setItem('tem_de_tudo_token', token);
                    div.innerHTML = `
                        <p class="success">? Login OK!</p>
                        <p>Token: ${token.substring(0, 20)}...</p>
                        <p>User: ${data.user?.name || 'N/A'}</p>
                    `;
                } else {
                    div.innerHTML = `<p class="error">? Erro: ${data.message || 'Login falhou'}</p>`;
                }
            } catch (error) {
                div.innerHTML = `<p class="error">? Erro: ${error.message}</p>`;
            }
        }

        async function buscarEmpresas() {
            const div = document.getElementById('empresas');
            
            if (!token) {
                token = localStorage.getItem('tem_de_tudo_token');
            }
            
            if (!token) {
                div.innerHTML = '<p class="error">? Faça login primeiro!</p>';
                return;
            }
            
            div.innerHTML = '<p>?? Buscando empresas...</p>';
            
            try {
                const response = await fetch('/api/cliente/empresas', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    const empresas = data.data;
                    div.innerHTML = `
                        <p class="success">? ${empresas.length} empresas encontradas!</p>
                        ${empresas.map(e => `
                            <div class="empresa">
                                <h4>${e.nome}</h4>
                                <p>?? ${e.endereco || 'Sem endereço'}</p>
                                <p>??? ${e.ramo_formatado}</p>
                                <p>? ${e.avaliacao_media} (${e.total_avaliacoes} avaliações)</p>
                                <p>?? ${e.pontos_cliente} pontos</p>
                            </div>
                        `).slice(0, 5).join('')}
                        ${empresas.length > 5 ? `<p>... e mais ${empresas.length - 5}</p>` : ''}
                    `;
                } else {
                    div.innerHTML = `<p class="error">? Erro: ${data.message || 'Falha ao buscar'}</p>`;
                }
            } catch (error) {
                div.innerHTML = `<p class="error">? Erro: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    
    <meta charset="UTF-8">
    <title>TESTE REAL - Empresas</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        .log { margin: 5px 0; padding: 10px; background: #111; border-left: 3px solid #0f0; }
        .error { border-left-color: #f00; color: #f00; }
        .success { border-left-color: #0f0; color: #0f0; }
        .info { border-left-color: #00f; color: #0ff; }
        pre { background: #222; padding: 10px; overflow-x: auto; }
        button { padding: 15px 30px; margin: 10px; font-size: 16px; cursor: pointer; }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <h1>?? TESTE REAL - EMPRESAS ??</h1>
    
    <button onclick="fazerLogin()">1. FAZER LOGIN</button>
    <button onclick="buscarEmpresas()">2. BUSCAR EMPRESAS</button>
    <button onclick="limparLogs()">LIMPAR LOGS</button>
    
    <div id="logs"></div>
    
    <script src="/js/config.js"></script>
    <script>
        function log(msg, type = 'info') {
            const div = document.createElement('div');
            div.className = 'log ' + type;
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
            document.getElementById('logs').appendChild(div);
            console.log(msg);
        }
        
        function limparLogs() {
            document.getElementById('logs').innerHTML = '';
        }
        
        async function fazerLogin() {
            try {
                const baseURL = API_CONFIG.getBaseURL();
                log(`?? Base URL: ${baseURL}`, 'info');
                
                const url = `${baseURL}/api/auth/login`;
                log(`?? POST ${url}`, 'info');
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        email: 'cliente@teste.com',
                        password: '123456'
                    })
                });
                
                log(`?? Status: ${response.status}`, response.ok ? 'success' : 'error');
                
                const data = await response.json();
                log(`?? Resposta: <pre>${JSON.stringify(data, null, 2)}</pre>`, 'info');
                
                if (data.token) {
                    localStorage.setItem('tem_de_tudo_token', data.token);
                    log(`? TOKEN SALVO! ${data.token.substring(0, 30)}...`, 'success');
                } else {
                    log(`? SEM TOKEN NA RESPOSTA!`, 'error');
                }
            } catch (error) {
                log(`? ERRO: ${error.message}`, 'error');
            }
        }
        
        async function buscarEmpresas() {
            try {
                const token = localStorage.getItem('tem_de_tudo_token');
                if (!token) {
                    log(`? FAÇA LOGIN PRIMEIRO!`, 'error');
                    return;
                }
                
                log(`?? Token: ${token.substring(0, 30)}...`, 'info');
                
                const baseURL = API_CONFIG.getBaseURL();
                const url = `${baseURL}/api/cliente/empresas`;
                log(`?? GET ${url}`, 'info');
                
                const response = await fetch(url, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                log(`?? Status: ${response.status}`, response.ok ? 'success' : 'error');
                
                const text = await response.text();
                log(`?? Resposta RAW (primeiros 500 chars): <pre>${text.substring(0, 500)}</pre>`, 'info');
                
                try {
                    const data = JSON.parse(text);
                    log(`?? JSON Parseado: <pre>${JSON.stringify(data, null, 2)}</pre>`, 'info');
                    
                    if (data.success && data.data) {
                        log(`? SUCESSO! ${data.data.length} empresas encontradas`, 'success');
                        
                        data.data.forEach((emp, i) => {
                            log(`  ${i+1}. ${emp.nome} (${emp.ramo}) - ${emp.meus_pontos || 0} pontos`, 'success');
                        });
                    } else {
                        log(`?? Resposta não tem success=true ou data`, 'error');
                    }
                } catch (parseError) {
                    log(`? ERRO AO FAZER PARSE DO JSON: ${parseError.message}`, 'error');
                }
            } catch (error) {
                log(`? ERRO NA REQUISIÇÃO: ${error.message}`, 'error');
            }
        }
        
        // Auto-detectar token existente
        window.addEventListener('load', () => {
            const token = localStorage.getItem('tem_de_tudo_token');
            if (token) {
                log(`?? Token encontrado no localStorage: ${token.substring(0, 30)}...`, 'info');
            } else {
                log(`?? Nenhum token no localStorage. Clique em "FAZER LOGIN" primeiro.`, 'info');
            }
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Login Direto</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #1a1a2e; color: #fff; }
        .resultado { background: #2a2a3e; padding: 15px; margin: 10px 0; border-radius: 8px; }
        button { padding: 12px 24px; background: #667eea; color: #fff; border: none; border-radius: 6px; cursor: pointer; margin: 5px; }
        button:hover { background: #764ba2; }
        .erro { color: #f44336; }
        .sucesso { color: #4caf50; }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <h1>?? Teste de Login Direto</h1>
    <p>API Base: <strong id="apiBase"></strong></p>
    
    <h2>Testes Disponíveis:</h2>
    <button onclick="testarConexao()">1. Testar Conexão</button>
    <button onclick="testarLoginAdmin()">2. Login Admin</button>
    <button onclick="testarLoginCliente()">3. Login Cliente</button>
    <button onclick="testarLoginCliente1()">4. Login Cliente1</button>
    <button onclick="testarCadastro()">5. Teste Cadastro</button>
    
    <div id="resultados"></div>

    <script>
        // Detectar ambiente
        const API_BASE = window.location.hostname.includes('onrender.com') 
            ? window.location.origin 
            : 'http://127.0.0.1:8000';
        
        document.getElementById('apiBase').textContent = API_BASE;
        
        function log(msg, tipo = 'info') {
            const div = document.createElement('div');
            div.className = 'resultado ' + tipo;
            div.innerHTML = `<strong>${new Date().toLocaleTimeString()}</strong>: ${msg}`;
            document.getElementById('resultados').insertBefore(div, document.getElementById('resultados').firstChild);
        }

        async function testarConexao() {
            log('Testando conexão com API...');
            try {
                const response = await fetch(API_BASE + '/api/debug');
                const data = await response.json();
                if (data.status === 'OK') {
                    log('? CONEXÃO OK: ' + JSON.stringify(data), 'sucesso');
                } else {
                    log('?? Resposta inesperada: ' + JSON.stringify(data), 'erro');
                }
            } catch (error) {
                log('? ERRO: ' + error.message, 'erro');
            }
        }

        async function testarLogin(email, senha, nome) {
            log(`Testando login ${nome}: ${email} / ${senha}`);
            try {
                const response = await fetch(API_BASE + '/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password: senha })
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    log(`? LOGIN OK ${nome}: ${data.data.user.name} (${data.data.user.perfil})`, 'sucesso');
                    log(`Token: ${data.data.token.substring(0, 50)}...`, 'sucesso');
                    localStorage.setItem('tem_de_tudo_token', data.data.token);
                } else {
                    log(`? LOGIN FALHOU ${nome}: ${data.message || JSON.stringify(data)}`, 'erro');
                }
            } catch (error) {
                log(`? ERRO ${nome}: ${error.message}`, 'erro');
            }
        }

        function testarLoginAdmin() {
            testarLogin('admin@temdetudo.com', 'admin123', 'Admin');
        }

        function testarLoginCliente() {
            testarLogin('cliente@teste.com', '123456', 'Cliente');
        }

        function testarLoginCliente1() {
            testarLogin('cliente1@email.com', 'senha123', 'Cliente1');
        }

        async function testarCadastro() {
            log('Testando cadastro de novo usuário...');
            const randomEmail = `teste${Date.now()}@email.com`;
            try {
                const response = await fetch(API_BASE + '/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        name: 'Teste Usuario',
                        email: randomEmail,
                        phone: '(11) 99999-9999',
                        cpf: '12345678900',
                        password: '123456',
                        perfil: 'cliente'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    log(`? CADASTRO OK: ${data.data.user.email}`, 'sucesso');
                } else {
                    log(`? CADASTRO FALHOU: ${data.message || JSON.stringify(data)}`, 'erro');
                }
            } catch (error) {
                log(`? ERRO: ${error.message}`, 'erro');
            }
        }

        // Auto-testar ao carregar
        window.addEventListener('load', () => {
            log('Página carregada. Clique nos botões para testar.');
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>?? Teste Sistema - Tem de Tudo</title>
    <script src="/js/config.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 32px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .status {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            border-radius: 12px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
        }
        .status.online { background: rgba(76, 175, 80, 0.1); border-color: rgba(76, 175, 80, 0.5); }
        .status.offline { background: rgba(244, 67, 54, 0.1); border-color: rgba(244, 67, 54, 0.5); }
        
        .section {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .section h2 {
            margin-bottom: 16px;
            font-size: 20px;
            color: #667eea;
        }
        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 12px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
        }
        .result {
            background: rgba(0,0,0,0.4);
            border-radius: 8px;
            padding: 16px;
            margin-top: 12px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .success { color: #4caf50; }
        .error { color: #f44336; }
        .info { color: #2196f3; }
        .warning { color: #ff9800; }
        
        .credential {
            background: rgba(102, 126, 234, 0.1);
            padding: 10px 14px;
            border-radius: 8px;
            margin: 8px 0;
            border-left: 3px solid #667eea;
            font-size: 14px;
        }
        .credential strong {
            color: #667eea;
        }
        
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 14px;
            margin-bottom: 12px;
        }
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
        }
    </style>
    <script src="/js/config.js"></script>
    <script src="/js/auth-manager.js" defer></script>
    <script src="/js/api-client.js" defer></script>
    <script src="/js/validators.js" defer></script>
    <script src="/js/ui-helpers.js" defer></script>
    <script src="/js/auth-guard.js" data-require-auth="cliente"></script>
        <link rel="stylesheet" href="/css/global-unified.css">
    <link rel="stylesheet" href="/css/theme-escuro.css">`n</head>
<body>
    <div class="container">
        <h1>?? Painel de Testes - Sistema</h1>
        <div id="statusBar" class="status">
            <strong id="statusText">? Verificando servidor...</strong><br>
            <span id="apiUrl" style="font-size: 12px; opacity: 0.8;"></span>
        </div>

        <!-- 1. TESTE DE CONEXÃO -->
        <div class="section">
            <h2>1?? Teste de Conexão</h2>
            <button class="btn" onclick="testConnection()">?? Testar Conexão com API</button>
            <div id="connectionResult" class="result" style="display: none;"></div>
        </div>

        <!-- 2. TESTE DE LOGIN -->
        <div class="section">
            <h2>2?? Teste de Login</h2>
            <input type="email" id="loginEmail" placeholder="Email" value="cliente1@email.com">
            <input type="password" id="loginPassword" placeholder="Senha" value="senha123">
            <button class="btn" onclick="testLogin()">?? Fazer Login</button>
            
            <div class="grid" style="margin-top: 10px;">
                <button class="btn btn-secondary" onclick="setCredentials('admin@temdetudo.com', 'admin123')">?? Admin</button>
                <button class="btn btn-secondary" onclick="setCredentials('cliente@teste.com', '123456')">?? Cliente</button>
                <button class="btn btn-secondary" onclick="setCredentials('empresa@teste.com', '123456')">?? Empresa</button>
                <button class="btn btn-secondary" onclick="setCredentials('cliente1@email.com', 'senha123')">?? Cliente 1</button>
            </div>
            
            <div id="loginResult" class="result" style="display: none;"></div>
        </div>

        <!-- 3. TESTE DE EMPRESAS -->
        <div class="section">
            <h2>3?? Listar Empresas (Autenticado)</h2>
            <button class="btn" onclick="testEmpresas()">?? Buscar Empresas</button>
            <div id="empresasResult" class="result" style="display: none;"></div>
        </div>

        <!-- 4. TESTE DE CADASTRO -->
        <div class="section">
            <h2>4?? Teste de Cadastro</h2>
            <input type="text" id="regName" placeholder="Nome Completo" value="Teste Usuario">
            <input type="email" id="regEmail" placeholder="Email" value="teste@email.com">
            <input type="tel" id="regPhone" placeholder="Telefone" value="(11) 99999-9999">
            <input type="text" id="regCpf" placeholder="CPF" value="123.456.789-00">
            <input type="password" id="regPassword" placeholder="Senha" value="123456">
            <button class="btn" onclick="testRegister()">?? Cadastrar</button>
            <div id="registerResult" class="result" style="display: none;"></div>
        </div>

        <!-- 5. CREDENCIAIS DISPONÍVEIS -->
        <div class="section">
            <h2>5?? Credenciais de Teste</h2>
            <div class="credential">
                <strong>Admin:</strong> admin@temdetudo.com / admin123
            </div>
            <div class="credential">
                <strong>Cliente:</strong> cliente@teste.com / 123456
            </div>
            <div class="credential">
                <strong>Empresa:</strong> empresa@teste.com / 123456
            </div>
            <div class="credential">
                <strong>Cliente 1-50:</strong> cliente1@email.com até cliente50@email.com / senha123
            </div>
        </div>
    </div>

    <script>
        // Verificar status do servidor ao carregar
        window.addEventListener('load', async () => {
            document.getElementById('apiUrl').textContent = `API: ${API_CONFIG.getBaseURL()}`;
            const isOnline = await API_CONFIG.checkHealth();
            const statusBar = document.getElementById('statusBar');
            const statusText = document.getElementById('statusText');
            
            if (isOnline) {
                statusBar.className = 'status online';
                statusText.innerHTML = '? Servidor ONLINE e funcionando!';
            } else {
                statusBar.className = 'status offline';
                statusText.innerHTML = '? Servidor OFFLINE ou com erro';
            }
        });

        function setCredentials(email, password) {
            document.getElementById('loginEmail').value = email;
            document.getElementById('loginPassword').value = password;
        }

        async function testConnection() {
            const resultDiv = document.getElementById('connectionResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<span class="info">? Testando conexão...</span>';
            
            try {
                const response = await fetch(API_CONFIG.debug);
                const data = await response.json();
                
                if (response.ok && data.status === 'OK') {
                    resultDiv.innerHTML = `
                        <span class="success">? SUCESSO! Servidor respondendo</span><br><br>
                        <strong>Status:</strong> ${data.status}<br>
                        <strong>Mensagem:</strong> ${data.message}<br>
                        <strong>Banco de Dados:</strong> ${data.database.connection} (${data.database.status})<br>
                        <strong>Ambiente:</strong> ${data.environment}<br>
                        <strong>Timestamp:</strong> ${data.timestamp}
                    `;
                } else {
                    resultDiv.innerHTML = `<span class="warning">?? Resposta inesperada:</span><br><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<span class="error">? ERRO ao conectar:</span><br>${error.message}`;
            }
        }

        async function testLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const resultDiv = document.getElementById('loginResult');
            
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<span class="info">? Fazendo login...</span>';
            
            try {
                const response = await fetch(API_CONFIG.login, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    localStorage.setItem('tem_de_tudo_token', data.data.token);
                    localStorage.setItem('tem_de_tudo_user', JSON.stringify(data.data.user));
                    
                    resultDiv.innerHTML = `
                        <span class="success">? LOGIN SUCESSO!</span><br><br>
                        <strong>Nome:</strong> ${data.data.user.name}<br>
                        <strong>Email:</strong> ${data.data.user.email}<br>
                        <strong>Tipo:</strong> ${data.data.user.perfil || data.data.user.user_type}<br>
                        <strong>Token:</strong> ${data.data.token.substring(0, 40)}...<br>
                        <strong>Pontos:</strong> ${data.data.user.pontos || 0}
                    `;
                } else {
                    resultDiv.innerHTML = `<span class="error">? ERRO no login:</span><br>${data.message || 'Credenciais inválidas'}`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<span class="error">? ERRO:</span><br>${error.message}`;
            }
        }

        async function testEmpresas() {
            const resultDiv = document.getElementById('empresasResult');
            const token = localStorage.getItem('tem_de_tudo_token');
            
            if (!token) {
                resultDiv.style.display = 'block';
                resultDiv.innerHTML = '<span class="warning">?? Faça login primeiro!</span>';
                return;
            }
            
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<span class="info">? Buscando empresas...</span>';
            
            try {
                const response = await fetch(API_CONFIG.empresas, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/json'
                    }
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    const empresas = data.data;
                    let html = `<span class="success">? ${empresas.length} empresas encontradas!</span><br><br>`;
                    
                    empresas.slice(0, 5).forEach((emp, i) => {
                        html += `<strong>${i+1}. ${emp.nome}</strong><br>`;
                        html += `Endereço: ${emp.endereco || 'N/A'}<br>`;
                        html += `Telefone: ${emp.telefone || 'N/A'}<br><br>`;
                    });
                    
                    if (empresas.length > 5) {
                        html += `<span class="info">... e mais ${empresas.length - 5} empresas</span>`;
                    }
                    
                    resultDiv.innerHTML = html;
                } else {
                    resultDiv.innerHTML = `<span class="error">? ERRO:</span><br>${data.message || 'Erro ao buscar empresas'}`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<span class="error">? ERRO:</span><br>${error.message}`;
            }
        }

        async function testRegister() {
            const resultDiv = document.getElementById('registerResult');
            const formData = {
                name: document.getElementById('regName').value,
                email: document.getElementById('regEmail').value,
                phone: document.getElementById('regPhone').value,
                cpf: document.getElementById('regCpf').value.replace(/\D/g, ''),
                password: document.getElementById('regPassword').value,
                perfil: 'cliente'
            };
            
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<span class="info">? Cadastrando...</span>';
            
            try {
                const response = await fetch(API_CONFIG.register, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    resultDiv.innerHTML = `
                        <span class="success">? CADASTRO SUCESSO!</span><br><br>
                        <strong>Nome:</strong> ${data.data.user.name}<br>
                        <strong>Email:</strong> ${data.data.user.email}<br>
                        <strong>Token:</strong> ${data.data.token.substring(0, 40)}...
                    `;
                } else {
                    resultDiv.innerHTML = `<span class="error">? ERRO:</span><br>${data.message || JSON.stringify(data)}`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<span class="error">? ERRO:</span><br>${error.message}`;
            }
        }
    </script>
</body>
</html>

