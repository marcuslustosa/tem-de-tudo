<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#6F1AB6">
<title>‚öôÔ∏è Configura√ß√µes Premium - Tem de Tudo</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="/css/style-unificado.css?v=3">
</head>
<body>
<div class="header">
<div class="header-content">
<a href="/app-perfil.html" class="back-btn">
<i class="fas fa-arrow-left"></i>
</a>
<h1>‚öôÔ∏è Configura√ß√µes Premium</h1>
</div>
</div>
<div class="menu-section">
<div class="section-title">üîî Notifica√ß√µes</div>
<div class="menu-items">
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-bell"></i>
</div>
<div class="menu-item-text">
<label>Notifica√ß√µes Push</label>
<div class="menu-item-desc">Receber alertas em tempo real</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="push-notifications" checked>
<div class="slider"></div>
</div>
</div>
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-tags"></i>
</div>
<div class="menu-item-text">
<label>Alertas de Promo√ß√µes</label>
<div class="menu-item-desc">Novos cupons e ofertas especiais</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="promo-alerts" checked>
<div class="slider"></div>
</div>
</div>
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-gift"></i>
</div>
<div class="menu-item-text">
<label>Novos B√¥nus</label>
<div class="menu-item-desc">Pontos extras e recompensas</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="bonus-alerts" checked>
<div class="slider"></div>
</div>
</div>
</div>
</div>
<div class="menu-section">
<div class="section-title">üîí Privacidade</div>
<div class="menu-items">
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-location-arrow"></i>
</div>
<div class="menu-item-text">
<label>Usar Localiza√ß√£o</label>
<div class="menu-item-desc">Para check-ins autom√°ticos por GPS</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="location-access" checked>
<div class="slider"></div>
</div>
</div>
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-user-friends"></i>
</div>
<div class="menu-item-text">
<label>Perfil P√∫blico</label>
<div class="menu-item-desc">Vis√≠vel para outros usu√°rios</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="public-profile">
<div class="slider"></div>
</div>
</div>
</div>
</div>
<div class="menu-section">
<div class="section-title">üì± Aplicativo</div>
<div class="menu-items">
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-moon"></i>
</div>
<div class="menu-item-text">
<label>Tema Escuro</label>
<div class="menu-item-desc">Interface premium dark mode</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="dark-theme" checked>
<div class="slider"></div>
</div>
</div>
<div class="menu-item">
<div class="menu-item-content">
<div class="menu-item-icon">
<i class="fas fa-volume-up"></i>
</div>
<div class="menu-item-text">
<label>Som de Notifica√ß√£o</label>
<div class="menu-item-desc">Efeitos sonoros e feedback</div>
</div>
</div>
<div class="toggle">
<input type="checkbox" id="notification-sound" checked>
<div class="slider"></div>
</div>
</div>
</div>
</div>
<div class="menu-section">
<div class="section-title">‚ö° A√ß√µes</div>
<div class="action-buttons">
<button class="action-btn" onclick="limparCache()">
<i class="fas fa-broom"></i>
                Limpar Cache
            </button>
<button class="action-btn" onclick="sincronizarDados()">
<i class="fas fa-sync"></i>
                Sincronizar Dados
            </button>
<button class="action-btn danger" onclick="confirmarLogout()">
<i class="fas fa-sign-out-alt"></i>
                Sair da Conta
            </button>
</div>
</div>
<nav class="bottom-nav">
<div class="nav-items">
<a href="/app-inicio.html" class="nav-item">
<i class="fas fa-home"></i>
<span>In√≠cio</span>
</a>
<a href="/app-empresas.html" class="nav-item">
<i class="fas fa-search"></i>
<span>Buscar</span>
</a>
<a href="/app-cupons.html" class="nav-item">
<i class="fas fa-ticket-alt"></i>
<span>Cupons</span>
</a>
<a href="/app-pontos.html" class="nav-item">
<i class="fas fa-coins"></i>
<span>Pontos</span>
</a>
<a href="/app-perfil.html" class="nav-item active">
<i class="fas fa-user"></i>
<span>Perfil</span>
</a>
</div>
</nav>
<script>
        // Salvar configura√ß√µes no localStorage
        const configuracoes = {
            pushNotifications: true,
            promoAlerts: true,
            bonusAlerts: true,
            locationAccess: true,
            publicProfile: false,
            darkTheme: true,
            notificationSound: true
        };

        document.addEventListener('DOMContentLoaded', () => {
            // Verificar autentica√ß√£o
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = 'entrar.html';
                return;
            }

            // Carregar configura√ß√µes salvas
            carregarConfiguracoes();
            
            // Adicionar listeners para os toggles
            document.querySelectorAll('.toggle input').forEach(toggle => {
                toggle.addEventListener('change', salvarConfiguracao);
            });
        });

        function carregarConfiguracoes() {
            const configSalvas = localStorage.getItem('app-configuracoes');
            if (configSalvas) {
                const config = JSON.parse(configSalvas);
                Object.assign(configuracoes, config);
            }

            // Aplicar configura√ß√µes aos toggles
            document.getElementById('push-notifications').checked = configuracoes.pushNotifications;
            document.getElementById('promo-alerts').checked = configuracoes.promoAlerts;
            document.getElementById('bonus-alerts').checked = configuracoes.bonusAlerts;
            document.getElementById('location-access').checked = configuracoes.locationAccess;
            document.getElementById('public-profile').checked = configuracoes.publicProfile;
            document.getElementById('dark-theme').checked = configuracoes.darkTheme;
            document.getElementById('notification-sound').checked = configuracoes.notificationSound;
        }

        function salvarConfiguracao(event) {
            const toggleId = event.target.id;
            const valor = event.target.checked;

            // Mapear IDs para propriedades
            const mapeamento = {
                'push-notifications': 'pushNotifications',
                'promo-alerts': 'promoAlerts',
                'bonus-alerts': 'bonusAlerts',
                'location-access': 'locationAccess',
                'public-profile': 'publicProfile',
                'dark-theme': 'darkTheme',
                'notification-sound': 'notificationSound'
            };

            if (mapeamento[toggleId]) {
                configuracoes[mapeamento[toggleId]] = valor;
                localStorage.setItem('app-configuracoes', JSON.stringify(configuracoes));
                
                // Aplicar configura√ß√µes espec√≠ficas
                aplicarConfiguracao(mapeamento[toggleId], valor);
                
                // Feedback visual
                mostrarFeedback('Configura√ß√£o salva!', 'success');
            }
        }

        function aplicarConfiguracao(tipo, valor) {
            switch(tipo) {
                case 'darkTheme':
                    if (!valor) {
                        // Implementar tema claro no futuro
                        console.log('Tema claro ser√° implementado em breve');
                    }
                    break;
                case 'locationAccess':
                    if (valor && 'geolocation' in navigator) {
                        navigator.geolocation.getCurrentPosition(
                            () => console.log('Permiss√£o de localiza√ß√£o concedida'),
                            () => console.log('Permiss√£o de localiza√ß√£o negada')
                        );
                    }
                    break;
                case 'pushNotifications':
                    if (valor && 'Notification' in window) {
                        Notification.requestPermission();
                    }
                    break;
            }
        }

        function limparCache() {
            if (confirm('Tem certeza que deseja limpar o cache? Isso pode afetar a performance do app.')) {
                // Limpar cache espec√≠fico do app
                const keysToKeep = ['token', 'user', 'app-configuracoes'];
                const keysToRemove = [];
                
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (!keysToKeep.includes(key)) {
                        keysToRemove.push(key);
                    }
                }
                
                keysToRemove.forEach(key => localStorage.removeItem(key));
                
                // Limpar cache do navegador se dispon√≠vel
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => caches.delete(name));
                    });
                }
                
                mostrarFeedback('Cache limpo com sucesso!', 'success');
            }
        }

        function sincronizarDados() {
            mostrarFeedback('Sincronizando dados...', 'info');
            
            // Simular sincroniza√ß√£o
            setTimeout(() => {
                mostrarFeedback('Dados sincronizados!', 'success');
            }, 2000);
        }

        function confirmarLogout() {
            if (confirm('Tem certeza que deseja sair da sua conta?')) {
                // Limpar dados do usu√°rio
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                
                // Manter configura√ß√µes do app
                mostrarFeedback('Saindo da conta...', 'info');
                
                setTimeout(() => {
                    window.location.href = 'entrar.html';
                }, 1000);
            }
        }

        function mostrarFeedback(mensagem, tipo) {
            // Criar elemento de feedback
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${tipo === 'success' ? 'linear-gradient(135deg, #00d4aa, #00c896)' : tipo === 'error' ? 'linear-gradient(135deg, #ff6b6b, #ff5252)' : 'linear-gradient(135deg, #6F1AB6, #9333EA)'};
                color: ${tipo === 'success' || tipo === 'error' ? '#fff' : '#0a0a0f'};
                padding: 12px 24px;
                border-radius: 16px;
                font-weight: 600;
                font-size: 14px;
                z-index: 10000;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
                animation: slideDown 0.3s ease;
            `;
            
            feedback.textContent = mensagem;
            document.body.appendChild(feedback);
            
            // Remover ap√≥s 3 segundos
            setTimeout(() => {
                feedback.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => document.body.removeChild(feedback), 300);
            }, 3000);
        }

        // Adicionar estilos para anima√ß√µes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translate(-50%, -100%); opacity: 0; }
                to { transform: translate(-50%, 0); opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translate(-50%, 0); opacity: 1; }
                to { transform: translate(-50%, -100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
