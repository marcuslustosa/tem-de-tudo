<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#6F1AB6">
<title>üè¢ Dashboard Empresa - Tem de Tudo</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="/css/style-unificado.css?v=3">
</head>
<body>
<div class="header">
<div class="header-content">
<div class="header-left">
<div class="logo-empresa">
<i class="fas fa-gem logo-icon"></i>
<span class="logo-text">Tem de Tudo</span>
<div class="badge-empresa">
<i class="fas fa-store"></i> Empresa
                    </div>
</div>
<h1>Dashboard Empresa</h1>
<p>Gerencie clientes, promo√ß√µes e monitore performance</p>
</div>
<div class="header-right">
<div class="empresa-info">
<div class="name" id="empresaNome">Minha Empresa</div>
<div class="category" id="empresaCategoria">Estabelecimento</div>
</div>
<button class="btn-logout" onclick="logout()">
<i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
</div>
</div>
</div>
<div class="main">
<!-- Stats Grid -->
<div class="stats-grid" id="statsGrid">
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="totalClientes">284</div>
<div class="stat-label">Clientes Cadastrados</div>
<div class="stat-change positive">+18 esta semana</div>
</div>
<div class="stat-icon clientes">
<i class="fas fa-users"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="checkinsHoje">47</div>
<div class="stat-label">Check-ins Hoje</div>
<div class="stat-change positive">+12% ontem</div>
</div>
<div class="stat-icon checkins">
<i class="fas fa-qrcode"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="pontosDistribuidos">3.2k</div>
<div class="stat-label">Pontos Distribu√≠dos</div>
<div class="stat-change positive">+8% esta semana</div>
</div>
<div class="stat-icon pontos">
<i class="fas fa-coins"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="promocoesAtivas">5</div>
<div class="stat-label">Promo√ß√µes Ativas</div>
<div class="stat-change positive">2 novas</div>
</div>
<div class="stat-icon promocoes">
<i class="fas fa-tags"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="receitaMensal">R$ 12.8k</div>
<div class="stat-label">Receita Mensal</div>
<div class="stat-change positive">+25% m√™s passado</div>
</div>
<div class="stat-icon receita">
<i class="fas fa-chart-line"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div>
<div class="stat-value" id="avaliacaoMedia">4.7</div>
<div class="stat-label">Avalia√ß√£o M√©dia</div>
<div class="stat-change positive">89 avalia√ß√µes</div>
</div>
<div class="stat-icon avaliacoes">
<i class="fas fa-star"></i>
</div>
</div>
</div>
</div>
<!-- Quick Actions -->
<div class="quick-actions">
<a href="/empresa-scanner.html" class="action-btn">
<i class="fas fa-camera"></i>
                Scanner QR Code
            </a>
<a href="/empresa-clientes.html" class="action-btn">
<i class="fas fa-users"></i>
                Meus Clientes
            </a>
<a href="/empresa-promocoes.html" class="action-btn">
<i class="fas fa-tags"></i>
                Minhas Promo√ß√µes
            </a>
<a href="/empresa-nova-promocao.html" class="action-btn">
<i class="fas fa-plus"></i>
                Nova Promo√ß√£o
            </a>
<a href="/empresa-relatorios.html" class="action-btn">
<i class="fas fa-chart-bar"></i>
                Relat√≥rios
            </a>
<a href="/empresa-configuracoes.html" class="action-btn">
<i class="fas fa-cogs"></i>
                Configura√ß√µes
            </a>
</div>
<!-- Recent Activity -->
<div class="section-title">
<i class="fas fa-clock"></i>
            Atividade Recente
        </div>
<div class="activity-list" id="activityList">
<div class="activity-item">
<div class="activity-icon checkin">
<i class="fas fa-qrcode"></i>
</div>
<div class="activity-content">
<div class="activity-title">Check-in realizado</div>
<div class="activity-desc">Maria Silva fez check-in e ganhou 15 pontos</div>
</div>
<div class="activity-time">h√° 3 min</div>
</div>
<div class="activity-item">
<div class="activity-icon promocao">
<i class="fas fa-tags"></i>
</div>
<div class="activity-content">
<div class="activity-title">Promo√ß√£o resgatada</div>
<div class="activity-desc">Jo√£o Costa resgatou "10% de desconto"</div>
</div>
<div class="activity-time">h√° 15 min</div>
</div>
<div class="activity-item">
<div class="activity-icon cliente">
<i class="fas fa-user-plus"></i>
</div>
<div class="activity-content">
<div class="activity-title">Novo cliente</div>
<div class="activity-desc">Ana Oliveira se cadastrou como cliente</div>
</div>
<div class="activity-time">h√° 1h</div>
</div>
<div class="activity-item">
<div class="activity-icon avaliacao">
<i class="fas fa-star"></i>
</div>
<div class="activity-content">
<div class="activity-title">Nova avalia√ß√£o</div>
<div class="activity-desc">Carlos Santos avaliou com 5 estrelas</div>
</div>
<div class="activity-time">h√° 2h</div>
</div>
<div class="activity-item">
<div class="activity-icon promocao">
<i class="fas fa-bullhorn"></i>
</div>
<div class="activity-content">
<div class="activity-title">Promo√ß√£o criada</div>
<div class="activity-desc">Nova promo√ß√£o "Happy Hour" foi ativada</div>
</div>
<div class="activity-time">h√° 4h</div>
</div>
</div>
</div>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar autentica√ß√£o empresa
            verificarAuth();
            
            // Carregar dados do dashboard
            carregarDashboard();
            
            // Atualizar dados a cada 30 segundos
            setInterval(carregarDashboard, 30000);
        });

        function verificarAuth() {
            const user = localStorage.getItem('user');
            const token = localStorage.getItem('token');
            
            if (!user || !token) {
                window.location.href = 'entrar.html';
                return;
            }
            
            try {
                const userData = JSON.parse(user);
                if (userData.perfil !== 'empresa') {
                    alert('Acesso negado. Apenas empresas podem acessar esta √°rea.');
                    localStorage.clear();
                    window.location.href = 'entrar.html';
                    return;
                }
                
                // Atualizar informa√ß√µes da empresa
                document.getElementById('empresaNome').textContent = userData.name || 'Minha Empresa';
                document.getElementById('empresaCategoria').textContent = userData.categoria || 'Estabelecimento';
            } catch (error) {
                console.error('Erro ao verificar autentica√ß√£o:', error);
                localStorage.clear();
                window.location.href = 'entrar.html';
            }
        }

        async function carregarDashboard() {
            try {
                // Simular dados reais do dashboard da empresa
                const dashboardData = {
                    totalClientes: Math.floor(Math.random() * 50) + 250,
                    checkinsHoje: Math.floor(Math.random() * 20) + 35,
                    pontosDistribuidos: (Math.random() * 1 + 2.8).toFixed(1) + 'k',
                    promocoesAtivas: Math.floor(Math.random() * 3) + 4,
                    receitaMensal: 'R$ ' + (Math.random() * 5 + 10).toFixed(1) + 'k',
                    avaliacaoMedia: (Math.random() * 0.5 + 4.5).toFixed(1)
                };

                // Atualizar estat√≠sticas
                document.getElementById('totalClientes').textContent = dashboardData.totalClientes;
                document.getElementById('checkinsHoje').textContent = dashboardData.checkinsHoje;
                document.getElementById('pontosDistribuidos').textContent = dashboardData.pontosDistribuidos;
                document.getElementById('promocoesAtivas').textContent = dashboardData.promocoesAtivas;
                document.getElementById('receitaMensal').textContent = dashboardData.receitaMensal;
                document.getElementById('avaliacaoMedia').textContent = dashboardData.avaliacaoMedia;
                
                // Adicionar efeito de atualiza√ß√£o
                const statValues = document.querySelectorAll('.stat-value');
                statValues.forEach(stat => {
                    stat.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        stat.style.transform = 'scale(1)';
                    }, 200);
                });
                
            } catch (error) {
                console.error('Erro ao carregar dashboard:', error);
            }
        }

        function logout() {
            if (confirm('Tem certeza que deseja sair do painel da empresa?')) {
                localStorage.clear();
                window.location.href = 'entrar.html';
            }
        }

        // Adicionar interatividade aos cards
        document.querySelectorAll('.stat-card').forEach(card => {
            card.addEventListener('click', function() {
                this.style.transform = 'translateY(-6px)';
                setTimeout(() => {
                    this.style.transform = 'translateY(-4px)';
                }, 150);
            });
        });

        // Adicionar interatividade aos bot√µes de a√ß√£o
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                // Adicionar feedback visual
                this.style.transform = 'translateY(-4px)';
                this.style.boxShadow = '0 12px 35px rgba(111, 26, 182, 0.2)';
                
                setTimeout(() => {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 8px 25px rgba(111, 26, 182, 0.15)';
                }, 150);
            });
        });
    </script>
</body>
</html>